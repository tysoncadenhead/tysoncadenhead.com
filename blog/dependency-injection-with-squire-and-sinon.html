<!DOCTYPE html>
<!--[if IE 6]>
    <html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
    <html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
    <html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
    <html lang="en-US">
<!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
        <meta name="google-site-verification" content="AeV4w7EOhEv3lU1OT8KOM7jRS0C6jDAsZyMaG38t1g4" />
        <meta property="og:image" content="http://www.tysoncadenhead.com/images/blog/dependency-injection-with-squire-and-sinon.jpg"/>
        <meta property="og:title" content="Dependency Injection With Squire and Sinon"/>
        <meta property="og:url" content="http://www.tysoncadenhead.com"/>
        <meta property="og:site_name" content="Tyson Cadenhead"/>
        <meta property="og:description" content="Thoughts on productivity, web apps and JavaScript" />
        <title>Dependency Injection With Squire and Sinon</title>
        <link rel="shortcut icon" href="/images/favicon.ico" /> 
        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/app.css" />
        <link rel="alternate" type="application/rss+xml" title="Dependency Injection With Squire and Sinon Thoughts on productivity, web apps and JavaScript" href="http://www.tysoncadenhead.com/feed.xml" />
        
    </head>
    <body>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-19696495-1']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
        </script>
        <div id="fb-root"></div>
        <div class="container">
            <div class="header" id="top">
                <div class="span12">
                    <div class="span4 left">
                        <h1 id="logo"><a href="/"><img src="/images/logo-new.png" /></a></h1>
                    </div>
                    <div id="nav-toggle">
                        <span></span>
                    </div>
                    <div class="span6 right">
                        <div class="navbar navbar-inverse">
                            <div class="navbar-inner right">
                                <ul class="nav right">
                                  <li><a href="/">Blog</a></li>
                                  <li><a href="/presentations">Presentations</a></li>
                                  <li><a href="/about">About Me</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span12">
                
                    
                    
                        
                        

<script type="text/javascript">
var posts = {"testing-angular-controllers-with-karma":{"published":true,"title":"Testing Angular Controllers With Karma","tags":["angular","karma","unit testing"],"category":"code","date":"10/10/2014","thumbnail":"/images/blog/tdd.png","slug":"testing-angular-controllers-with-karma"},"new-job-at-aloompa":{"published":true,"title":"My New Job At Aloompa","tags":["jobs","life"],"category":"life","date":"9-24-2014","thumbnail":"/images/blog/aloompa.png"},"getting-started-with-react":{"published":true,"title":"Getting Started With React","tags":["react"],"category":"code","date":"9-08-2014","thumbnail":"/images/blog/react.png","slug":"getting-started-with-react"},"automatically-refresh-your-browser-when-your-code-changes-with-bowsersync":{"published":true,"title":"Automatically Refresh Your Browser When Your Code Changes With BrowserSync","tags":["browsers","browsersync"],"category":"code","date":"9-03-2014","thumbnail":"/images/blog/browsersync.png","yield":"<p>When I first started writing client-side applications, the process was terrible. I had to save my file and then flip over to my browser to check my results. As a result, I was clicking two buttons every time I wanted to save a file. To make matters worse, I had to repeat the process to test my application in multiple browsers. To test a minimum of Chrome, Firefox and a single version of Internet Explorer, I was clicking 4 buttons. To repeat that flow over and over again to test incremental changes was soul killing.</p>\n<!-- more -->\n\n<p><img src=\"/images/blog/auqaman.png\" alt=\"\"></p>\n<h3>LiveReload</h3>\n<p>A few years ago, a solution called <a href=\"http://livereload.com/\">LiveReload</a> was introduced to address this problem. Using LiveReload, I could tell my computer to watch a certain directory for changes. When a change occurred in one of my files, it would refresh the browser. My workflow with LiveReload was much easier, but the setup was a pain. Anytime I&#39;d set up a new project, I found myself spending an inordinate amount of time setting up a grunt task to watch certain files and keep my browser up to date. Ultimately, I found myself slipping back into the old flow of development on smaller projects because it was too much of a pain to get working.</p>\n<p><img src=\"/images/blog/superman.png\" alt=\"\"></p>\n<h3>Enter BrowserSync</h3>\n<p>A few days ago, I tried out <a href=\"http://www.browsersync.io/\">BrowserSync</a> for the first time. BrowserSync is available as a Grunt or Gulp plugin, but it is also really simple to run as a process in the terminal.</p>\n<p>BrowserSync runs with NodeJS, so if you already have Node installed, you just need to install the <code>browser-sync</code> package like this:</p>\n<pre><code class=\"language-bash\">npm install -g browser-sync</code></pre>\n<p>Once BrowserSync is installed, you can use it to watch static files or you can create a proxy for a dynamic site. For example, if I have a SailsJS application, I could watch the files in the <code>public</code> directory like this:</p>\n<pre><code class=\"language-bash\">browser-sync start --proxy &quot;localhost:3117&quot; --files &quot;public/**/*&quot;</code></pre>\n<p>BrowserSync will create a proxy to serve the site through and open a browser window pointing to that proxy. Now, anytime I change a file in my <code>public</code> directory, the browser window will be refreshed and I will see the latest code.</p>\n<p>BrowserSync doesn&#39;t care what backend technology you are using. I typically write in Node, but if I was using PHP or Ruby, it would work exactly the same.</p>\n<p>I have been really impressed with BrowserSync so far. Try it out, you may find yourself in a happier place.</p>\n"},"how-to-upload-remote-images-with-sails-js":{"published":true,"title":"How To Upload Remote Images With SailsJS","tags":["sailsjs","amazons3"],"category":"code","date":"8-18-2014","thumbnail":"/images/blog/how-to-upload-remote-images-with-sails-js.png"},"communicating-between-controllers-in-angular":{"published":true,"title":"Communicating Between Controllers In Angular","tags":["angular","pubsub"],"category":"code","date":"8-11-2014","thumbnail":"/images/blog/communicating-between-controllers-in-angular.jpg","slug":"communicating-between-controllers-in-angular","yield":"<p>In Angular, there are times when you will want one controller to be able to communicate with other controllers. For example, if you want your user to be able to click a button and for a different controller to be aware of the UI change.</p>\n<!-- more -->\n\n<p>Take this markup as an example:</p>\n<pre><code class=\"language-html\">&lt;div ng-app=&quot;myApp&quot;&gt;\n    &lt;div ng-controller=&quot;Ctrl1&quot;&gt;\n        The current number is: {{number}}\n    &lt;/div&gt;\n    &lt;div ng-controller=&quot;Ctrl2&quot;&gt;\n        &lt;button ng-click=&quot;buttonClick()&quot;&gt;Click Me&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;</code></pre>\n<p>It&#39;s a very basic contrived example, but we have a controller called &quot;Ctrl1&quot; that has a number in its scope. We also have a totally separate controller called &quot;Ctrl2&quot; that has a button with a click event on it.</p>\n<p>Our entire application might look like this:</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.number = 1;\n}]);\n\nmyApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.buttonClick = function () {\n        console.log(&#39;button was clicked&#39;);\n    };\n}]);</code></pre>\n<p>We obviously don&#39;t want to reference <code>Ctrl2</code> in <code>Ctrl1</code>. That is what we call &quot;tight coupling&quot; and it is a sure recipe for building an app that will  fall apart when changes are made. What we want to do is broadcast an event to let any controllers in the application know that there has been a change. That way, the controllers that are interested will react to the event, but no controller is directly communicating with any other controller. In other words, all <code>Ctrl1</code> knows is that it is broadcasting an event. All that <code>Ctrl2</code> knows is that it is listening for an event. They are completely unaware of the existence of one another.</p>\n<p>First of, we will need to modify <code>Ctrl1</code> to listen for an event. Angular gives us the ability to listen for and emit events on any module, but it won&#39;t do any good to listen for an event on the <code>$scope</code> of <code>Ctrl1</code> itself because <code>Ctrl2</code> can&#39;t send an event to it. It doesn&#39;t know that it exists. Instead, we will need to inject the $rootScope into our controller. The $rootScope is the application itself.</p>\n<p>Using the $rootScope and the <code>$on</code> method, we can listen for any events that are broadcast to the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.number = 1;\n    $rootScope.$on(&#39;buttonClicked&#39;, function () {\n        $scope.number++;\n    });\n}]);</code></pre>\n<p>The <code>$on</code> event that is triggered has two arguments, the context of the event and the data that is being broadcast. This means that you could actually pass an object of data with the event.</p>\n<p>Last of all, we will need to update <code>Ctrl2</code> to broadcast an event when the button is clicked. Again, this will need to happen on the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">myApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.buttonClick = function () {\n        $rootScope.$broadcast(&#39;buttonClicked&#39;);\n    };\n}]);</code></pre>\n<p>As you can see, sending messages between controllers is actually pretty simple. If you&#39;d like to see this all together, I&#39;ve created a <a href=\"http://jsfiddle.net/63KWh/\">Fiddle</a> that you can try out. For more advanced messaging, I would recommend checking out Jonathan Creamer&#39;s article, &quot;<a href=\"http://jonathancreamer.com/an-angular-event-bus-with-postal-js/\">An angular.js event bus with postal.js</a>&quot; where he shows how do this same thing using Postal. His approach requires another library, but it does provide a more robust API to work with.</p>\n<p>How are you handling communication between modules and controllers in Angular? I&#39;d love to hear your thoughts.</p>\n"},"the-state-of-javascript-a-shift-from-imperative-to-declarative":{"published":true,"title":"The State Of JavaScript - A Shift From Imperative To Declarative","tags":["javascript"],"category":"code","date":"8-04-2014","thumbnail":"/images/blog/the-state-of-javascript-a-shift-from-imperative-to-declarative.jpg"},"using-knockout-for-progressive-enhancement-on-lists":{"published":true,"title":"Progressive Enhancement With the Knockout Foreach Binding","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-28-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement-on-lists.jpg"},"using-knockout-for-progressive-enhancement":{"published":true,"title":"Using Knockout For Progressive Enhancement","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-14-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement.jpg","slug":"using-knockout-for-progressive-enhancement"},"how_to_not_be_a_cyborg_when_you_work_on_computers":{"published":true,"title":"How To Not Be A Cyborg When You Work On Computers","tags":["productivity","working-from-home","work-life-balance"],"category":"productivity","date":"7-03-2014","thumbnail":"/images/blog/cyborg.png","slug":"how_to_not_be_a_cyborg_when_you_work_on_computers"},"syncing-angular-with-sails":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":7,"lastPart":true,"title":"Syncing Angular With Sails","tags":["sailsjs","angular"],"category":"code","date":"6-30-2014","thumbnail":"/images/blog/syncing-angular-with-sails.png","slug":"syncing-angular-with-sails"},"sails-models":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":6,"title":"Sails Models","tags":["sailsjs"],"category":"code","date":"6-27-2014","thumbnail":"/images/blog/sails-models.png","slug":"sails-models"},"angular-controllers-with-sails-app":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":5,"title":"Angular Controllers","tags":["angular"],"category":"code","date":"6-12-2014","thumbnail":"/images/blog/angular-controllers-with-sails-app.png","yield":"<div class=\"series-placement\">\n\n    This is part 5 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/adding-dependencies\">Previous Post In This Series</a> | <a href=\"/blog/sails-models\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>In the past few posts, I&#39;ve been laying the groundwork for building an Angular application on top of Sails. Now that everything is in place, we can jump right in to adding Angular views.</p>\n<!-- more -->\n\n<h3>Create the List Route</h3>\n<p>First, we will generate a new controller and model called &quot;list&quot;:</p>\n<pre><code class=\"language-bash\">sails generate list</code></pre>\n<p>Next, we will add a link to the list page in our layout.ejs file:</p>\n<pre><code class=\"language-html\">&lt;li class=&quot;&lt;% if (title === &#39;List&#39;) { %&gt;active&lt;% } %&gt;&quot;&gt;\n  &lt;%- link_to(&#39;List&#39;, &#39;/list&#39;) %&gt;\n&lt;/li&gt;</code></pre>\n<p>Now, if we open our <code>/api/controllers/ListController.js</code> file, we can add a method to render the index page:</p>\n<pre><code class=\"language-js\">module.exports = {\n  index: function (req, res) {\n    res.view(null, {\n        title: &#39;List&#39;\n    });\n  },\n  _config: {}\n};</code></pre>\n<p>Finally, we will create a view for the lists in <code>/views/list/index.ejs</code>:</p>\n<pre><code class=\"language-html\">&lt;ul class=&quot;checklist&quot;&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; checked /&gt; Do a thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do another thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do a third thing\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;button class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\n&lt;button class=&quot;btn btn-danger&quot;&gt;Remove&lt;/button&gt;</code></pre>\n<h3>Add the Angular Controller</h3>\n<p>Now that we&#39;ve got the view rendering for our list, we can add an Angular controller to it.</p>\n<p>We will update the markup for the <code>views/list/index.ejs</code> template to use Angular:</p>\n<pre><code class=\"language-html\">&lt;div ng-controller=&quot;ListCtrl&quot;&gt;\n    &lt;ul class=&quot;checklist&quot;&gt;\n        &lt;li ng-repeat=&quot;item in items&quot;&gt;\n            &lt;input type=&quot;checkbox&quot; ng-checked=&quot;item.completed&quot; /&gt; &lt;span ng-bind=&quot;item.description&quot;&gt;&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;button class=&quot;btn btn-primary&quot; ng-click=&quot;addItem&quot;&gt;Add&lt;/button&gt;\n    &lt;button class=&quot;btn btn-danger&quot; ng-click=&quot;removeItems&quot;&gt;Remove&lt;/button&gt;\n&lt;/div&gt;</code></pre>\n<p>The Angular bindings to take note of are the <code>ng-controller</code>. That will bind everything inside of it to the context of the controller we specified. Next, there is the <code>ng-repeat</code>, which loops over items in the scope.</p>\n<p>Now that we&#39;ve added the controller to the markup, we need to actually create the controller in JavaScript. Let&#39;s look at our <code>/assets/js/app.js</code> file. We&#39;ll need it to update it to look like this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;,\n  &#39;controllers&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, [\n    &#39;controllers&#39;\n  ]);\n\n  return app;\n\n});</code></pre>\n<p>Basically, we are requiring a JavaScript file which we haven&#39;t created yet called <code>controllers.js</code>. We are also adding a &quot;controllers&quot; module to our application.</p>\n<p>Now that we&#39;ve got that in place, let&#39;s create the <code>/assets/js/controllers.js</code> file:</p>\n<pre><code class=\"language-js\">define(function (require) {\n\n  var angular = require(&#39;angular&#39;),\n      Controllers = angular.module(&#39;controllers&#39;, []);\n\n  Controllers.controller(&#39;ListCtrl&#39;, require(&#39;controllers/listCtrl&#39;));\n\n  return Controllers;\n\n});</code></pre>\n<p>The great thing about the way we&#39;ve set up this file is that anytime we need to add a new controller, it&#39;s as simple as adding one new line. This will require the controller and initialize it.</p>\n<p>Now, we&#39;ll need to create a new directory at <code>/assets/js/controllers</code>. Inside our new folder, we&#39;ll make a file named <code>listCtrl.js</code>. The listCtrl.js file should look like this:</p>\n<pre><code class=\"language-js\">define(function () {\n    return [&#39;$scope&#39;, function($scope) {\n        $scope.addItem = function () {\n            console.log(&#39;addItem&#39;);\n        };\n        $scope.removeItems = function () {\n            console.log(&#39;removeItems&#39;);\n        };\n        $scope.items = [{\n            description: &#39;Do a thing&#39;,\n            completed: true\n        }, {\n            description: &#39;Do another thing&#39;,\n            completed: false\n        }, {\n            description: &#39;Do a third thing&#39;,\n            completed: false\n        }];\n    }];\n});</code></pre>\n<p>So there we go. Each of our controller AMD modules will just return an array with the dependencies as the items in the array and a function as the last item, just like a regular Angular controller except the controller is being initialized in the controller.js file, not on an individual module basis.</p>\n<p>We are adding an array of &quot;items&quot; to the <code>$scope</code>. We also went ahead and stubbed out a couple of methods for the buttons. They&#39;ll just do a console.log for now, but we&#39;ll get them working soon.</p>\n<p>Now we have Angular controllers on top of our Sails app. At this point, the app should look something like this:</p>\n<p><img src=\"/images/blog/angular-controllers-with-sails-app2.png\" alt=\"\"></p>\n<p>Next time we&#39;ll start getting real data on the app.</p>\n<p>If you want to see the point our sample app should be at by now, check out the Github repo <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/12d1e1860f0c1ae5acead7f6011059ce6b637375\">at this point</a>.</p>\n","slug":"angular-controllers-with-sails-app"},"adding-dependencies":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":4,"title":"Adding Dependencies","tags":["sailsjs","angular"],"category":"code","date":"5-30-2014","thumbnail":"/images/blog/adding-the-dependencies.png","yield":"<div class=\"series-placement\">\n\n    This is part 4 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/server-side-views\">Previous Post In This Series</a> | <a href=\"/blog/angular-controllers-with-sails-app\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>As I promised at the beginning of this series, we are going to be using <a href=\"http://requirejs.org/\">RequireJS</a> to manage our client-side modules. If you haven&#39;t used RequireJS or a similar AMD loader before, let me just say that you are really missing out. RequireJS lets you write your code in small modules that only expose the parts of the API that you want to show and as an added bonus, it uses JavaScript to load your JavaScript modules.</p>\n<!-- more -->\n\n<p><img src=\"http://bower.io/img/bower-logo.png\" width=\"250px\" /></p>\n<h4>We Can Use Bower, Right?</h4>\n<p>Before we get started, I wanted to give a quick rant about why using bower in a Sails project hasn&#39;t worked very well for me. <a href=\"http://bower.io\">Bower</a> is a package manager for client-side JavaScript much like <a href=\"http://www.npmjs.com/\">NPM</a> is for server-side JavaScript. Typically, I would use bower to manage my dependencies for any project. The issue is that Sails doesn&#39;t run your assets right out of the folder you create them in. Instead, it packages them up with Grunt and runs them out of <code>.tmp/public</code>. That approach is really helpful if you have a compilation step such as converting SASS or LESS stylesheets to CSS or minifying your JavaScript. The issue is that it if you have a ton of files in your assets directory, as is often the case when you have installed bower packages, you will inevitably either get errors complaining about the number of files being processed or it will be painfully slow. Either way, I&#39;ve come to the painful conclusion that using Bower with Sails is more trouble than it is worth.</p>\n<p>My compromise is typically to load my vendor files from a CDN whenever there is one instead of junking up my project with code that I didn&#39;t write.</p>\n<p><img src=\"http://ianreah.com/img/requirejs-logo.png\" alt=\"RequireJS\"></p>\n<h4>RequireJS</h4>\n<p>There is actually some debate about whether or not RequireJS has value in an Angular project. Angular has a dependency injection concept that makes running the code itself pretty modular. However, it doesn&#39;t load specific files for you out of the box. There are a few ways to leverage the Angular library to load your files for you. To me, though, it seems simpler to follow a set standard like what RequireJS provides by closely following the AMD spec. That way, developers in the future will have a clearer idea of where the code is coming from and how it is being loaded.</p>\n<p>So, let&#39;s get RequireJS working.</p>\n<p>Let&#39;s open the layout.ejs file and add a line to instantiate our Angular application. We will replace the body tag with this:</p>\n<pre><code class=\"language-html\">&lt;body ng-app=&quot;todoIt&quot;&gt;</code></pre>\n<p>The name of the app can be whatever you want to call your application, but just be aware that you will be referencing it later in your javaScript.</p>\n<p>Next, we need to go to the bottom of the layout.ejs file and replace all of the JavaScript files with this:</p>\n<pre><code class=\"language-html\">&lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.11/require.min.js&quot; data-main=&quot;/js/main&quot;&gt;&lt;/script&gt;</code></pre>\n<p>That will load the require.min.js file from a CDN and then immediately require your <code>/js/main.js</code> file. Don&#39;t have a main.js file yet? No problem. Let&#39;s go ahead and build that.</p>\n<pre><code class=\"language-js\">window.name = &#39;NG_DEFER_BOOTSTRAP!&#39;;\n\nrequire.config({\n  &#39;baseUrl&#39;: &#39;/js&#39;,\n  &#39;paths&#39;: {\n    &#39;angular&#39;: &#39;//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular&#39;,\n    &#39;jquery&#39;: &#39;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min&#39;,\n    &#39;bootstrap&#39;: &#39;//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min&#39;\n  },\n  &#39;shim&#39;: {\n    &#39;angular&#39;: {\n      &#39;exports&#39;: &#39;angular&#39;\n    },\n    &#39;bootstrap&#39;: {\n      &#39;deps&#39;: [&#39;jquery&#39;]\n    },\n    &#39;socket.io&#39;: {\n      &#39;exports&#39;: &#39;io&#39;\n    },\n    &#39;sails.io&#39;: {\n      &#39;deps&#39;: [&#39;socket.io&#39;],\n      &#39;exports&#39;: &#39;io&#39;\n    }\n  }\n});\n\nrequire([\n  &#39;angular&#39;,\n  &#39;app&#39;,\n  &#39;bootstrap&#39;\n], function (angular, app) {\n\n  angular.element(document.getElementsByTagName(&#39;html&#39;)[0]);\n\n  angular.element().ready(function() {\n    angular.resumeBootstrap([app.name]);\n  });\n\n});</code></pre>\n<p>Notice at the top where we set the <code>window.name</code> to &quot;NG_DEFER_BOOTSTRAP!&quot;. That will keep angular from initializing until we tell it to. Near the bottom after everything is loaded, we call angular.resumeBootstrap(). That is where angular picks back up and finishes initializing.</p>\n<p>The socket.io and sails.io files that come with Sails are not wrapped as AMD modules, so we need to shim them both and export the io variable.</p>\n<p>Otherwise, the main.js is pretty standard for a requireJS config file. </p>\n<p>We will also need to update the app.js file to this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, []);\n\n  return app;\n\n});</code></pre>\n<p>We are leaving the socket.io connection. We&#39;ll be working with that later on. For now, we mostly just want to return our app as a new angular module. Notice that the name &quot;todoIt&quot; is the same as the <code>ng-app</code> that we added to our layout.ejs file.</p>\n<p>Now the main.js file will take the app that is returned from app.js and create an angular application.</p>\n<p>When you look at your console at this point, you should get a message that says:</p>\n<pre><code class=\"language-bash\">Socket is now connected</code></pre>\n<p>If you see that and don&#39;t get any errors, you have successfully added an angular application on top of Sails. Stay tuned next time when we make the application actually do something.</p>\n<p>If you want to see the code in action, check out the example repository <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/ffc98437c91b4bf154c9619fd50b103c9549a465\">here</a>.</p>\n","slug":"adding-dependencies"},"server-side-views":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":3,"title":"Sails Server-Side Views","tags":["sailsjs"],"category":"code","date":"5-21-2014","thumbnail":"/images/blog/server-side-views.png","slug":"server-side-views"},"starting_the_sails_project":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":2,"title":"Starting a Sails Project","tags":["sailsjs"],"category":"code","date":"5-2-2014","thumbnail":"/images/blog/starting_the_sails_project.jpg"},"sails-ninja-intro":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":1,"firstPart":true,"title":"Introduction","tags":["sailsjs","angular"],"category":"code","date":"4-25-2014","thumbnail":"/images/blog/sails-ninja-intro.jpg"},"using-facebook-authentication-on-a-sails-js-app":{"published":true,"title":"Facebook Authentication With Sails.js and Passport","tags":["sailsjs","facebook","authentication"],"category":"code","date":"4-10-2014","thumbnail":"/images/blog/using-facebook-authentication-on-a-sails-js-app.jpg"},"unit-testing-sails-js-applications-with-mocha":{"published":true,"title":"Unit Testing Sails.js Applications With Mocha","tags":["sailsjs","testing","mocha"],"category":"code","date":"4-04-2014","thumbnail":"/images/blog/unit-testing-sails-js-applications-with-mocha.jpg","slug":"unit-testing-sails-js-applications-with-mocha"},"deploying-harp-builds-to-github-pages":{"published":true,"title":"Deploying Harp.js Builds To Github Pages","tags":["html","node","terminal"],"category":"code","date":"3-25-2014","thumbnail":"/images/blog/deploying-harp-builds-to-github-pages.jpg","slug":"deploying-harp-builds-to-github-pages"},"squash-stretch-and-bounce-with-css3-animations":{"published":true,"title":"Squash, Stretch and Bounce With CSS3 Animations","tags":["css"],"category":"code","date":"3-19-2014","thumbnail":"/images/blog/squash-stretch-and-bounce-with-css3-animations.jpg"},"how-to-abstract-pub-sub-in-your-application":{"published":true,"title":"How To Abstract Pub / Sub Methods In Your Application","tags":["javascript","pubsub"],"category":"code","date":"3-18-2014","thumbnail":"/images/blog/how-to-abstract-pub-sub-in-your-application.jpg"},"exporting-canvas-animation-to-mov":{"published":true,"title":"Exporting Three JS Canvas Animations To MOV or MP4 Format With Socket.io","tags":["node","javascript","animation"],"category":"code","date":"3-17-2014","thumbnail":"/images/blog/exporting-canvas-animation-to-mov.jpg"},"javascript-life-ko-ninja-example-app":{"published":true,"title":"Ko.Ninja Example App - JavaScript Life","tags":["knockout","javascript","ko.ninja"],"category":"code","date":"3-14-2014","thumbnail":"/images/blog/javascript-life-ko-ninja-example-app.jpg"},"the-correct-way-to-use-jquery-with-knockout-js":{"published":true,"title":"The Correct Way To Use JQuery With Knockout","tags":["knockout","jquery","javascript"],"category":"code","date":"3-12-2014","thumbnail":"/images/blog/the-correct-way-to-use-jquery-with-knockout-js.jpg","slug":"the-correct-way-to-use-jquery-with-knockout-js"},"the-business-case-for-having-an-all-remote-organization":{"published":true,"title":"The Business Case For Having An All-Remote Organization","tags":["remote"],"category":"productivity","date":"3-7-2014","thumbnail":"/images/blog/the-business-case-for-having-an-all-remote-organization.jpg","slug":"the-business-case-for-having-an-all-remote-organization"},"how-to-organize-a-meteor-app":{"published":true,"title":"How To Organize A Meteor App","tags":["meteor"],"category":"code","date":"3-6-2014","thumbnail":"/images/blog/how-to-organize-a-meteor-app.jpg","slug":"how-to-organize-a-meteor-app"},"there-is-more-than-one-way-to-loop-a-cat":{"published":true,"title":"There Is More Than One Way To Loop Over A Cat","tags":["looping","underscore","jquery"],"category":"code","date":"2-22-2014","thumbnail":"/images/blog/there-is-more-than-one-way-to-loop-a-cat.jpg"},"dependency-injection-with-squire-and-sinon":{"published":true,"title":"Dependency Injection With Squire and Sinon","tags":["testing","squire"],"category":"code","date":"2-7-2014","thumbnail":"/images/blog/dependency-injection-with-squire-and-sinon.jpg","yield":"<p>Unit testing in JavaScript can be difficult sometimes. Typically, you only want to test the behavior of a single module, but if you are using an AMD loader like RequireJS, you may be pulling in several other libraries and modules just to test a single module. The point of the unit test is to test an individual unit, not to test how it works with other dependencies.</p>\n<p>If only there was a way to trick the test runner into thinking that the other modules were loaded by providing simplified stubs of the methods they actually performed! Good news, that is totally possible using <a href=\"https://github.com/iammerrick/Squire.js/\">Squire</a>. Don&#39;t run away when you see the creepy looking mascot on the GitHub page, Squire is totally worth your time.</p>\n<!-- more -->\n\n<p>If you have used Angular, you are familiar with how dependency injection can work in JavaScript. Squire has extended this ability to work with any AMD module. The basic idea is that the module says that it needs &quot;x dependency&quot;, but Squire steps in and says &quot;well, actually I&#39;m going to give you y dependency instead, but you can still go on believing that it is x dependency. Silly you.&quot;</p>\n<p>Let&#39;s say that you have a module that looks like this:</p>\n<pre><code class=\"language-js\">// Person Module\n\ndefine([\n    &#39;underscore&#39;,\n    &#39;friends&#39;\n], function (_, Friends) {\n\n    var Person = function (data) {\n        this.init(data);\n    };\n\n    _.extend(Person.prototype, {\n\n        addFriend: function (data) {\n            this.friends.add(data);\n        },\n\n        getId: function () {\n            return this._id;\n        },\n\n        init: function (data) {\n            this.friends = new Friends(data.id);\n            this.addFriend({ id: 223 });\n        }\n\n    });\n\n    return Person;\n\n});</code></pre>\n<p>Obviously, it would have a friends dependency. That might look something like this:</p>\n<pre><code class=\"language-js\">// Friends Module\n\ndefine([\n    &#39;underscore&#39;\n], function () {\n\n    var Friends = function (id) {\n        this.init(id);\n    };\n\n    _.extend(Friends.prototype, {\n\n        add: function (friend) {\n            this._friends.push(friend);\n        },\n\n        init: function (id) {\n            this._friends = [];\n            this._id = id;\n        }\n\n    });\n\n});</code></pre>\n<p>Now, lets say we want to test the Person module, but we want to test Friends separately. First lets look at how that might be done without dependency injection:</p>\n<pre><code class=\"language-js\">define([\n    &#39;person&#39;\n], function (Person) {\n\n    describe(&#39;the person module&#39;, function () {\n\n        beforeEach(function () {\n            this.person = new Person({\n                id: 213\n            });\n        });\n\n        describe(&#39;when adding a new friend&#39;, function () {\n            it (&#39;should add the friend to the the person&#39;, function () {\n                assert.equal(this.person.getId(), 213);\n            });\n        });\n\n    });\n\n});</code></pre>\n<p>Not too terrible, but we are just requiring one module from the person and there aren&#39;t any weird side effects like there might be in a real-world example.</p>\n<p>To stop actually using the friends module, we can do this:</p>\n<pre><code class=\"language-js\">define([\n    &#39;squire&#39;,\n    &#39;sinon&#39;\n], function (Squire, sinon) {\n\n    var injector = new Squire();\n\n    injector.mock({\n        &#39;friends&#39;: {\n            add: sinon.stub()\n        }\n    });\n\n    injector.require([\n        &#39;person&#39;\n    ], function (Person) {\n\n        describe(&#39;the person module&#39;, function () {\n\n            beforeEach(function () {\n                this.person = new Person({\n                    id: 213\n                });\n            });\n\n            describe(&#39;when adding a new friend&#39;, function () {\n                it (&#39;should add the friend to the the person&#39;, function () {\n                    this.person.addFriend(new Person({\n                        id: 222\n                    }));\n                    assert.equal(this.person.find().length, 1);\n                });\n            });\n\n        });\n\n    });\n\n});</code></pre>\n<p>Sure, it is a little more code, but here is what we have gained:</p>\n<ul>\n<li>We are no longer loading the friends dependency, so the test will run faster</li>\n<li>We are testing the person module in isolation</li>\n</ul>\n<p>Not bad, huh?</p>\n<p>Let&#39;s walk through how we did that.</p>\n<p>First of all, we created a new injector by instantiating Squire. </p>\n<p>Next, we gave Squire an object of dependencies that we wanted it to replace by using <code>injector.mock</code>. You might also noticed that we used a library called <a href=\"http://sinonjs.org/\">Sinon</a> to create an empty function that could take the place of friends.add(). If you haven&#39;t used Sinon, you are missing out, it allows you to fake methods and return anything you want from them, which makes it a perfect companion for Squire.</p>\n<p>Last, we required our module using <code>inject.require()</code>. While the API does look exactly like RequireJS, it is passing the call through Squire for dependency injection instead of requiring the dependencies.</p>\n<p>Pretty cool, huh?</p>\n"},"dom-manipulation-is-so-early-2000s":{"published":true,"title":"DOM Manipulation Is So Early 2000s","tags":["jQuery","Knockout"],"category":"code","date":"1-31-2014","thumbnail":"/images/blog/dom-manipulation-is-so-early-2000s.jpg","slug":"dom-manipulation-is-so-early-2000s"},"ko-ninja-socket-io-model":{"published":true,"series":"Ko.Ninja","part":5,"lastPart":true,"title":" Socket.io Models","tags":["knockout","ko.ninja","model","data","socket.io"],"category":"code","date":"1-17-2014","thumbnail":"/images/blog/ninja5.png","slug":"ko-ninja-socket-io-model"},"ko-ninja-http-models":{"published":true,"series":"Ko.Ninja","part":4,"title":"HTTP Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-9-2014","thumbnail":"/images/blog/ninja4.png"},"ko-ninja-model":{"published":true,"series":"Ko.Ninja","part":3,"title":"LocalStorage Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-2-2014","thumbnail":"/images/blog/ninja3.png"},"ko-ninja-validation":{"published":true,"series":"Ko.Ninja","part":2,"title":"Validation","tags":["knockout","ko.ninja","validation"],"category":"code","date":"12-27-2013","thumbnail":"/images/blog/ninja2.png"},"ko-ninja":{"published":true,"series":"Ko.Ninja","part":1,"firstPart":true,"title":"A Framework For Building Awesome Knockout.js Apps","tags":["knockout","ko.ninja"],"category":"code","date":"12-20-2013","thumbnail":"/images/blog/ninja1.png"},"how-to-use-tor-with-chrome":{"published":true,"title":"How To Use Tor With Google Chrome","tags":["Security","Browsers","Tor","Privacy"],"category":"privacy","date":"11-22-2013","thumbnail":"/images/blog/tor.png","slug":"how-to-use-tor-with-chrome"},"authentication-in-meteor":{"published":true,"title":"Authentication in Meteor","tags":["Meteor","Node","Authentication"],"category":"code","date":"11-14-2013","thumbnail":"/images/blog/meteor-authentication.png","yield":"<p>Authentication can be something of a road-blocker in application development. I can&#39;t tell you how many times I&#39;ve had a great idea for an app, but instead of jumping in and writing the core functionality, I try to tackle the authentication layer first. The problem is that once I&#39;ve gotten authentication in place, my excitement for the project has faded because I wasn&#39;t working on the project itself, just trying to set up a login system. Meteor takes the work out of setting up authentication so that you can focus on more important things, like writing the core functionality for your app.</p>\n<!-- more -->\n\n<p>Meteor has a really robust account and password API, but we won&#39;t cover all of it here. We are just going to focus on getting something in place really fast. The reason for that is because we don&#39;t want to spend a lot of time working on authentication on the front-end, we want to work on core functionality.</p>\n<p>To work with authentication in Meteor, you will need to install the base accounts module.</p>\n<pre><code class=\"language-bash\">meteor add accounts-base</code></pre>\n<p>Meteor also has a pre-built user interface for accounts. If you want to go back later and make the UI different, you can, but for us to take a &quot;failing forward&quot; approach to development, it makes sense to just use the default UI and then go back and refactor it as needed. Let&#39;s install the accounts user interface package.</p>\n<pre><code class=\"language-bash\">meteor add accounts-ui</code></pre>\n<p>Next, we will need to install one of the authentication systems. Meteor comes packed with authentication through Facebook, Google, Github, Meetup, Twitter, Weibo and with a username and password. There are also third-party authentication types that were not written by the Meteor team.</p>\n<p>We will start out with just the basic username and password.</p>\n<pre><code class=\"language-bash\">meteor add accounts-password</code></pre>\n<p>Now if you start up your site by running <code>meteor</code>, you&#39;ll notice that nothing has changed. It should still look something like this:</p>\n<p><img src=\"/images/blog/meteorauth.png\" alt=\"\"></p>\n<p>In order to see your login UI, you will need to add it to your template. That is as easy as adding <code>{{loginButtons}}</code> anywhere in your template. If you want the buttons to go on the right side of the screen, you can pass that in an argument like this:</p>\n<pre><code class=\"language-html4strict\">{{loginButtons align=&quot;right&quot;}}</code></pre>\n<p>Either way, though, the login buttons should be rendered:</p>\n<p><img src=\"/images/blog/meteorauth2.png\" alt=\"\"></p>\n<p>When you click on the new &quot;sign in&quot; button, you should get something like this:</p>\n<p><img src=\"/images/blog/meteorauth3.png\" alt=\"\"></p>\n<p>You now have authentication on your app!</p>\n<p>The templates also have a <code>{{currentUser}}</code> that you can use to determine if the user has authenticated or not. For example, if you want to display a navigation only if the user is logged in, that might look like this:</p>\n<pre><code class=\"language-html4strict\">&lt;ul&gt;\n{{#if currentUser}}\n    &lt;li&gt;&lt;a href=&quot;/account&quot;&gt;My Account&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;/preferences&quot;&gt;My Preferences&lt;/a&gt;&lt;/li&gt;\n{{/if}}\n&lt;/ul&gt;</code></pre>\n<p>When a user is logged in, your client-side JavaScript has access to a <code>Meteor.userId()</code> which is just a string representing the ID of the authenticated user. You also have access to a <code>Meteor.user()</code>, which will return an object with the user information. Depending on what authentication type you use, the content of the user object my vary. Both of those are available from the console, so you can log them at any time.</p>\n<p>Each user object also has a profile that you can add your own data to. For example, if you wanted to add some data to the current user, you could do something like this:</p>\n<pre><code class=\"language-js\">Meteor.users.update(Meteor.userId(), {\n    $set: {\n        profile: {\n            firstName: &#39;Linus&#39;,\n            lastName: &#39;Cadenhead&#39;,\n            favoriteColor: &#39;green&#39;,\n            ...\n        }\n    }\n}, function () {\n    alert(&#39;user was saved&#39;);\n});</code></pre>\n<p>If you want to listen for an event to tell you when a user logs in or out, <code>Meteor.autorun</code> is your friend. This snippet will redirect the user when they log in or out:</p>\n<pre><code class=\"language-js\">// Keep the current user logged in state\nvar loggedIn = !!Meteor.userId();\n\n// This is fired whenever the user logs in or out\nMeteor.autorun(function () {\n\n    // If the user logs in, redirect them to the profile\n    if (Meteor.userId() &amp;&amp; !loggedIn) {\n        document.location = &#39;/profile&#39;;\n\n    // If the user logs out, redirect them to the home page\n    } else if (!Meteor.userId() &amp;&amp; loggedIn) {\n        document.location = &#39;/&#39;;\n    }\n\n    // Set the current loggedIn status based on whether the userId is available or not\n    loggedIn = !!Meteor.userId();\n\n});</code></pre>\n<p>If you want to add another authentication method, just install it with Meteor. The user interface itself will walk you through the necessary steps to get things set up.</p>\n<p>As you can see, authentication with Meteor is really quick and easy. In just a few minutes, you should be all set up and ready to work on the parts of your application that you care about. Yet another way that Meteor makes wasting time on tedious tasks a thing of the past!</p>\n"},"why-you-should-teach-your-kids-to-write-code":{"published":true,"title":"Why You Should Teach Your Kids How to Write Code","tags":["Rant","Kids"],"category":"code","date":"11-08-2013","thumbnail":"/images/blog/duck.jpg","slug":"why-you-should-teach-your-kids-to-write-code"},"javascript-copy-and-paste-events":{"published":true,"title":"The JavaScript Copy and Paste Events","tags":["JavaScript"],"category":"code","date":"10-31-2013","thumbnail":"/images/blog/clippy.jpg"},"getting-started-with-socket-io":{"published":true,"title":"Getting Started with Socket.io","tags":["node","socketio","javascript"],"category":"code","date":"10-25-2013","thumbnail":"/images/blog/socket-io.jpg"},"working-with-meteor-data":{"published":true,"title":"Working with Meteor Data","tags":["Meteor","Node","JavaScript","Data"],"category":"code","date":"10-10-2013","thumbnail":"/images/blog/meteor-data.png"},"why-is-test-driven-development-so-hard":{"published":true,"title":"Why is Test-Driven Development So Hard?","tags":["TDD","Test Driven Development","Unit Testing"],"category":"code","date":"10-4-2013","thumbnail":"/images/blog/tdd.png","slug":"why-is-test-driven-development-so-hard"},"getting-started-with-meteor":{"published":true,"title":"Getting Started with Meteor","tags":["Meteor","Node","JavaScript"],"category":"code","date":"9-26-2013","thumbnail":"/images/blog/meteor.png","slug":"getting-started-with-meteor"},"creating-sprites-with-compass":{"published":true,"title":"Creating Sprites with Compass","tags":["Compass","SASS","CSS"],"category":"code","date":"9-20-2013","thumbnail":"/images/blog/sprite.png","yield":"<p>One way to reduce the loading time of your website or application is to merge multiple images together into one large sprite. The benefit is that only one http request has to be made instead of multiple requests. Of course, managing a sprite image and the CSS that uses it can be a pain in the neck. That is where <a href=\"http://compass-style.org/\">Compass</a> comes in. Compass has a really cool helper that lets you import an entire folder of images and that it will automatically sprite for you.</p>\n<!-- more -->\n\n<p>For some perspective on why Compass is a game changer, we have to look back on what it was like to create a sprite image in vanilla CSS. I remember when I first learned about <a href=\"http://www.w3schools.com/css/css_image_sprites.asp\">how sprites work</a>, I went out and changed a bunch of my sites to use sprites for all of their images and icons. Websites are constantly being tweaked and changed. Unfortunately, maintaining a big image with a bunch of icons turned into huge overhead because every addition meant opening an ever-growing psd file and editing it. If an icon was removed during the development process, I was forced to either remove it in the psd file and re-factor huge chunks of css, or leave it in the image and waste time loading sections of the image that were never even seen. You can see the problem.</p>\n<h2>The Compass Solution</h2>\n<p>Let&#39;s imagine for a moment that you are creating a website of cat pictures. You have a directory of two or three cat pictures that show up on every page of your site. Let&#39;s imagine that your files look like this:</p>\n<p><img src=\"/images/blog/catpictures.png\" alt=\"Cat Pictures\"></p>\n<h2>The easy way</h2>\n<p>If we want to use Compass to create a big sprite and spit out all of the images with appropriate classes, we could simply do this:</p>\n<pre><code class=\"language-css\">@import &quot;cat_pictures/*.png&quot;;\n@include all-cat_pictures-sprites;</code></pre>\n<p>That will generate css that looks something like this:</p>\n<pre><code class=\"language-css\">.cat_pictures-sprite,\n.cat_pictures-felix,\n.cat_pictures-phil,\n.cat_pictures-todd {\n    background: url(&#39;/images/my-icons-s34fe0604ab.png&#39;) no-repeat;\n}\n\n.cat_pictures-felix {\n    background-position: 0 0;\n}\n\n.cat_pictures-phil {\n    background-position: 0 -200px;\n}\n\n.cat_pictures-todd {\n    background-position: 0 -400px;\n}</code></pre>\n<h2>Generate individual sprite images</h2>\n<p>If you want more finite control over the classes, you can do something like this:</p>\n<pre><code class=\"language-css\">@import &quot;cat_pictures/*.png&quot;;\n\n.cats {\n\n  .felix {\n    @include cat_pictures-sprite(felix);\n  }\n\n  .phil {\n    @include cat_pictures-sprite(phil);\n  }\n\n  .todd {\n    @include cat_pictures-sprite(todd);\n  }\n\n}</code></pre>\n<p>Basically, by passing a name into the sprite, you can get the css for individual sprites. The above code will output something like this:</p>\n<pre><code class=\"language-css\">.cat_pictures-sprite,\n.cats .felix,\n.cats .phil,\n.cats .todd {\n    background: url(&#39;/images/my-icons-s34fe0604ab.png&#39;) no-repeat;\n}\n\n.cats .felix {\n    background-position: 0 0;\n}\n\n.cats .phil {\n    background-position: 0 -200px;\n}\n\n.cats .todd {\n    background-position: 0 -400px;\n}</code></pre>\n<p>You should never have to worry about where the sprite image is located or what the background position is for any of your sprite images - Compass will manage that for you. Generating sprites with Compass is simple, straightforward, and best of all, maintainable.</p>\n"},"how-to-build-grunt-from-sublime-text":{"published":true,"title":"How to Do a Grunt Build Using Sublime Text","tags":["Grunt","Sublime"],"category":"code","date":"9-13-2013","thumbnail":"/images/blog/grunt-sublime.png"},"secrets-of-the-javascript-ninja":{"published":true,"title":"Book Review: Secrets of the JavaScript Ninja","tags":["Book","JavaScript"],"category":"code","date":"9-4-2013","thumbnail":"/images/blog/ninja.png"},"compiling-sass-and-compass-with-grunt":{"published":true,"title":"Compiling SASS and Compass with Grunt","tags":["SASS","Compass","Grunt"],"category":"code","date":"8-30-2013","thumbnail":"/images/blog/grunt-sass.png","yield":"<p>If you haven&#39;t been using <a href=\"http://gruntjs.com\">Grunt</a> to run your JavaScript tasks, you have definitely been missing out. Grunt is really great about automating tasks that would have been very tedious otherwise. One great thing about Grunt is the ability to run <code>grunt watch</code> to monitor your files and run tasks when they are changed. We can use <code>grunt watch</code> in tandem with compass to automatically compile css files on the fly as we change our SASS files.</p>\n<!-- more -->\n\n<p>To get started, you&#39;ll need to install Grunt and then add the &quot;watch&quot; task.</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-watch</code></pre>\n<p>Next, you can add something like this to the grunt.initConfig() function inside your Gruntfile.js:</p>\n<pre><code class=\"language-javascript\">{\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    }\n}</code></pre>\n<p>We&#39;ve added livereload, listening to port 1337. You can add a snippet like this to listen for changes inside your html template:</p>\n<pre><code class=\"language-html4strict\">&lt;script src=&quot;http://localhost:1337/livereload.js&quot;&gt;&lt;/script&gt;</code></pre>\n<p>We&#39;ve also told &quot;watch&quot; to listen for changes any <code>.scss</code> files inside the <code>scss</code> directory.</p>\n<p>Last, we gave &quot;watch&quot; a task to runt when a scss file is changed. That task, of course, is compass.</p>\n<p>Now, we will need to install the compass Grunt task:</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-compass</code></pre>\n<p>Now, let&#39;s add the compass task to our Gruntfile:</p>\n<pre><code class=\"language-javascript\">{\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n}</code></pre>\n<p>Nothing too interesting is happening here. We&#39;re just giving compass a config file to look at when it is compiling. The config.rb will typically look something like this:</p>\n<pre><code class=\"language-text\">http_path = &quot;public/&quot;\ncss_dir = &quot;public/css&quot;\nsass_dir = &quot;scss&quot;\nimages_dir = &quot;public/images&quot;\njavascripts_dir = &quot;public/js&quot;\noutput_style = :compressed\nrelative_assets=true\nline_comments = false</code></pre>\n<p>That is really all there is to it. All told, our Gruntfile will look something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;public/scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    },\n\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n\n});\n\ngrunt.loadNpmTasks(&#39;grunt-contrib-compass&#39;);\ngrunt.loadNpmTasks(&#39;grunt-contrib-watch&#39;);</code></pre>\n<p>Now, just run:</p>\n<pre><code class=\"language-bash\">grunt watch</code></pre>\n<p>Anytime you change a file in your <code>/scss</code> directory, it will be compressed and outputted into your <code>/public/css</code> directory.</p>\n<p>With Compass building CSS as a part of your Grunt watch task, you will have one less process to keep running in your terminal. Automatically compiling SASS files is definitely something to grunt about!</p>\n","slug":"compiling-sass-and-compass-with-grunt"},"how-can-you-see-the-latest-poet-js-posts-without-restarting-the-server":{"published":true,"title":"How Can You See the Latest Poet.js Posts Without Restarting the Server?","tags":["NodeJS","Blogging"],"category":"code","date":"8-23-2013","thumbnail":"/images/blog/poet-latest.png"},"sencha-architect-app-development":{"published":true,"title":"Book Review: Sencha Architect App Development","tags":["Book"],"category":"code","date":"8-16-2013","thumbnail":"/images/blog/senchabook3.png","slug":"sencha-architect-app-development"},"poet-js":{"published":true,"title":"Getting Started with Poet.js","tags":["NodeJS","Blogging"],"category":"code","date":"8-9-2013","thumbnail":"/images/blog/poet.png","slug":"poet-js"},"client-side-dependency-management-with-bower":{"published":true,"title":"Client-Side Dependency Management with Bower","tags":["Bower"],"category":"code","date":"8-2-2013","thumbnail":"/images/blog/bower.png","yield":"<p>If you&#39;ve been creating applications using Node, you&#39;ve probably fallen in love with the built-in package management framework &quot;NPM&quot;. Using NPM makes life a ton easier because instead of needing to go out and download all of the third-party packages your project will need, you can just type a line or two in the terminal and everything is good to go. What if there was a tool like NPM for managing client-side JavaScript libraries? There is one. It is called Bower.&quot;</p>\n<!-- more -->\n\n<p>Bower essentially performs three vital functions</p>\n<ul>\n<li>You can download all of your dependencies from the command line, so you don&#39;t have to go out looking for them on the Internet</li>\n<li>You can easily update to the latest version of your library and easily switch back if you need to</li>\n<li>You don&#39;t have to check all of your dependencies in as part of your project. That means that your project will only contain the code that you write, which will make it smaller and more manageable.</li>\n</ul>\n<p>So how do you use Bower? If you already have NPM installed, you can just install it globally:</p>\n<pre><code class=\"language-bash\">npm install -g bower</code></pre>\n<p>You&#39;ll also probably want to install Git because most of the Bower packages use Git to work their magic.</p>\n<p>Now that you&#39;ve installed Bower, you can go to the project you want to use it in and create a <code>bower.json</code> file in the root. It will probably look something like this:</p>\n<pre><code class=\"language-json\">{\n  &quot;name&quot;: &quot;my-amazing-project&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;dependencies&quot;: {\n    &quot;jquery&quot;: &quot;&gt;=2.0.3&quot;\n  },\n  &quot;ignore&quot;: [\n    &quot;**/.*&quot;,\n    &quot;node_modules&quot;,\n    &quot;components&quot;,\n    &quot;bower_components&quot;,\n    &quot;test&quot;,\n    &quot;tests&quot;\n  ]\n}</code></pre>\n<p>If you&#39;ve already been using NPM, you&#39;ll probably notice that the format is pretty similar. The dependency object is where you will list all of your dependencies and the version you would like to use.</p>\n<p>By default, everything Bower downloads will go in the /bower_components folder in the root of your project. If you would like to put your dependencies in a different directory, just create a <code>.bowerrc</code> file with the path to your alternate folder:</p>\n<pre><code class=\"language-json\">{\n  &quot;directory&quot; : &quot;public/js/bower_components&quot;\n}</code></pre>\n<p>Once everything is set up, you can install all of your dependencies using</p>\n<pre><code class=\"language-bash\">bower install</code></pre>\n<p>All of your dependencies will go into the directory you declare in your .bowerrc file or in bower_components if none is specified.</p>\n<p>To install a specific package, you can use</p>\n<pre><code class=\"language-bash\">bower install jquery</code></pre>\n<p>or</p>\n<pre><code class=\"language-bash\">bower install jquery#2.0.3</code></pre>\n<p>It&#39;s best to list your dependencies in the bower.json file, though, so that they will be remembered for later on.</p>\n<p>I have found that most of the libraries I&#39;ve needed are already registered with Bower. However, if you need to register a new GitHub repository, you can simply run something like</p>\n<pre><code class=\"language-bash\">bower register jquery git://github.com/jquery/jquery</code></pre>\n<p>Simply pass in the name of the package and the path to the repository on GitHub.</p>\n<p>Needless to say, I&#39;m a big fan of Bower. Has anyone else been using Bower or something like it to manage third-party libraries on the client-side?</p>\n","slug":"client-side-dependency-management-with-bower"},"logging-time-on-the-developer-console":{"published":true,"title":"Logging Time on the Developer Console","tags":["JavaScript"],"category":"code","date":"7-29-2013","thumbnail":"/images/blog/time.png","slug":"logging-time-on-the-developer-console"},"javascript-test-coverage-with-jscoverage":{"published":true,"title":"Determining JavaScript Test Coverage with JSCover","tags":["Testing"],"category":"code","date":"7-18-2013","thumbnail":"/images/blog/cover.png"},"localstorage-with-amplify-js":{"published":true,"title":"LocalStorage with Amplify.js","tags":["LocalStorage","appendTo"],"category":"code","date":"7-13-2013","thumbnail":"/images/blog/amplify.png","slug":"localstorage-with-amplify-js"},"running-node-applications-continuously-with-foreverjs":{"published":true,"title":"Running Node Applications Continuously with Forever.js","tags":["Node"],"category":"code","date":"7-5-2013","thumbnail":"/images/blog/forever.png"},"gardening-for-web-developers":{"published":true,"title":"Gardening for Web Developers","tags":["Code"],"category":"code","date":"6-28-2013","thumbnail":"/images/blog/gardening.jpg","slug":"gardening-for-web-developers"},"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically":{"published":true,"title":"Bing Translate: A New Grunt Task to Internationalize Your Apps Programmatically","tags":["Grunt","Bing","Bing Translator","i18n"],"category":"code","date":"6-21-2013","thumbnail":"/images/blog/grunt.png","yield":"<p>Internationalizing an application can be a tedious process if you are translating your app into different languages manually. Every time you add a new value to be translated, you have to add that value for all of your  translation files. It can become a real pain.</p>\n<!-- more -->\n\n<p>To ease the pain, I&#39;ve written a Grunt task that translates all of your language files from a common Grunt config location using the Bing Translator api.</p>\n<p>Why did I use Bing Translator instead of Google Translator? Unfortunately, the Google Translator API is no longer free. Don&#39;t worry, nobody will make you take a test that reveals that you prefer Bing to Google. After you create your Bing account, you&#39;ll barely even notice you&#39;re using it.</p>\n<p>So how can you get started?</p>\n<p>First you&#39;ll need to download the Grunt Bing Translate task from NPM:</p>\n<pre><code class=\"language-bash\">npm install grunt-bing-translate</code></pre>\n<p>Once that is done, you just need to modify your Gruntfile. Inside of your grunt.initConfig(), you&#39;ll want to add something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n  bing_translate: {\n    options: {\n      // Task-specific options go here.\n    }\n  }\n});</code></pre>\n<p>For a full list of options, check out the <a href=\"https://github.com/tysoncadenhead/grunt-bing-translate/\">documentation on Github</a></p>\n<p>Here is an example of how you might configure your bing_translate options:</p>\n<pre><code class=\"language-javascript\">module.exports = function(grunt) {\n\n  // Project configuration.\n  grunt.initConfig({\n\n    &quot;bing_translate&quot;: {\n      &quot;options&quot;: {\n        &quot;clientId&quot;: require(&quot;./config.json&quot;).clientId, // Replace this with your Bing Translate Client ID\n        &quot;clientSecret&quot;: require(&quot;./config.json&quot;).clientSecret, // Replace this with your Bing Translate Client Secret\n        &quot;defaultLanguage&quot;: &quot;en&quot;,\n        &quot;languages&quot;: [&quot;ar&quot;, &quot;bg&quot;, &quot;cs&quot;, &quot;da&quot;, &quot;nl&quot;, &quot;en&quot;, &quot;et&quot;, &quot;fi&quot;, &quot;fr&quot;, &quot;de&quot;, &quot;el&quot;, &quot;hu&quot;, &quot;it&quot;, &quot;lv&quot;, &quot;lt&quot;, &quot;pl&quot;, &quot;pt&quot;, &quot;ro&quot;, &quot;ru&quot;, &quot;sk&quot;, &quot;sl&quot;, &quot;es&quot;, &quot;sv&quot;],\n        &quot;files&quot;: {\n            &quot;test/lang&quot;: {\n                &quot;template&quot;: &quot;console.log(&#39;&lt;%- language %&gt;&#39;, &lt;%- values %&gt;);&quot;,\n                &quot;fileNameEnding&quot;: &quot;/translation.js&quot;,\n                &quot;values&quot;: {\n                    &quot;hello&quot;: &quot;Hello&quot;,\n                    &quot;world&quot;: &quot;World&quot;\n                }\n            }\n        }\n      }\n    }\n\n  });\n\n};</code></pre>\n<p>Once all of your options are specified, you can run:</p>\n<pre><code class=\"language-bash\">grunt bing_translate</code></pre>\n<p>to translate all of your files. It&#39;s like magic.</p>\n<p>One important thing to note is that the Bing translate API does have a monthly limit per account. I haven&#39;t hit it yet and my understanding is that it is pretty large, but it&#39;s still there. This task will only translate each word once even if it appears in multiple language files, so that will hopefully reduce the amount of calls you have to make each month.</p>\n<p>So, far I&#39;ve used this to generate language files for <a href=\"http://ckeditor.com/\">CKEditor</a> plugins and to generate language files for use with <a href=\"http://i18next.com/\">i18next</a>. The ability to put a template around the contents of the file should make this easily work with any project.</p>\n<p>What do you think?</p>\n","slug":"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically"},"what-should-i-test-when-i-write-software":{"published":true,"title":"What Should I Test When I Write Software?","tags":["Testing","Mocha","QUnit","Selenium"],"category":"code","date":"6-6-2013","thumbnail":"/images/blog/test-dummy.png"},"jquery-jsontemplate":{"published":true,"title":"Instroducing jQuery.jsonTemplate","tags":["JSON","Template"],"category":"code","date":"6-3-2013","thumbnail":"/images/blog/layout.png"},"do-you-need-a-college-degree-to-be-a-web-developer":{"published":true,"title":"Do You Need a College Degree to Be a Web Developer?","tags":["College","Coding"],"category":"code","date":"5-25-2013","thumbnail":"/images/blog/graduate.jpg"},"compound-js-presentation-in-nashville":{"published":true,"title":"Compound JS Presentation in Nashville","tags":["Compound","Presentation"],"category":"code","date":"5-22-2013","thumbnail":"/images/blog/testtubes.png","yield":"<p>If you&#39;re going to be in Nashville on May 21 at 6:00, stop by the Interactive Developers meetup at Vaco to hear me speak about the Compound MVC framework for Node. There is always free food and drink. You can RSVP <a href=\"http://www.meetup.com/interactivedev/events/109983412/\">here</a>.</p>\n<!-- more -->\n\n<p><strong>Update:</strong></p>\n<p>Now that the presentation is over, you can see my slides <a href=\"http://slid.es/tysoncadenhead/compoundjs\">here</a>.</p>\n"},"creating-mobile-apps-with-sencha-touch-2":{"published":true,"title":"Book Review: Creating Mobile Apps With Sencha Touch 2","tags":["Book","Sencha"],"category":"code","date":"5-16-2013","thumbnail":"/images/blog/senchabook.png","slug":"creating-mobile-apps-with-sencha-touch-2","yield":"<p>I have recently been diving into <a href=\"http://www.packtpub.com/creating-mobile-apps-with-sencha-touch-2/book\">Creating Mobile Apps With Sencha Touch 2</a> and I have really been enjoying it.</p>\n<p>As someone who worked with Sencha Touch when it first came out, it has been fun to watch the steady improvements that have been added over time to make Sencha Touch 2, so I was doubly excited to have the chance to review this book.</p>\n<!-- more -->\n\n<p><em>Creating Mobile Apps With Sencha Touch 2</em> is a very comprehensive guide for writing data-driven mobile applications, but it begins with the novice in mind. The first chapter, &quot;A Simple Task List&quot;, walks us through creating a simple TODO list application. This chapter focuses on some of the fundamentals of Sencha Touch such as how to use Sencha Architect, which is essentially a WYSIWYG interface for creating Sencha apps.</p>\n<p>Chapter 2 is titled &quot;A Feed Reader.&quot; It walks us through working with remote data proxies. In addition to walk us through using JSONP, it also introduces more sophisticated options like using YQL to serve up data remotely.</p>\n<p>Chapter 3 covers working with Sencha Touch in the command line using the Sencha CMD tool. I had just started using Sencha CMD on a project a few weeks before, so this chapter was especially interesting to me.</p>\n<p>The 4th chapter gives us some information on working with Sencha Charts. I haven&#39;t had the pleasure of working with Sencha Charts on any of my projects yet, and the last time I had worked with EXT-style charts was 3 or 4 years ago, so I was pleasantly surprised at how easy they are to work with.</p>\n<p>Chapter 5 guides us through working with Sencha.io, which is currently a free place where you can deploy Sencha Touch applications into the cloud. The cool thing about Sencha.io is that it handles all of the server-side database interactions for you so that you can totally focus on writing client-side code.</p>\n<p>Chapter 6 is about writing APIs that work well with Sencha Touch. It specifically talks about REST-based APIs since the Sencha Touch Ajax proxy is geared toward that.</p>\n<p>Chapter 7 is about working with external APIs that you don&#39;t write yourself. It specifically focuses on Foursquare and Google Maps.</p>\n<p>Chapter 8 is about using profiles, which is an easy way that Sencha Touch has introduced to deal with multiple devices and screen resolutions inside the same app.</p>\n<p>Chapter 9 delves into working with the native device camera. It shows you how to capture, store and display images on the mobile device.</p>\n<p>The 10th chapter shows how you can even use Sencha Touch to create a functional mobile game. It also provides some great insights into how the Sencha Touch controller can be used.</p>\n<p>This is a really helpful book whether you are just starting out with Sencha Touch, or if you have been using it for a while, but would like to improve your skillset. If you have already been using Sencha Touch, you may want to skip over the first few chapters, but there is still plenty to learn in this book.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=EFEEEE&amp;IS2=1&amp;bg1=EFEEEE&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=tf_til&amp;asins=1849518904\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>"},"using-local-storage-in-sencha-touch-2-2":{"published":true,"title":"Using Local Storage in Sencha Touch 2.2","tags":["Sencha","LocalStorage"],"category":"code","date":"4-19-2013","thumbnail":"/images/blog/storage.jpg","slug":"using-local-storage-in-sencha-touch-2-2"},"knockout-observables":{"published":true,"title":"Knockout Observables","tags":["Knockout"],"category":"code","date":"4-8-2013","thumbnail":"/images/blog/observers.png","slug":"knockout-observables"},"authentication-with-compound-passport":{"published":true,"title":"Authentication with Compound-Passport","tags":["Compound","Node","Authentication"],"category":"code","date":"4-3-2013","thumbnail":"/images/blog/passport.png","yield":"<p>One of the most useful CompoundJS plugins is <a href=\"https://npmjs.org/package/compound-passport\">Compound-Passport</a>. If you aren&#39;t familiar with <a href=\"http://passportjs.org/\">Passport</a>, it is an authentication library for Node that provides a common API to authenticate with Facebook, Twitter, Google, Github and over a hundred other OpenId and OAuth login sources.</p>\n<!-- more -->\n\n<p>This is how I was able to get authentication with Facebook added to an application within minutes.</p>\n<p>First of all, you&#39;ll need to have a CompoundJS app. If you need help with that, check out my previous blog post on <a href=\"/blog/how-do-yo-make-a-compoundjs-app/\">how to make a CompoundJS application</a>.</p>\n<p>My first step was to install the compound-passport package with npm.</p>\n<pre><code class=\"language-bash\">#install compound-passport\nnpm install compound-passport\n\n#install passport\nnpm install passport\n\n#install passports facebook authentication piece\nnpm install passport-facebook</code></pre>\n<p>As you can see, we&#39;re installing the Facebook connection module. If you want to do a different type of authentication, you&#39;ll need to install that module as well.</p>\n<p>The next step is to add the configuration file. This will need to be saved in config/passport.yml</p>\n<pre><code class=\"language-yml\">development:\n  baseURL: &#39;http://localhost:3000/&#39;\n  facebook:\n    apiKey: &quot;my-api-key&quot;\n    secret: &quot;my-secret&quot;</code></pre>\n<p>You will need to use your Facebook API Key and secret. You can acquire both of them from the [<a href=\"https://developers.facebook.com/apps](Facebook\">https://developers.facebook.com/apps](Facebook</a> Developers site).</p>\n<p>Next, we&#39;ll need to modify our config/autoload.js file. I&#39;m showing the entire file, but the only real takeaway here is that the array that is returned from the module.exports() function needs to contain require(&#39;compound-passport&#39;).</p>\n<pre><code class=\"language-javascript\">module.exports = function (compound) {\n  var defaultModules = [\n      &#39;jugglingdb&#39;,\n      &#39;co-assets-compiler&#39;\n    ], developmentModules = [];\n\n  if (&#39;development&#39; === compound.app.get(&#39;env&#39;)) {\n    developmentModules = [\n      &#39;ejs-ext&#39;,\n      &#39;seedjs&#39;,\n      &#39;co-generators&#39;,\n      &#39;compound-passport&#39;\n    ]\n  }\n\n  if (typeof window === &#39;undefined&#39;) {\n    return defaultModules.concat(developmentModules).map(require);\n  } else {\n    return []\n  }\n\n};</code></pre>\n<p>In Compound, any before() filters that are added to the controllers/application_controller.js file are called before any standard controller methods. If we do something like this, we will have a req.user object available if the Facebook session have been authenticated. Otherwise, it will be null.</p>\n<pre><code class=\"language-javascript\">before(function requireManager() {\n    User.find(session.passport.user, function (err, user) {\n        console.log(user);\n        if (user) {\n            req.user = user;\n        } else {\n            redirect(&#39;/login&#39;);\n        }\n        next();\n    });\n});</code></pre>\n<p>Last of all, if we create a login page like this, everything should come together.</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;/auth/facebook&quot;&gt;Login with Facebook&lt;/a&gt;</code></pre>\n<p>Has anyone else been working with Compound-Passport? My experience has been that even though the integration is fairly straightforward, the documentation is spotty enough that it isn&#39;t as easy to do as it should be. What has your experience been?</p>\n"},"unit-testing-with-thrill-js":{"published":true,"title":"Unit Testing with Thrill.js","tags":["Thrill","Queen","Testing","QUnit"],"category":"code","date":"4-1-2013","thumbnail":"/images/blog/thrill.png","slug":"unit-testing-with-thrill-js"},"executeasyncscript-in-selenium-webdriver-for-node":{"published":true,"title":"executeAsyncScript() in Selenium Webdriver for Node","tags":["Testing","Selenium"],"category":"code","date":"3-22-2013","thumbnail":"/images/blog/selenium.png"},"compoundjs-routes":{"published":true,"title":"Compound.js Routes","tags":["Compound"],"category":"code","date":"3-12-2013","thumbnail":"/images/blog/car.png","slug":"compoundjs-routes","yield":"<p><a href=\"/blog/how-do-yo-make-a-compoundjs-app\">Previously</a>, I introduced you to Compound, an awesome MVC framework for NodeJS. Today, I am going to expound on how the routing works in Compound.</p>\n<p>If you are not familiar with how MVC work, I suggest you take a look at some of my older articles about <a href=\"/blog/javascript-architecture\">JavaScript Architecture</a> and <a href=\"/blog/code-seperation/\">Code Separation</a>. From here on, I will assume that you have a basic understanding of the place of controllers in the MVC paradigm so that the routing will make sense. Let&#39;s begin.</p>\n<!-- more -->\n\n<p>The CompoundJS router is built on top of the ExpressJS router, so if you are familiar with Express, the syntax should look suspiciously similar. Your router will be located in the /config/routes.js file. It should look something like this:</p>\n<pre><code class=\"language-javascript\">exports.routes = function (map) {\n    // Generic routes. Add all your routes below this line\n    // feel free to remove generic routes\n    map.all(&#39;:controller/:action&#39;);\n    map.all(&#39;:controller/:action/:id&#39;);\n};</code></pre>\n<p>As you can see, the router above is setting some basic global rules. If we hit /users/create it will resolve to the &quot;create&quot; method of the users controller. If we hit /users/edit/12 it will resolve to the &quot;edit&quot; method of the users controller with an id of &quot;12&quot; passed into the method.</p>\n<p>To map all of the basic CRUD functionality to a Compound controller, just add:</p>\n<pre><code class=\"language-javascript\">map.resources(&#39;users&#39;);</code></pre>\n<p>Yes, that is just one line of code, but it magically maps all of these routes:</p>\n<ul>\n<li>users GET - users#index</li>\n<li>users POST - users#create</li>\n<li>users/new GET - users#new</li>\n<li>users/:id/edit - users#edit</li>\n<li>users/:id DELETE - users#destroy</li>\n<li>users/:id PUT - users#update</li>\n<li>users/:id - users#show</li>\n</ul>\n<p>That will cover many of your routing needs, but if you need to make a route go directly to a controller method, the syntax looks like this:</p>\n<pre><code class=\"language-javascript\">map.get(&#39;users/login&#39;, &#39;users#login&#39;);</code></pre>\n<p>With the code above, you will be able to go to the /users/login URL and it will resolve to the &quot;login&quot; method of the users controller.</p>\n<p>To map your homepage, you can use map.root like this:</p>\n<pre><code class=\"language-javascript\">map.root(&#39;pages#home&#39;);</code></pre>\n<p>The above snippet will map to the &quot;home&quot; method of the pages controller.</p>\n<p>The Compound routing is very robust, so you may need to read through the documentation to see everything that it can do for you.</p>\n"},"what-are-the-best-productivity-apps-for-osx":{"published":true,"title":"What are the Best Productivity Apps for OSX?","tags":["Productivity","OSX"],"category":"productivity","date":"3-5-2013","thumbnail":"/images/blog/multitasking.png"},"how-do-yo-make-a-compoundjs-app":{"published":true,"title":"How Do You Make a Compound.js Application?","tags":["Compound"],"category":"code","date":"2-27-2013","thumbnail":"/images/blog/compound.png"},"how-do-you-write-an-anvil-js-plugin":{"published":true,"title":"How Do You Write an Anvil.js Plugin?","tags":["Anvil","Build"],"category":"code","date":"2-21-2013","thumbnail":"/images/blog/anvil.png"},"what-is-jquery-map":{"published":true,"title":"What is jQuery.map?","tags":["jQuery","JavaScript"],"category":"code","date":"2-15-2013","thumbnail":"/images/blog/map.png","slug":"what-is-jquery-map"},"getting-the-most-out-of-your-time":{"published":true,"title":"Getting the Most Out of Your Time","tags":["Productivity"],"category":"productivity","date":"2-4-2013","thumbnail":"/images/blog/machine.png","slug":"getting-the-most-out-of-your-time"},"hosting-multiple-websites-on-the-same-wordpress-installation":{"published":true,"title":"Hosting Multiple Websites on the Same WordPress Installation","tags":["Wordpress"],"category":"code","date":"1-28-2013","thumbnail":"/images/blog/wordpress.png"},"top-10-backbone-plugins":{"published":true,"title":"Top 5 Backbone Plugins","tags":["Backbone","JavaScript"],"category":"code","date":"1-22-2013","thumbnail":"/images/blog/plugin.png"},"how-can-i-share-ejs-templates-between-the-client-side-and-the-server-side":{"published":true,"title":"How Do I Share EJS Templates Between the Client-side and the Server-side?","tags":["EJS","Templates","Node","JavaScript"],"category":"code","date":"1-15-2013","thumbnail":"/images/blog/sharing.png"},"underscore-fire":{"published":true,"title":"_.fire(): A Plugin for Underscore","tags":["Underscore","JavaScript","Open Source"],"category":"code","date":"1-9-2013","thumbnail":"/images/blog/fire.png"},"resolutions-2013":{"published":true,"title":"2013 Resolutions","tags":["Goals"],"category":"productivity","date":"1-1-2013","thumbnail":"/images/blog/setgoals.png","slug":"resolutions-2013"},"off-the-charts-jquery-toastchart-plugin":{"published":true,"title":"Introducing the jQuery ToastChart Plugin","tags":["JQuery","JavaScript","Open Source"],"category":"code","date":"12-9-2012","thumbnail":"/images/blog/charts.png"},"my-new-standup-desk":{"published":true,"title":"My New Standup Desk","tags":["Health"],"category":"health","date":"11-17-2012","thumbnail":"/images/blog/standingdesk.png"},"cross-domain-post-delete-and-pu":{"published":true,"title":"Cross-Domain Ajax Using POST, DELETE and PUT Methods","tags":["JavaScript","Ajax"],"category":"code","date":"10-17-2012","thumbnail":"/images/blog/communication.png","slug":"cross-domain-post-delete-and-pu","yield":"<p>I&#39;ve recently been working on a JavaScript API that interfaces with a REST-based server-side API and handles cross-domain issues while still allowing GET, POST, PUT and DELETE methods to be fired from anywhere on the web.  Due to cross-domain security issues at the browser level, making POST, PUT and DELETE requests can be a lot harder than you might think.</p>\n<!-- more -->\n\n<p>Let&#39;s say for the sake of argument that you have a domain at foo.com that needs to interact with an API at bar.com.  You can easily get around the cross domain issues using JSONP, but the limitation is that since JSONP is a hack that pretends that the ajax response is just a normal JavaScript file, it only allows for the data to be retrieved through the GET method.</p>\n<p>My first thought on how to get around that issue was that I could use a hidden iframe to pass data into.  The issue with that is that iframes in different domains can&#39;t communicate with each other.  Or at least, they can&#39;t communicate very easily with each other.  In truth, the only control that the parent page has over the child page is the ability to change the child&#39;s url. The child page has absolutely no ability to communicate with a parent in a different domain.  In theory, that would make responding to an ajax call impossible, but the child iframe can render a child iframe inside of itself that can communicate with its grandparent using window.parent.parent</p>\n<p>So you see, we have the ability to do cross-domain iframe communication using a proxy file for the requested domain and a proxy file for the response domain.  In the end, the process comes out looking like this:</p>\n<iframe width=\"560\" height=\"315\" src=\"http://www.youtube.com/embed/lg1Rwddms7U\" frameborder=\"0\" allowfullscreen></iframe>\n\n<p>In order to make the process of cross-domain Ajax calls easier, I&#39;ve written a jQuery plugin that allows you to put an HTML proxy on both your request domain and your response domain.  All of the tricky details are taken care of.  Check out the <a href=\"https://github.com/tysoncadenhead/jquery-ajaxproxy\">GitHub Repo</a> to get started.  I&#39;ve also created a <a href=\"http://sandbox1.tysonlloydcadenhead.com/ajaxproxy/example.html\">live demo</a> of the jQuery Ajax Proxy that shows how you can use GET, POST, PUT and DELETE across domains.  Let me know what you think.</p>\n"},"open-sourcing-some-javascript-libraries":{"published":true,"title":"Open-Sourcing Various JavaScript Libraries","tags":["Goals"],"category":"code","date":"9-7-2012","thumbnail":"/images/blog/confused.png"},"book-review-html5-for-web-designers":{"published":true,"title":"Book Review: HTML5 for Web Designers","tags":["Book","HTML"],"category":"code","date":"1-23-2012","thumbnail":"/images/blog/reading.png","yield":"<p>A few days ago I realized that I read a lot of books and articles about JavaScript and web development and that this would be a good place to share my thoughts about them both for my own reference and maybe even for helping other people out.  In the interest of that revelation, I present to you a quick review of HTML5 for Web Designers by Jeremy Keith of A Book Apart.</p>\n<!-- more -->\n\n<p>The cool thing about this book is that I was able to get it on store credit at <a href=\"http://mckaybooks.com/locations/nashville/\">McKay</a>, Nashville&#39;s best used book store.  If you&#39;ve ever looked for used books on technology, you know that most of them are over ten years old and haven&#39;t been relevant for almost that long, so a modern book like this was a great find.</p>\n<p>This is a really easy and quick read.  It&#39;s a pretty thin book and I was able to breeze through it in the course of a couple of days.  It&#39;s a very basic overview of what you can do with HTML5, so I wouldn&#39;t expect anything as expansive and heavy as the 900 page HTML5 spec, which is probably a good thing considering that it&#39;s not fun or easy to read something that long.</p>\n<p>You get a taste of everything from video and audio and their current limitations to the canvas and the new HTML5 input types and attributes.  This book made me excited to be in the web development space because there is so much growth happening and there is sure to be a lot more to come soon.  It wasn&#39;t terribly heavy on JavaScript, which is always disappointing to me, but there are some examples of how to accomplish backwards compatibility for native HTML5 behavior using my favorite scripting language.</p>\n<p>I would recommend this book to any front-end developer wanting to cut their teeth on some more cutting-edge experiences.  It made me want to go out and write a JavaScript library to ensure backwards compatibility so we can use more HTML5 form types now, and in my book, anything that makes me want to write JavaScript was worth my time.  Unfortunately, that means that everything is worth my time.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=FFFFFF&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=qf_sp_asin_til&amp;asins=0984442502\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>","slug":"book-review-html5-for-web-designers"},"writing-a-good-api":{"published":true,"title":"Writing a Good API","tags":["JavaScript"],"category":"code","date":"12-17-2011","thumbnail":"/images/blog/api.png","slug":"writing-a-good-api"},"detecting-javascript-popup-blockers":{"published":true,"title":"Detecting JavaScript Popup Blockers","tags":["JavaScript"],"category":"code","date":"10-10-2011","thumbnail":"/images/blog/popup.png","slug":"detecting-javascript-popup-blockers"},"do-javascript-libraries-need-an-abstraction-layer":{"published":true,"title":"Do JavaScript Libraries Need an Abstraction Layer?","tags":["JavaScript"],"category":"code","date":"1-21-2011","thumbnail":"/images/blog/abstract.jpg"},"parsing-coldfusion-json-on-the-client-side":{"published":true,"title":"Parsing Coldfusion JSON on the Client-side","tags":["JavaScript","Coldfusion"],"category":"code","date":"8-6-2011","thumbnail":"/images/blog/eskimo.png"},"fat-models-and-skinny-controllers-in-javascript":{"published":true,"title":"Fat Models and Skinny Controllers in JavaScript","tags":["JavaScript","Architecture"],"category":"code","date":"7-14-2011","thumbnail":"/images/blog/controller.png"},"making-browser-specific-css-less-intrusive-with-sass":{"published":true,"title":"Making Browser-Specific CSS Less Intrusive with SASS","tags":["CSS","SASS"],"category":"code","date":"5-30-2011","thumbnail":"/images/blog/browsers.png"},"writing-javascript-for-speed":{"published":true,"title":"Writing JavaScript for Speed","tags":["JavaScript"],"category":"code","date":"4-9-2011","thumbnail":"/images/blog/running.jpg","slug":"writing-javascript-for-speed"},"jquery-event-listening":{"published":true,"title":"jQuery Event Listening","tags":["JavaScript"],"category":"code","date":"4-1-2011","thumbnail":"/images/blog/listening.jpg"},"writing-markup-for-future-enhancement":{"published":true,"title":"Writing Markup for Future Enhancement","tags":["HTML"],"category":"code","date":"3-24-2011","thumbnail":"/images/blog/robot.png"},"what-does-a-successful-ajax-application-need":{"published":true,"title":"What Does a Successful JavaScript Application Need?","tags":["JavaScript"],"category":"code","date":"3-11-2011","thumbnail":"/images/blog/success.jpg","slug":"what-does-a-successful-ajax-application-need"},"web-developers-and-health":{"published":true,"title":"Web Developers and Health","tags":["Apps","Health"],"category":"health","date":"3-6-2011","thumbnail":"/images/blog/weights.jpg","slug":"web-developers-and-health"},"replacing-href-attributes-with-onclick-events-with-regex":{"published":true,"title":"Replacing href attributes with onClick events with Regex","tags":["JavaScript","Regex"],"category":"code","date":"2-23-2011","thumbnail":"/images/blog/onclick.jpg"},"dont-be-a-user-interface-hoarder":{"published":true,"title":"Dont Be a User Interface Hoarder","tags":["User Interface"],"category":"design","date":"2-19-2011","thumbnail":"/images/blog/hoarder.jpg"},"jquery-mobile-vs-sencha-touch":{"published":true,"title":"jQuery Mobile vs. Sencha Touch","tags":["Mobile","jQuery Mobile","Sencha Touch"],"category":"code","date":"2-17-2011","thumbnail":"/images/blog/mugs.jpg"},"javascript-variable-casing-best-practices":{"published":true,"title":"JavaScript Variable Casing Best Practices","tags":["JavaScript"],"category":"code","date":"2-8-2011","thumbnail":"/images/blog/casing.jpg"},"script-loaders":{"published":true,"title":"Script Loaders","tags":["JavaScript"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/loader.jpg","slug":"script-loaders"},"putting-ext-mvc-on-hold":{"published":true,"title":"Putting EXT MVC on Hold","tags":["EXT","Architecture"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/stop.jpg","slug":"putting-ext-mvc-on-hold"},"mvc-and-extjs--2-config":{"published":true,"title":"Configuration For EXTJS MVC Applications","tags":["EXT","Architecture"],"category":"code","date":"11-1-2010","thumbnail":"/images/blog/2.png"},"mvc-and-extjs-1-introduction":{"published":true,"title":"Getting Started with MVC and EXTJS","tags":["EXT","Architecture"],"category":"code","date":"10-20-2010","thumbnail":"/images/blog/1.png","slug":"mvc-and-extjs-1-introduction"},"sencha-loading-in-the-iphone-4g":{"published":true,"title":"Sencha Loading in the iPhone 4","tags":["Sencha Touch"],"category":"code","date":"10-19-2010","thumbnail":"/images/blog/loading.png"},"javascript-variables-accessibility":{"published":true,"title":"Javascript Variables' Accessibility","tags":["JavaScript"],"category":"code","date":"8-24-2010","thumbnail":"/images/blog/wheelchair.png"},"sencha-application-event-listening":{"published":true,"title":"Sencha Application Event Listening","tags":["Sencha Touch","EXT"],"category":"code","date":"7-17-2010","thumbnail":"/images/blog/senchalistening.png"},"should-i-use-a-javascript-framework":{"published":true,"title":"Should I Use a JavaScript Framework?","tags":["JavaScript"],"category":"code","date":"6-12-2010","thumbnail":"/images/blog/framework.png","slug":"should-i-use-a-javascript-framework"},"seo-safe-links-with-an-ajax-callback":{"published":true,"title":"SEO-Safe Links with an Ajax Callback","tags":["JavaScript","HTML","jQuery"],"category":"code","date":"4-8-2010","thumbnail":"/images/blog/seosafe.png"},"javascriptmvc":{"published":true,"title":"Getting Started with JavaScript MVC","tags":["JavaScript","JavaScriptMVC"],"category":"code","date":"3-30-2010","thumbnail":"/images/blog/mvc.png"},"javascript-architecture":{"published":true,"title":"Javascript Architecture","tags":["JavaScript","Architecture"],"category":"code","date":"3-11-2010","thumbnail":"/images/blog/architecture.png"},"links-and-user-experience":{"published":true,"title":"Links and User Experience","tags":["User Experience","Design"],"category":"design","date":"2-21-2010","thumbnail":"/images/blog/links.png"},"what-is-user-experience-user-interface":{"published":true,"title":"What is UI / UX?","tags":["Design","UI","UX"],"category":"design","date":"2-11-2010","thumbnail":"/images/blog/uiux.png","slug":"what-is-user-experience-user-interface"},"what-google-looks-for":{"published":true,"title":"Search Engine Optimization 101","tags":["SEO"],"category":"code","date":"1-29-2010","thumbnail":"/images/blog/search.png"},"code-seperation":{"published":true,"title":"Code Separation","tags":["Architecture"],"category":"code","date":"1-28-2010","thumbnail":"/images/blog/seperation.png","yield":"<p>A couple of years ago, if you had asked me what my take on design patterns for internet applications was, I would have probably given you a blank, questioning stare.  You see, as sad as it is, proper design and architectural patterns aren&#39;t exactly the norm in the web development world.  Today, I&#39;m going to give you a quick overview on what architectural design patterns are and why they&#39;re important and then focus in on MVC.</p>\n<!-- more -->\n\n<h3>I like to have all of my code in one file.  Isn&#39;t that the best way?</h3>\n<p>When I first started making websites, I was 13 years old.  This was just when the internet was becoming something more than a place for email and messaging groups.  I set up my first website, which was a Star Wars fan page on Geocities and I was very satisfied with it.  The problem was that within about a week, I  wanted to change my neon-green typefaces to red.  The problem was that I had hard-coded each of my headers to be shown in that brilliant neon-green.  I couldn&#39;t just flip a switch or re-write a single line of code and change my beautiful comic-sans typography, I had to go through every single page and change every single hexadecimal value.  This took hours.  It took so long, in fact, that by the time that I was done, I had changed my mind and decided that I would prefer a blue typeface instead.  This was before I knew anything about external style sheets, and in all actuality, I&#39;m not entirely certain that my early version of Internet Explorer would have even supported them.</p>\n<p>Fast forward ten years.  By this point I&#39;ve learned the importance of having separation in my client-side code.  I have all of my Javascript, CSS, flash, images and media sitting in their own tidy folders and I&#39;ve even gotten a master page and includes.  Let&#39;s even say for the sake of argument that I&#39;ve been able to stay away from writing inline queries to my database and I even have a code-behind file doing the actual work for each of my pages.  I&#39;m doing pretty good, right?  Wrong.  The code still isn&#39;t all that separated.  My code-behind file is a jumble of actions that the page is supposed to perform, queries to the database, whether inline or through a function, and display logic.  When you have an entire development team working to decipher and update code under these circumstances, you end up with confusion that hasn&#39;t been rivaled since the tower of Babel.  There has to be a better and cleaner way to create code, right?  I&#39;m glad you asked.  Enter architectural patterns.</p>\n<h3>What are architectural patterns?  Why do I care?</h3>\n<p>There are a large number of architectural patterns out there for development.  Some of the big important ones are:</p>\n<ul>\n<li>Model View Controller</li>\n<li>Model View ViewModel</li>\n<li>Model View Presenter</li>\n<li>Presentation Abstraction Control</li>\n</ul>\n<p>The basic idea behind all of these is to separate the coding logic into bite size pieces that can be easily found and manipulated and that link to the other related pieces correctly.  If you&#39;re a developer, these patterns will help you easily manipulate your own code and it will help anyone who comes after you as well.  If you are hiring a developer, it will save you money because instead of wrestling to get a project working, your developers will be dancing with the project.</p>\n<h3>What is MVC?</h3>\n<p>MVC is an acronym for <em>Model-View-Controller</em>.  In this design pattern, every page is associated with a model, a view and a controller, which can all be found in appropriately labeled folders.</p>\n<h4>Controller</h4>\n<p>When someone goes to a page, the controller is accessed.  It essentially acts as a traffic director, telling the browser what to do.  The controller will look to the model and to the view.</p>\n<h4>Model</h4>\n<p>The model handles all of domain-specific data.  If your application uses a database, the model interacts with the database and builds objects that can be accessed in the view and in the controller.  It passes the objects back to them.</p>\n<h4>View</h4>\n<p>The view is the display.  The view accesses any objects that are built in the model or in the controller.  Think of this as the display.</p>\n<p>This is just the very basic beginning point to understanding code separation and MVC.  For further reading on this and many other exciting subjects, subscribe to our RSS feeds and stay tuned.</p>\n"},"killing-ie6":{"published":true,"title":"Killing IE6","tags":["Browsers"],"category":"code","date":"1-27-2010","thumbnail":"/images/blog/ie6.png"}};
</script>

<div class="span8">

<article>

    <div class="well span2 left thumbnail  thumbnail-main">
      <img src="/images/blog/dependency-injection-with-squire-and-sinon.jpg" />
    </div>

    <h1>Dependency Injection With Squire and Sinon</h1>

    

    <h5><span class="label label-info"><a href="/?category=code">code</a></span> | 2-7-2014</h5>

    <p>Unit testing in JavaScript can be difficult sometimes. Typically, you only want to test the behavior of a single module, but if you are using an AMD loader like RequireJS, you may be pulling in several other libraries and modules just to test a single module. The point of the unit test is to test an individual unit, not to test how it works with other dependencies.</p>
<p>If only there was a way to trick the test runner into thinking that the other modules were loaded by providing simplified stubs of the methods they actually performed! Good news, that is totally possible using <a href="https://github.com/iammerrick/Squire.js/">Squire</a>. Don&#39;t run away when you see the creepy looking mascot on the GitHub page, Squire is totally worth your time.</p>
<!-- more -->

<p>If you have used Angular, you are familiar with how dependency injection can work in JavaScript. Squire has extended this ability to work with any AMD module. The basic idea is that the module says that it needs &quot;x dependency&quot;, but Squire steps in and says &quot;well, actually I&#39;m going to give you y dependency instead, but you can still go on believing that it is x dependency. Silly you.&quot;</p>
<p>Let&#39;s say that you have a module that looks like this:</p>
<pre><code class="language-js">// Person Module

define([
    &#39;underscore&#39;,
    &#39;friends&#39;
], function (_, Friends) {

    var Person = function (data) {
        this.init(data);
    };

    _.extend(Person.prototype, {

        addFriend: function (data) {
            this.friends.add(data);
        },

        getId: function () {
            return this._id;
        },

        init: function (data) {
            this.friends = new Friends(data.id);
            this.addFriend({ id: 223 });
        }

    });

    return Person;

});</code></pre>
<p>Obviously, it would have a friends dependency. That might look something like this:</p>
<pre><code class="language-js">// Friends Module

define([
    &#39;underscore&#39;
], function () {

    var Friends = function (id) {
        this.init(id);
    };

    _.extend(Friends.prototype, {

        add: function (friend) {
            this._friends.push(friend);
        },

        init: function (id) {
            this._friends = [];
            this._id = id;
        }

    });

});</code></pre>
<p>Now, lets say we want to test the Person module, but we want to test Friends separately. First lets look at how that might be done without dependency injection:</p>
<pre><code class="language-js">define([
    &#39;person&#39;
], function (Person) {

    describe(&#39;the person module&#39;, function () {

        beforeEach(function () {
            this.person = new Person({
                id: 213
            });
        });

        describe(&#39;when adding a new friend&#39;, function () {
            it (&#39;should add the friend to the the person&#39;, function () {
                assert.equal(this.person.getId(), 213);
            });
        });

    });

});</code></pre>
<p>Not too terrible, but we are just requiring one module from the person and there aren&#39;t any weird side effects like there might be in a real-world example.</p>
<p>To stop actually using the friends module, we can do this:</p>
<pre><code class="language-js">define([
    &#39;squire&#39;,
    &#39;sinon&#39;
], function (Squire, sinon) {

    var injector = new Squire();

    injector.mock({
        &#39;friends&#39;: {
            add: sinon.stub()
        }
    });

    injector.require([
        &#39;person&#39;
    ], function (Person) {

        describe(&#39;the person module&#39;, function () {

            beforeEach(function () {
                this.person = new Person({
                    id: 213
                });
            });

            describe(&#39;when adding a new friend&#39;, function () {
                it (&#39;should add the friend to the the person&#39;, function () {
                    this.person.addFriend(new Person({
                        id: 222
                    }));
                    assert.equal(this.person.find().length, 1);
                });
            });

        });

    });

});</code></pre>
<p>Sure, it is a little more code, but here is what we have gained:</p>
<ul>
<li>We are no longer loading the friends dependency, so the test will run faster</li>
<li>We are testing the person module in isolation</li>
</ul>
<p>Not bad, huh?</p>
<p>Let&#39;s walk through how we did that.</p>
<p>First of all, we created a new injector by instantiating Squire. </p>
<p>Next, we gave Squire an object of dependencies that we wanted it to replace by using <code>injector.mock</code>. You might also noticed that we used a library called <a href="http://sinonjs.org/">Sinon</a> to create an empty function that could take the place of friends.add(). If you haven&#39;t used Sinon, you are missing out, it allows you to fake methods and return anything you want from them, which makes it a perfect companion for Squire.</p>
<p>Last, we required our module using <code>inject.require()</code>. While the API does look exactly like RequireJS, it is passing the call through Squire for dependency injection instead of requiring the dependencies.</p>
<p>Pretty cool, huh?</p>


    <br /><br />

    <div class="bio">
      <div class="span2">
        <img src="http://profile.ak.fbcdn.net/hprofile-ak-frc3/c0.0.828.828/s480x480/972098_667223423562_1734574442_n.jpg" class="lazy" />
      </div>
      <div class="span5">
        <h3><a href="/about">About the Author</a></h3>
        <p><strong>Tyson Cadenhead</strong> is a Senior JavaScript Developer at <a href="http://aloompa.com">Aloompa</a>. He lives in the greater Nashville area. His specialty is writing large, scalable JavaScript applications on the client and server side. His passions are for good design, usability, and clean, reusable code.</p>
      </div>
    </div>

    <h5>Tags: 
    
        <span class="label">
            <a href="/?tag=testing">testing</a>
        </span>
    
        <span class="label">
            <a href="/?tag=squire">squire</a>
        </span>
    
    </h5>

</article>

<div class="share">
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
</div>

<h3>Related Posts:</h3>

<div class="span12 related-posts">

  <div class="span2 well thumbnail">
    
    <a href="/blog/syncing-angular-with-sails"><img src="/images/blog/syncing-angular-with-sails.png" /></a>
    <h5>
      <a href="/blog/syncing-angular-with-sails">Syncing Angular With Sails</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/my-new-standup-desk"><img src="/images/blog/standingdesk.png" /></a>
    <h5>
      <a href="/blog/my-new-standup-desk">My New Standup Desk</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/using-knockout-for-progressive-enhancement-on-lists"><img src="/images/blog/using-knockout-for-progressive-enhancement-on-lists.jpg" /></a>
    <h5>
      <a href="/blog/using-knockout-for-progressive-enhancement-on-lists">Progressive Enhancement With the Knockout Foreach Binding</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/making-browser-specific-css-less-intrusive-with-sass"><img src="/images/blog/browsers.png" /></a>
    <h5>
      <a href="/blog/making-browser-specific-css-less-intrusive-with-sass">Making Browser-Specific CSS Less Intrusive with SASS</a>
    </h5>
  </div>

</div>

<div class="google-things">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-5130799763611680"
       data-ad-slot="1525472392"
       data-ad-format="auto"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  </div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'tysoncadenhead';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

<div class="well span3 right overflow-auto">
  
  <h3>Don't Miss Anything!</h3>
  <h5>Sign Up For My Email Newsletter</h5>

  <!-- Begin MailChimp Signup Form -->
  <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
  <style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
  </style>
  <div id="mc_embed_signup">
  <form action="//tysoncadenhead.us9.list-manage.com/subscribe/post?u=97e25799111f2cec4dc714a43&amp;id=501ae643d4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <div style="position: absolute; left: -5000px;"><input type="text" name="b_97e25799111f2cec4dc714a43_501ae643d4" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
      </div>
  </form>
  </div>

  <!--End mc_embed_signup-->

  <h3>Popular Posts</h3>

  <div id="popular-posts"></div>

</div>
                    
                
            </div>
        </div>
        <script data-main="/js/app.js" src="/js/vendor/require.js"></script>
        <div class="footer">
            <div class="container">
                <div class="addthis_default_style span12 addthis_32x32_style">
                    <a class="addthis_button_facebook_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_twitter_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_linkedin_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_google_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_youtube_follow" addthis:userid="tysoncadenhead"></a>
                    <a href="http://tysoncadenhead.deviantart.com/gallery/" title="Deviant Art" target="_blank" class="deviant-art"></a>
                    <a class="addthis_button_flickr_follow" addthis:userid="tysonlloydcadenhead"></a>
                    <a class="addthis_button_instagram_follow" addthis:userid="tysoncadenhead"></a>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            window.tysonJS = {
                slug: ''
            };
        </script>
    </body>
</html>
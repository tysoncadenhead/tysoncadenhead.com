<!DOCTYPE html>
<!--[if IE 6]>
    <html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
    <html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
    <html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
    <html lang="en-US">
<!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
        <meta name="google-site-verification" content="AeV4w7EOhEv3lU1OT8KOM7jRS0C6jDAsZyMaG38t1g4" />
        <meta property="og:image" content="http://www.tysoncadenhead.com/images/blog/car.png"/>
        <meta property="og:title" content="Compound.js Routes"/>
        <meta property="og:url" content="http://www.tysoncadenhead.com"/>
        <meta property="og:site_name" content="Tyson Cadenhead"/>
        <meta property="og:description" content="The Art Of Elegant JavaScript Applications" />
        <title>Compound.js Routes</title>
        <link rel="shortcut icon" href="/images/favicon.ico" /> 
        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/app.css" />
        <link rel="alternate" type="application/rss+xml" title="Compound.js Routes The Art Of Elegant JavaScript Applications" href="http://www.tysoncadenhead.com/feed.xml" />
        
    </head>
    <body>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-19696495-1']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
        </script>
        <div id="fb-root"></div>
        <div class="container">
            <div class="header" id="top">
                <div class="span12">
                    <div class="span4 left">
                        <h1 id="logo"><a href="/"><img src="/images/logo-new.png" /></a></h1>
                    </div>
                    <div id="nav-toggle">
                        <span></span>
                    </div>
                    <div class="span6 right">
                        <div class="navbar navbar-inverse">
                            <div class="navbar-inner right">
                                <ul class="nav right">
                                  <li><a href="/">Blog</a></li>
                                  <li><a href="/presentations">Presentations</a></li>
                                  <li><a href="/videos">JavaScript Vignettes</a></li>
                                  <li><a href="/about">About Me</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span12">
                
                    
                    
                        
                        

<script type="text/javascript">
var posts = {"avoid-using-lodash-defer":{"published":true,"title":"Avoid Using _.defer()","tags":["javascript"],"category":"code","date":"1/18/2016","thumbnail":"/images/blog/avoid-using-lodash-defer.jpg","yield":"<p>We&#39;ve all be there. You&#39;re trying to get a certain block of code to execute after everything else is done. If it executes too soon, you won&#39;t get it to do the thing you want it to. Lodash.defer() to the rescue! Just wrap the code that you want to execute last in an <code>_.defer()</code> method and it will wait until everything on the current call stack has completed and then execute your desired code. Problem solved. Or was it?</p>\n<!-- more -->\n<p>You see, when a <code>_.defer()</code> appears in your code, it is usually a code smell. It means that you are putting the code you want to execute too early.</p>\n<p>Take this block as an example:</p>\n<pre><code>doFirstThing();\n\n_.defer(() =&gt; {\n    doThirdThing();\n});\n\ndoSecondThing();\n</code></pre><p>Obviously, it will execute the first thing, then the second thing and finally the third thing, but it could have more easily been written as:</p>\n<pre><code>doFirstThing();\ndoSecondThing();\ndoThirdThing();\n</code></pre><p>This makes sense when we are just executing a bunch of functions in order, but it&#39;s not always as straightforward as that when we&#39;re using an api that someone else wrote with specific lifecycle hooks. Take this example using React lifecycle hooks:</p>\n<pre><code>componentWillUpdate () {\n    _.defer(() =&gt; {\n        this.setState({\n            name: &#39;MyName&#39;\n        });\n    })l\n}\n\nrender () {\n    return (\n        &lt;div&gt;{this.state.name}\n    );\n}\n</code></pre><p>Using the <code>_.defer</code> here makes the <code>setState</code> execute after <code>render</code> is executed, but if we had used the correct lifecycle hook, this could have been avoided:</p>\n<pre><code>componentDidUpdate () {\n    this.setState({\n        name: &#39;MyName&#39;\n    });\n}\n\nrender () {\n    return (\n        &lt;div&gt;{this.state.name}\n    );\n}\n</code></pre><p>You will get better performance from avoiding tacking functions onto the end of the call stack, but it also makes it more clear to see what is getting executed at which point. The pressure, of course, falls on library and framework authors to expose methods at key points in the lifecycle of components and utilities so that we can avoid defer, but it should always raise an eyebrow if we see a <code>_.defer()</code> and if there is a way to avoid it, which there often is, you will be a much happier developer.</p>\n"},"use-object-dot-keys-to-loop-over-objects":{"published":true,"title":"Use Object.keys() To Loop Over Objects","tags":["javascript"],"category":"code","date":"1/4/2016","thumbnail":"/images/blog/use-object-dot-keys-to-loop-over-objects.jpg","slug":"use-object-dot-keys-to-loop-over-objects"},"what-will-2016-hold-for-tyson-cadenhead":{"published":true,"title":"What Will 2016 hold for tysoncadenhead.com?","tags":["javascript"],"category":"code","date":"1/1/2016","thumbnail":"/images/blog/what-will-2016-hold-for-tyson-cadenhead.jpg"},"private-methods-in-javascript":{"published":true,"title":"Private Methods In JavaScript","tags":["javascript","es6"],"category":"code","date":"12/21/2015","thumbnail":"/images/blog/private-methods-in-javascript.jpg","slug":"private-methods-in-javascript"},"unit-testing-react-components-with-mocha":{"published":true,"title":"Unit Testing React Components With Mocha","tags":["react","javascript","testing","mocha"],"category":"code","date":"12/13/2015","thumbnail":"/images/blog/unit-testing-react-components-with-mocha.jpg","slug":"unit-testing-react-components-with-mocha"},"handling-clicks-outside-an-element":{"published":true,"title":"Handling Clicks Outside An Element","tags":["javascript"],"category":"code","date":"11/28/2015","thumbnail":"/images/blog/handling-clicks-outside-an-element.png","slug":"handling-clicks-outside-an-element"},"pro-tip-use-consistent-spacing-between-variable-names-to-avoid-merge-conflicts":{"published":true,"title":"Pro-Tip: Use Consistent Spacing Between Variable Names to Avoid Merge Conflicts","tags":["javascript"],"category":"code","date":"11/13/2015","thumbnail":"/images/blog/merge.png"},"where-should-i-put-javascript-unit-tests":{"published":true,"title":"Where Should I Put JavaScript Unit Tests?","tags":["javascript","architecture","testing","mocha"],"category":"code","date":"11/7/2015","thumbnail":"/images/blog/where-should-i-put-javascript-unit-tests.jpg","slug":"where-should-i-put-javascript-unit-tests"},"how-to-organize-component-based-code":{"published":true,"title":"How To Organize a Component-Based Application","tags":["javascript","architecture","react"],"category":"code","date":"11/1/2015","thumbnail":"/images/blog/how-to-organize-component-based-code.jpg"},"what-is-es6-destructuring":{"published":true,"title":"What Is ES6 Destructuring?","tags":["javascript","es6"],"category":"code","date":"10/25/2015","thumbnail":"/images/blog/what-is-es6-destructuring.jpg"},"what-are-arrow-functions":{"published":true,"title":"What Are Arrow Functions?","tags":["javascript","es6"],"category":"code","date":"10/20/2015","thumbnail":"/images/blog/what-are-arrow-functions.jpg"},"react-with-es6-classes":{"published":true,"title":"React With ES6 Classes","tags":["react","es6"],"category":"code","date":"08/03/2015","thumbnail":"/images/blog/react-es6-classes.png"},"what-will-javascript-be-like-in-2015":{"published":true,"title":"What Will JavaScript Be Like In 2015?","tags":["javascript"],"category":"code","date":"01/03/2015","thumbnail":"/images/blog/what-will-javascript-be-like-in-2015.png"},"angular-promises":{"published":true,"title":"A Crash Course On Angular Promises","tags":["angular","promises"],"category":"code","date":"12/22/2014","thumbnail":"/images/blog/angular-promises.png","yield":"<p>Writing complex behaviors in an asynchronous language like JavaScript can be a bit of a challenge. If you aren&#39;t careful, you can make some pretty ugly nested code in order to get things to work like you expect. To solve the problem of illegible nested callbacks, we have promises. If you are writing applications in Angular, you are in luck because Angular ships with a great promise library called &quot;Q&quot;. Today, we&#39;re going to look at a few approaches to making more readable and maintainable Angular applications with the help of the built in Q promise library.</p>\n<!-- more -->\n<p><img src=\"http://cdn.meme.am/instances/500x/54391964.jpg\" width=\"50%\" alt=\"\"></p>\n<h3>What Are Promises?</h3><p>In the distant past, I have been guilty of writing things like this:</p>\n<pre><code>myModels.getPerson({ id: 1 }, function (person) {\n   myModels.getDad(person, function (dad) {\n        myModels.getPet(dad, function (pet) {\n            myModels.getPetColor(pet, function (color) {\n                // ...\n            });\n        });\n   });\n});\n</code></pre><p>It looks really ugly, but there were instances where I needed to make one asynchronous operation, then based on the data that I got back from the operation, I would need to make another operation and the tunnel of madness would begin. Promises are an answer to that problem.</p>\n<p>Whether you know it or not, you&#39;ve probably been exposed to promises inside of libraries like jQuery when you tack a <code>then()</code> method on after a function.</p>\n<p>The way it works is that the function returns a &quot;promise&quot; instead of a result. Inside the function, the promise can be resolved at some point and the <code>then()</code> method is fired which continues the chain of methods you are building.</p>\n<p>Taking our contrived example above, if we were using promises, it might look more like this:</p>\n<pre><code>myModels\n    .getPerson({\n        id: 1\n    })\n    .then(myModels.getDad)\n    .then(myModels.getPet)\n    .then(myModels.getPetColor)\n    .done(function (data) {\n        // ...\n    });\n</code></pre><p>Now we&#39;ve got an API that is readable and maintainable. Life is good again.</p>\n<p><img src=\"http://www.quickmeme.com/img/01/015f8f78101fcf7e97a3b9492a1aee81f7ed3958b5356eee14cf8391a98d2888.jpg\" width=\"50%\" /></p>\n<h3>What Is <code>Q</code>?</h3><p>There are numerous promise libraries out there, but Angular ships with one called <a href=\"https://github.com/kriskowal/q\">Q</a>. It is a really nice library and I&#39;ve used it for some of my non-Angular and even some of my Node projects in the past. Angular can inject <code>$q</code> directly, but some of the services, such as the <code>$resource</code> service already use it under the hood.</p>\n<p><img src=\"http://ct.fra.bz/ol/fz/sw/i59/5/9/27/frabz-One-does-Not-Simply-give-a-promise-then-pretend-it-never-happen-2d0ebe.jpg\" width=\"50%\" /></p>\n<h3>Deferring A Promise</h3><p>The syntax for deferring a promise is pretty straightforward. You need to instantiate a new <code>$q.defer()</code> and then return the promise off of the object that it returns. When you&#39;re done doing what you&#39;re doing, you just need to resolve the deferred object. If you have any data that you want to pass into the resolve function, you can pass it as the first argument.</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .service(&#39;Wait&#39;, Wait);\n\nWait.$inject = [&#39;$q&#39;, &#39;$window&#39;];\n\nfunction Wait ($q, $window) {\n\n    var service = {};\n\n    service.waitFor = waitFor;\n\n    function waitFor (ms) {\n        var deferred = $q.defer();\n\n        $window.setTimeout(function () {\n            deferred.resolve();\n        }, ms);\n\n        return deferred.promise;\n    }\n\n    return service;\n\n}\n</code></pre><p>The service above could be used like this:</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyController&#39;, MyController);\n\nMyController.$inject = [&#39;Wait&#39;];\n\nfunction MyController (Wait) {\n    Wait\n        .waitFor(1000)\n        .then(function () {\n            alerted(&#39;I already waited for a second! I\\&#39;m bored!&#39;);\n        });\n}\n</code></pre><p><img src=\"http://djebbz.github.io/async-paris-js/images/why-so-asynchronous.jpg\" width=\"50%\" /></p>\n<h3>Waiting For Multiple Promises</h3><p>Sometimes, you have multiple promise you want to resolve, but it doesn&#39;t necessarily matter what order the functions are executed in. You just want to execute multiple asynchronous operations and get notified when they are done. For that, we have <code>$q.all</code>. The &quot;all&quot; method takes an array of functions and gives you a callback when they are all completed.</p>\n<p>Using <code>$q.all</code> looks something like this:</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyController&#39;, MyController);\n\nMyController.$inject = [&#39;$q&#39;, &#39;$window&#39;];\n\nfunction MyController ($q, $window) {\n\n    $q.all([\n        $q(firstThing()),\n        $q(firstSecond()),\n        $q(thirdThing())\n    ])\n    .then(function (data) {\n        // ...\n    });\n\n    function firstThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 1000);\n\n        return deferred.promise;\n    }\n\n    function secondThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 2000);\n\n        return deferred.promise;\n    }\n\n    function thirdThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 3000);\n\n        return deferred.promise;\n    }\n\n}\n</code></pre><p>Note that the each function you are passing into the array that is the first argument of <code>$q.all</code> method needs to be wrapped in a <code>$q</code>. That might seem a little tedious, but it keeps the functions from executing without a proper callback and in turn breaking the chain.</p>\n<p>There might be a little learning curve with Angular promises, but it is well worth the effort. Promises can go a long way to make cleaner more maintainable code and I&#39;ve found that the implementation in Angular is very solid.</p>\n","slug":"angular-promises"},"angular-controller-as":{"published":true,"title":"Ditching $scope For ControllerAs In Angular Apps","tags":["angular"],"category":"code","date":"11/29/2014","thumbnail":"/images/blog/angular-controller-as.jpeg","yield":"<p>At the ng-europe conference in Paris this year, the Angular team made several revelations about what Angular 2.0 will look like once it is complete. Several of the current features of Angular will be put to rest, but one of the more notable ones is the controller <code>$scope</code>. As developers prepare to eventually migrate their applications to Angular 2.0, it is important to do what we can currently in order to prepare for the easiest migration. One thing we already know we can do is to stop using the angular $scope entirely in our controllers. This is how you can do exactly that.</p>\n<!-- more -->\n<h3>What&#39;s Wrong With <code>$scope</code>?</h3><p>The current implementation of the Angular $scope is an artifact of the earlier days of Angular when many of the big questions about how to build high-quality single page applications were still being figured out and debated. The issue with injecting a <code>$scope</code> into a controller is that the there is no way to distinguish where a parameter is coming from in a template. Take this as an example:</p>\n<pre><code class=\"language-js\">&lt;div ng-controller=&quot;MyFirstController&quot;&gt;\n    &lt;div ng-controller=&quot;MySecondController&quot;&gt;\n        {{myProperty}}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In the example above, there is no way to determine whether the first controller or the second controller sets the <code>myProperty</code> binding. It could actually be either one, since the scope is inherited up the chain.</p>\n<p>Because of the ambiguity along with the unnecessary verbosity of creating a unique scope inside of every controller, as the Angular 2.0 project has been progressing, it has been determined that a much better approach is to treat the controller itself as the scope.</p>\n<h3>What Can I Do To Stop Using <code>$scope</code>?</h3><p>Fortunately, we can already stop injecting a <code>$scope</code> into our controllers by using the <code>controllerAs</code> syntax in the current version of Angular. The controllerAs syntax is fairly straightforward and will probably look more familiar to developers who cut their teeth in traditional object oriented JavaScript before learning Angular. When we use <code>controllerAs</code>, <code>this</code> becomes what we would refer to as the scope of the controller.</p>\n<p>That means that instead of this:</p>\n<pre><code class=\"language-js\">angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstController&#39;, MyFirstController);\n\nMyFirstController.$inject = [&#39;$scope&#39;];\n\nfunction MyFirstController ($scope) {\n    $scope.myAttr = &#39;myAttribute&#39;;\n    $scope.myMethod = function () {}\n}\n</code></pre>\n<p>A controller would look more like this:</p>\n<pre><code class=\"language-js\">angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstController&#39;, MyFirstController);\n\nMyFirstController.$inject = [];\n\nfunction MyFirstController () {\n    var vm = this;\n    vm.myAttr = &#39;myAttribute&#39;;\n    vm.myMethod = function () {}\n}\n</code></pre>\n<h3>Okay, But How Do I Bind That?</h3><p>Ultimately, you&#39;ll want to try to bind your controllers outside of your the template that is bound to. That way, you could reuse templates as needed. I won&#39;t be doing that in this example, because everything is in a single template, but I just wanted to make that clear. To bind your new controller, you&#39;ll just need to do something like this:</p>\n<pre><code class=\"language-js\">&lt;div ng-controller=&quot;MyFirstController as myFirstCtrl&quot;&gt;\n    &lt;div ng-click=&quot;myFirstCtrl.myMethod()&quot;&gt;{{myFirstCtrl.myAttr}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Now everything related to the controller that you have bound is namespaced to it. This avoids the confusion of nested scopes and lets you easily distinguish where everything is coming from.</p>\n<h3>Can I Bind The Controller In The Route?</h3><p>Whenever possible, it is best to bind your controller in the route itself rather than inside your templates. That will look something like this:</p>\n<pre><code class=\"language-js\">function appConfig($routeProvider) {\n    $routeProvider\n        .when(&#39;/myRoute/:id&#39;, {\n            templateUrl: &#39;/templates/myTemplate.html&#39;,\n            controller: &#39;MyFirstController&#39;,\n            controllerAs: &#39;myFirstCtrl&#39;\n        });\n}\n</code></pre>\n<p>This functionally works the same as setting the controller in the template. Everything in the <code>this</code> context of the controller is namespaced to <code>myFirstCtrl</code>.</p>\n<p>I can say from my own personal experience that I ditched the use of <code>$scope</code> a few weeks ago and I haven&#39;t missed it at all. I feel good knowing that I&#39;m working towards an easier migration once Angular 2.0 is ready and my applications have honestly been much easier to read and debug.</p>\n"},"testing-angular-controllers-with-karma":{"published":true,"title":"Testing Angular Controllers With Karma","tags":["angular","karma","unit testing"],"category":"code","date":"10/10/2014","thumbnail":"/images/blog/testing-angular-controllers-with-karma.jpeg"},"new-job-at-aloompa":{"published":true,"title":"My New Job At Aloompa","tags":["jobs","life"],"category":"life","date":"9-24-2014","thumbnail":"/images/blog/aloompa.png","slug":"new-job-at-aloompa"},"getting-started-with-react":{"published":true,"title":"Getting Started With React","tags":["react"],"category":"code","date":"9-08-2014","thumbnail":"/images/blog/react.png"},"automatically-refresh-your-browser-when-your-code-changes-with-bowsersync":{"published":true,"title":"Automatically Refresh Your Browser When Your Code Changes With BrowserSync","tags":["browsers","browsersync"],"category":"code","date":"9-03-2014","thumbnail":"/images/blog/browsersync.png","yield":"<p>When I first started writing client-side applications, the process was terrible. I had to save my file and then flip over to my browser to check my results. As a result, I was clicking two buttons every time I wanted to save a file. To make matters worse, I had to repeat the process to test my application in multiple browsers. To test a minimum of Chrome, Firefox and a single version of Internet Explorer, I was clicking 4 buttons. To repeat that flow over and over again to test incremental changes was soul killing.</p>\n<!-- more -->\n<p><img src=\"/images/blog/auqaman.png\" alt=\"\"></p>\n<h3>LiveReload</h3><p>A few years ago, a solution called <a href=\"http://livereload.com/\">LiveReload</a> was introduced to address this problem. Using LiveReload, I could tell my computer to watch a certain directory for changes. When a change occurred in one of my files, it would refresh the browser. My workflow with LiveReload was much easier, but the setup was a pain. Anytime I&#39;d set up a new project, I found myself spending an inordinate amount of time setting up a grunt task to watch certain files and keep my browser up to date. Ultimately, I found myself slipping back into the old flow of development on smaller projects because it was too much of a pain to get working.</p>\n<p><img src=\"/images/blog/superman.png\" alt=\"\"></p>\n<h3>Enter BrowserSync</h3><p>A few days ago, I tried out <a href=\"http://www.browsersync.io/\">BrowserSync</a> for the first time. BrowserSync is available as a Grunt or Gulp plugin, but it is also really simple to run as a process in the terminal.</p>\n<p>BrowserSync runs with NodeJS, so if you already have Node installed, you just need to install the <code>browser-sync</code> package like this:</p>\n<pre><code class=\"language-bash\">npm install -g browser-sync\n</code></pre>\n<p>Once BrowserSync is installed, you can use it to watch static files or you can create a proxy for a dynamic site. For example, if I have a SailsJS application, I could watch the files in the <code>public</code> directory like this:</p>\n<pre><code class=\"language-bash\">browser-sync start --proxy &quot;localhost:3117&quot; --files &quot;public/**/*&quot;\n</code></pre>\n<p>BrowserSync will create a proxy to serve the site through and open a browser window pointing to that proxy. Now, anytime I change a file in my <code>public</code> directory, the browser window will be refreshed and I will see the latest code.</p>\n<p>BrowserSync doesn&#39;t care what backend technology you are using. I typically write in Node, but if I was using PHP or Ruby, it would work exactly the same.</p>\n<p>I have been really impressed with BrowserSync so far. Try it out, you may find yourself in a happier place.</p>\n"},"how-to-upload-remote-images-with-sails-js":{"published":true,"title":"How To Upload Remote Images With SailsJS","tags":["sailsjs","amazons3"],"category":"code","date":"8-18-2014","thumbnail":"/images/blog/how-to-upload-remote-images-with-sails-js.png"},"communicating-between-controllers-in-angular":{"published":true,"title":"Communicating Between Controllers In Angular","tags":["angular","pubsub"],"category":"code","date":"8-11-2014","thumbnail":"/images/blog/communicating-between-controllers-in-angular.jpg","yield":"<p>In Angular, there are times when you will want one controller to be able to communicate with other controllers. For example, if you want your user to be able to click a button and for a different controller to be aware of the UI change.</p>\n<!-- more -->\n<p>Take this markup as an example:</p>\n<pre><code class=\"language-html\">&lt;div ng-app=&quot;myApp&quot;&gt;\n    &lt;div ng-controller=&quot;Ctrl1&quot;&gt;\n        The current number is: {{number}}\n    &lt;/div&gt;\n    &lt;div ng-controller=&quot;Ctrl2&quot;&gt;\n        &lt;button ng-click=&quot;buttonClick()&quot;&gt;Click Me&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>It&#39;s a very basic contrived example, but we have a controller called &quot;Ctrl1&quot; that has a number in its scope. We also have a totally separate controller called &quot;Ctrl2&quot; that has a button with a click event on it.</p>\n<p>Our entire application might look like this:</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.number = 1;\n}]);\n\nmyApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.buttonClick = function () {\n        console.log(&#39;button was clicked&#39;);\n    };\n}]);\n</code></pre>\n<p>We obviously don&#39;t want to reference <code>Ctrl2</code> in <code>Ctrl1</code>. That is what we call &quot;tight coupling&quot; and it is a sure recipe for building an app that will  fall apart when changes are made. What we want to do is broadcast an event to let any controllers in the application know that there has been a change. That way, the controllers that are interested will react to the event, but no controller is directly communicating with any other controller. In other words, all <code>Ctrl1</code> knows is that it is broadcasting an event. All that <code>Ctrl2</code> knows is that it is listening for an event. They are completely unaware of the existence of one another.</p>\n<p>First of, we will need to modify <code>Ctrl1</code> to listen for an event. Angular gives us the ability to listen for and emit events on any module, but it won&#39;t do any good to listen for an event on the <code>$scope</code> of <code>Ctrl1</code> itself because <code>Ctrl2</code> can&#39;t send an event to it. It doesn&#39;t know that it exists. Instead, we will need to inject the $rootScope into our controller. The $rootScope is the application itself.</p>\n<p>Using the $rootScope and the <code>$on</code> method, we can listen for any events that are broadcast to the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.number = 1;\n    $rootScope.$on(&#39;buttonClicked&#39;, function () {\n        $scope.number++;\n    });\n}]);\n</code></pre>\n<p>The <code>$on</code> event that is triggered has two arguments, the context of the event and the data that is being broadcast. This means that you could actually pass an object of data with the event.</p>\n<p>Last of all, we will need to update <code>Ctrl2</code> to broadcast an event when the button is clicked. Again, this will need to happen on the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">myApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.buttonClick = function () {\n        $rootScope.$broadcast(&#39;buttonClicked&#39;);\n    };\n}]);\n</code></pre>\n<p>As you can see, sending messages between controllers is actually pretty simple. If you&#39;d like to see this all together, I&#39;ve created a <a href=\"http://jsfiddle.net/63KWh/\">Fiddle</a> that you can try out. For more advanced messaging, I would recommend checking out Jonathan Creamer&#39;s article, &quot;<a href=\"http://jonathancreamer.com/an-angular-event-bus-with-postal-js/\">An angular.js event bus with postal.js</a>&quot; where he shows how do this same thing using Postal. His approach requires another library, but it does provide a more robust API to work with.</p>\n<p>How are you handling communication between modules and controllers in Angular? I&#39;d love to hear your thoughts.</p>\n"},"the-state-of-javascript-a-shift-from-imperative-to-declarative":{"published":true,"title":"The State Of JavaScript - A Shift From Imperative To Declarative","tags":["javascript"],"category":"code","date":"8-04-2014","thumbnail":"/images/blog/the-state-of-javascript-a-shift-from-imperative-to-declarative.jpg","slug":"the-state-of-javascript-a-shift-from-imperative-to-declarative"},"using-knockout-for-progressive-enhancement-on-lists":{"published":true,"title":"Progressive Enhancement With the Knockout Foreach Binding","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-28-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement-on-lists.jpg"},"using-knockout-for-progressive-enhancement":{"published":true,"title":"Using Knockout For Progressive Enhancement","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-14-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement.jpg"},"how_to_not_be_a_cyborg_when_you_work_on_computers":{"published":true,"title":"How To Not Be A Cyborg When You Work On Computers","tags":["productivity","working-from-home","work-life-balance"],"category":"productivity","date":"7-03-2014","thumbnail":"/images/blog/cyborg.png","slug":"how_to_not_be_a_cyborg_when_you_work_on_computers"},"syncing-angular-with-sails":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":7,"lastPart":true,"title":"Syncing Angular With Sails","tags":["sailsjs","angular"],"category":"code","date":"6-30-2014","thumbnail":"/images/blog/syncing-angular-with-sails.png","slug":"syncing-angular-with-sails"},"sails-models":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":6,"title":"Sails Models","tags":["sailsjs"],"category":"code","date":"6-27-2014","thumbnail":"/images/blog/sails-models.png"},"angular-controllers-with-sails-app":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":5,"title":"Angular Controllers","tags":["angular"],"category":"code","date":"6-12-2014","thumbnail":"/images/blog/angular-controllers-with-sails-app.png","yield":"<div class=\"series-placement\">\n\n    This is part 5 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/adding-dependencies\">Previous Post In This Series</a> | <a href=\"/blog/sails-models\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>In the past few posts, I&#39;ve been laying the groundwork for building an Angular application on top of Sails. Now that everything is in place, we can jump right in to adding Angular views.</p>\n<!-- more -->\n<h3>Create the List Route</h3><p>First, we will generate a new controller and model called &quot;list&quot;:</p>\n<pre><code class=\"language-bash\">sails generate list\n</code></pre>\n<p>Next, we will add a link to the list page in our layout.ejs file:</p>\n<pre><code class=\"language-html\">&lt;li class=&quot;&lt;% if (title === &#39;List&#39;) { %&gt;active&lt;% } %&gt;&quot;&gt;\n  &lt;%- link_to(&#39;List&#39;, &#39;/list&#39;) %&gt;\n&lt;/li&gt;\n</code></pre>\n<p>Now, if we open our <code>/api/controllers/ListController.js</code> file, we can add a method to render the index page:</p>\n<pre><code class=\"language-js\">module.exports = {\n  index: function (req, res) {\n    res.view(null, {\n        title: &#39;List&#39;\n    });\n  },\n  _config: {}\n};\n</code></pre>\n<p>Finally, we will create a view for the lists in <code>/views/list/index.ejs</code>:</p>\n<pre><code class=\"language-html\">&lt;ul class=&quot;checklist&quot;&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; checked /&gt; Do a thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do another thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do a third thing\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;button class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\n&lt;button class=&quot;btn btn-danger&quot;&gt;Remove&lt;/button&gt;\n</code></pre>\n<h3>Add the Angular Controller</h3><p>Now that we&#39;ve got the view rendering for our list, we can add an Angular controller to it.</p>\n<p>We will update the markup for the <code>views/list/index.ejs</code> template to use Angular:</p>\n<pre><code class=\"language-html\">&lt;div ng-controller=&quot;ListCtrl&quot;&gt;\n    &lt;ul class=&quot;checklist&quot;&gt;\n        &lt;li ng-repeat=&quot;item in items&quot;&gt;\n            &lt;input type=&quot;checkbox&quot; ng-checked=&quot;item.completed&quot; /&gt; &lt;span ng-bind=&quot;item.description&quot;&gt;&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;button class=&quot;btn btn-primary&quot; ng-click=&quot;addItem&quot;&gt;Add&lt;/button&gt;\n    &lt;button class=&quot;btn btn-danger&quot; ng-click=&quot;removeItems&quot;&gt;Remove&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The Angular bindings to take note of are the <code>ng-controller</code>. That will bind everything inside of it to the context of the controller we specified. Next, there is the <code>ng-repeat</code>, which loops over items in the scope.</p>\n<p>Now that we&#39;ve added the controller to the markup, we need to actually create the controller in JavaScript. Let&#39;s look at our <code>/assets/js/app.js</code> file. We&#39;ll need it to update it to look like this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;,\n  &#39;controllers&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, [\n    &#39;controllers&#39;\n  ]);\n\n  return app;\n\n});\n</code></pre>\n<p>Basically, we are requiring a JavaScript file which we haven&#39;t created yet called <code>controllers.js</code>. We are also adding a &quot;controllers&quot; module to our application.</p>\n<p>Now that we&#39;ve got that in place, let&#39;s create the <code>/assets/js/controllers.js</code> file:</p>\n<pre><code class=\"language-js\">define(function (require) {\n\n  var angular = require(&#39;angular&#39;),\n      Controllers = angular.module(&#39;controllers&#39;, []);\n\n  Controllers.controller(&#39;ListCtrl&#39;, require(&#39;controllers/listCtrl&#39;));\n\n  return Controllers;\n\n});\n</code></pre>\n<p>The great thing about the way we&#39;ve set up this file is that anytime we need to add a new controller, it&#39;s as simple as adding one new line. This will require the controller and initialize it.</p>\n<p>Now, we&#39;ll need to create a new directory at <code>/assets/js/controllers</code>. Inside our new folder, we&#39;ll make a file named <code>listCtrl.js</code>. The listCtrl.js file should look like this:</p>\n<pre><code class=\"language-js\">define(function () {\n    return [&#39;$scope&#39;, function($scope) {\n        $scope.addItem = function () {\n            console.log(&#39;addItem&#39;);\n        };\n        $scope.removeItems = function () {\n            console.log(&#39;removeItems&#39;);\n        };\n        $scope.items = [{\n            description: &#39;Do a thing&#39;,\n            completed: true\n        }, {\n            description: &#39;Do another thing&#39;,\n            completed: false\n        }, {\n            description: &#39;Do a third thing&#39;,\n            completed: false\n        }];\n    }];\n});\n</code></pre>\n<p>So there we go. Each of our controller AMD modules will just return an array with the dependencies as the items in the array and a function as the last item, just like a regular Angular controller except the controller is being initialized in the controller.js file, not on an individual module basis.</p>\n<p>We are adding an array of &quot;items&quot; to the <code>$scope</code>. We also went ahead and stubbed out a couple of methods for the buttons. They&#39;ll just do a console.log for now, but we&#39;ll get them working soon.</p>\n<p>Now we have Angular controllers on top of our Sails app. At this point, the app should look something like this:</p>\n<p><img src=\"/images/blog/angular-controllers-with-sails-app2.png\" alt=\"\"></p>\n<p>Next time we&#39;ll start getting real data on the app.</p>\n<p>If you want to see the point our sample app should be at by now, check out the Github repo <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/12d1e1860f0c1ae5acead7f6011059ce6b637375\">at this point</a>.</p>\n"},"adding-dependencies":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":4,"title":"Adding Dependencies","tags":["sailsjs","angular"],"category":"code","date":"5-30-2014","thumbnail":"/images/blog/adding-the-dependencies.png","yield":"<div class=\"series-placement\">\n\n    This is part 4 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/server-side-views\">Previous Post In This Series</a> | <a href=\"/blog/angular-controllers-with-sails-app\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>As I promised at the beginning of this series, we are going to be using <a href=\"http://requirejs.org/\">RequireJS</a> to manage our client-side modules. If you haven&#39;t used RequireJS or a similar AMD loader before, let me just say that you are really missing out. RequireJS lets you write your code in small modules that only expose the parts of the API that you want to show and as an added bonus, it uses JavaScript to load your JavaScript modules.</p>\n<!-- more -->\n<p><img src=\"http://bower.io/img/bower-logo.png\" width=\"250px\" /></p>\n<h4>We Can Use Bower, Right?</h4><p>Before we get started, I wanted to give a quick rant about why using bower in a Sails project hasn&#39;t worked very well for me. <a href=\"http://bower.io\">Bower</a> is a package manager for client-side JavaScript much like <a href=\"http://www.npmjs.com/\">NPM</a> is for server-side JavaScript. Typically, I would use bower to manage my dependencies for any project. The issue is that Sails doesn&#39;t run your assets right out of the folder you create them in. Instead, it packages them up with Grunt and runs them out of <code>.tmp/public</code>. That approach is really helpful if you have a compilation step such as converting SASS or LESS stylesheets to CSS or minifying your JavaScript. The issue is that it if you have a ton of files in your assets directory, as is often the case when you have installed bower packages, you will inevitably either get errors complaining about the number of files being processed or it will be painfully slow. Either way, I&#39;ve come to the painful conclusion that using Bower with Sails is more trouble than it is worth.</p>\n<p>My compromise is typically to load my vendor files from a CDN whenever there is one instead of junking up my project with code that I didn&#39;t write.</p>\n<p><img src=\"http://ianreah.com/img/requirejs-logo.png\" alt=\"RequireJS\"></p>\n<h4>RequireJS</h4><p>There is actually some debate about whether or not RequireJS has value in an Angular project. Angular has a dependency injection concept that makes running the code itself pretty modular. However, it doesn&#39;t load specific files for you out of the box. There are a few ways to leverage the Angular library to load your files for you. To me, though, it seems simpler to follow a set standard like what RequireJS provides by closely following the AMD spec. That way, developers in the future will have a clearer idea of where the code is coming from and how it is being loaded.</p>\n<p>So, let&#39;s get RequireJS working.</p>\n<p>Let&#39;s open the layout.ejs file and add a line to instantiate our Angular application. We will replace the body tag with this:</p>\n<pre><code class=\"language-html\">&lt;body ng-app=&quot;todoIt&quot;&gt;\n</code></pre>\n<p>The name of the app can be whatever you want to call your application, but just be aware that you will be referencing it later in your javaScript.</p>\n<p>Next, we need to go to the bottom of the layout.ejs file and replace all of the JavaScript files with this:</p>\n<pre><code class=\"language-html\">&lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.11/require.min.js&quot; data-main=&quot;/js/main&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>That will load the require.min.js file from a CDN and then immediately require your <code>/js/main.js</code> file. Don&#39;t have a main.js file yet? No problem. Let&#39;s go ahead and build that.</p>\n<pre><code class=\"language-js\">window.name = &#39;NG_DEFER_BOOTSTRAP!&#39;;\n\nrequire.config({\n  &#39;baseUrl&#39;: &#39;/js&#39;,\n  &#39;paths&#39;: {\n    &#39;angular&#39;: &#39;//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular&#39;,\n    &#39;jquery&#39;: &#39;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min&#39;,\n    &#39;bootstrap&#39;: &#39;//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min&#39;\n  },\n  &#39;shim&#39;: {\n    &#39;angular&#39;: {\n      &#39;exports&#39;: &#39;angular&#39;\n    },\n    &#39;bootstrap&#39;: {\n      &#39;deps&#39;: [&#39;jquery&#39;]\n    },\n    &#39;socket.io&#39;: {\n      &#39;exports&#39;: &#39;io&#39;\n    },\n    &#39;sails.io&#39;: {\n      &#39;deps&#39;: [&#39;socket.io&#39;],\n      &#39;exports&#39;: &#39;io&#39;\n    }\n  }\n});\n\nrequire([\n  &#39;angular&#39;,\n  &#39;app&#39;,\n  &#39;bootstrap&#39;\n], function (angular, app) {\n\n  angular.element(document.getElementsByTagName(&#39;html&#39;)[0]);\n\n  angular.element().ready(function() {\n    angular.resumeBootstrap([app.name]);\n  });\n\n});\n</code></pre>\n<p>Notice at the top where we set the <code>window.name</code> to &quot;NG_DEFER_BOOTSTRAP!&quot;. That will keep angular from initializing until we tell it to. Near the bottom after everything is loaded, we call angular.resumeBootstrap(). That is where angular picks back up and finishes initializing.</p>\n<p>The socket.io and sails.io files that come with Sails are not wrapped as AMD modules, so we need to shim them both and export the io variable.</p>\n<p>Otherwise, the main.js is pretty standard for a requireJS config file. </p>\n<p>We will also need to update the app.js file to this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, []);\n\n  return app;\n\n});\n</code></pre>\n<p>We are leaving the socket.io connection. We&#39;ll be working with that later on. For now, we mostly just want to return our app as a new angular module. Notice that the name &quot;todoIt&quot; is the same as the <code>ng-app</code> that we added to our layout.ejs file.</p>\n<p>Now the main.js file will take the app that is returned from app.js and create an angular application.</p>\n<p>When you look at your console at this point, you should get a message that says:</p>\n<pre><code class=\"language-bash\">Socket is now connected\n</code></pre>\n<p>If you see that and don&#39;t get any errors, you have successfully added an angular application on top of Sails. Stay tuned next time when we make the application actually do something.</p>\n<p>If you want to see the code in action, check out the example repository <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/ffc98437c91b4bf154c9619fd50b103c9549a465\">here</a>.</p>\n"},"server-side-views":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":3,"title":"Sails Server-Side Views","tags":["sailsjs"],"category":"code","date":"5-21-2014","thumbnail":"/images/blog/server-side-views.png","slug":"server-side-views"},"starting_the_sails_project":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":2,"title":"Starting a Sails Project","tags":["sailsjs"],"category":"code","date":"5-2-2014","thumbnail":"/images/blog/starting_the_sails_project.jpg","slug":"starting_the_sails_project"},"sails-ninja-intro":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":1,"firstPart":true,"title":"Introduction","tags":["sailsjs","angular"],"category":"code","date":"4-25-2014","thumbnail":"/images/blog/sails-ninja-intro.jpg"},"using-facebook-authentication-on-a-sails-js-app":{"published":true,"title":"Facebook Authentication With Sails.js and Passport","tags":["sailsjs","facebook","authentication"],"category":"code","date":"4-10-2014","thumbnail":"/images/blog/using-facebook-authentication-on-a-sails-js-app.jpg"},"unit-testing-sails-js-applications-with-mocha":{"published":true,"title":"Unit Testing Sails.js Applications With Mocha","tags":["sailsjs","testing","mocha"],"category":"code","date":"4-04-2014","thumbnail":"/images/blog/unit-testing-sails-js-applications-with-mocha.jpg"},"deploying-harp-builds-to-github-pages":{"published":true,"title":"Deploying Harp.js Builds To Github Pages","tags":["html","node","terminal"],"category":"code","date":"3-25-2014","thumbnail":"/images/blog/deploying-harp-builds-to-github-pages.jpg","slug":"deploying-harp-builds-to-github-pages"},"squash-stretch-and-bounce-with-css3-animations":{"published":true,"title":"Squash, Stretch and Bounce With CSS3 Animations","tags":["css"],"category":"code","date":"3-19-2014","thumbnail":"/images/blog/squash-stretch-and-bounce-with-css3-animations.jpg"},"how-to-abstract-pub-sub-in-your-application":{"published":true,"title":"How To Abstract Pub / Sub Methods In Your Application","tags":["javascript","pubsub"],"category":"code","date":"3-18-2014","thumbnail":"/images/blog/how-to-abstract-pub-sub-in-your-application.jpg"},"exporting-canvas-animation-to-mov":{"published":true,"title":"Exporting Three JS Canvas Animations To MOV or MP4 Format With Socket.io","tags":["node","javascript","animation"],"category":"code","date":"3-17-2014","thumbnail":"/images/blog/exporting-canvas-animation-to-mov.jpg"},"javascript-life-ko-ninja-example-app":{"published":true,"title":"Ko.Ninja Example App - JavaScript Life","tags":["knockout","javascript","ko.ninja"],"category":"code","date":"3-14-2014","thumbnail":"/images/blog/javascript-life-ko-ninja-example-app.jpg","slug":"javascript-life-ko-ninja-example-app"},"the-correct-way-to-use-jquery-with-knockout-js":{"published":true,"title":"The Correct Way To Use JQuery With Knockout","tags":["knockout","jquery","javascript"],"category":"code","date":"3-12-2014","thumbnail":"/images/blog/the-correct-way-to-use-jquery-with-knockout-js.jpg","slug":"the-correct-way-to-use-jquery-with-knockout-js"},"the-business-case-for-having-an-all-remote-organization":{"published":true,"title":"The Business Case For Having An All-Remote Organization","tags":["remote"],"category":"productivity","date":"3-7-2014","thumbnail":"/images/blog/the-business-case-for-having-an-all-remote-organization.jpg","slug":"the-business-case-for-having-an-all-remote-organization"},"how-to-organize-a-meteor-app":{"published":true,"title":"How To Organize A Meteor App","tags":["meteor"],"category":"code","date":"3-6-2014","thumbnail":"/images/blog/how-to-organize-a-meteor-app.jpg"},"there-is-more-than-one-way-to-loop-a-cat":{"published":true,"title":"There Is More Than One Way To Loop Over A Cat","tags":["looping","underscore","jquery"],"category":"code","date":"2-22-2014","thumbnail":"/images/blog/there-is-more-than-one-way-to-loop-a-cat.jpg","slug":"there-is-more-than-one-way-to-loop-a-cat"},"dependency-injection-with-squire-and-sinon":{"published":true,"title":"Dependency Injection With Squire and Sinon","tags":["testing","squire"],"category":"code","date":"2-7-2014","thumbnail":"/images/blog/dependency-injection-with-squire-and-sinon.jpg"},"dom-manipulation-is-so-early-2000s":{"published":true,"title":"DOM Manipulation Is So Early 2000s","tags":["jQuery","Knockout"],"category":"code","date":"1-31-2014","thumbnail":"/images/blog/dom-manipulation-is-so-early-2000s.jpg","slug":"dom-manipulation-is-so-early-2000s"},"ko-ninja-socket-io-model":{"published":true,"series":"Ko.Ninja","part":5,"lastPart":true,"title":" Socket.io Models","tags":["knockout","ko.ninja","model","data","socket.io"],"category":"code","date":"1-17-2014","thumbnail":"/images/blog/ninja5.png"},"ko-ninja-http-models":{"published":true,"series":"Ko.Ninja","part":4,"title":"HTTP Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-9-2014","thumbnail":"/images/blog/ninja4.png"},"ko-ninja-model":{"published":true,"series":"Ko.Ninja","part":3,"title":"LocalStorage Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-2-2014","thumbnail":"/images/blog/ninja3.png"},"ko-ninja-validation":{"published":true,"series":"Ko.Ninja","part":2,"title":"Validation","tags":["knockout","ko.ninja","validation"],"category":"code","date":"12-27-2013","thumbnail":"/images/blog/ninja2.png"},"ko-ninja":{"published":true,"series":"Ko.Ninja","part":1,"firstPart":true,"title":"A Framework For Building Awesome Knockout.js Apps","tags":["knockout","ko.ninja"],"category":"code","date":"12-20-2013","thumbnail":"/images/blog/ninja1.png","slug":"ko-ninja"},"how-to-use-tor-with-chrome":{"published":true,"title":"How To Use Tor With Google Chrome","tags":["Security","Browsers","Tor","Privacy"],"category":"privacy","date":"11-22-2013","thumbnail":"/images/blog/tor.png"},"authentication-in-meteor":{"published":true,"title":"Authentication in Meteor","tags":["Meteor","Node","Authentication"],"category":"code","date":"11-14-2013","thumbnail":"/images/blog/meteor-authentication.png","slug":"authentication-in-meteor","yield":"<p>Authentication can be something of a road-blocker in application development. I can&#39;t tell you how many times I&#39;ve had a great idea for an app, but instead of jumping in and writing the core functionality, I try to tackle the authentication layer first. The problem is that once I&#39;ve gotten authentication in place, my excitement for the project has faded because I wasn&#39;t working on the project itself, just trying to set up a login system. Meteor takes the work out of setting up authentication so that you can focus on more important things, like writing the core functionality for your app.</p>\n<!-- more -->\n<p>Meteor has a really robust account and password API, but we won&#39;t cover all of it here. We are just going to focus on getting something in place really fast. The reason for that is because we don&#39;t want to spend a lot of time working on authentication on the front-end, we want to work on core functionality.</p>\n<p>To work with authentication in Meteor, you will need to install the base accounts module.</p>\n<pre><code class=\"language-bash\">meteor add accounts-base\n</code></pre>\n<p>Meteor also has a pre-built user interface for accounts. If you want to go back later and make the UI different, you can, but for us to take a &quot;failing forward&quot; approach to development, it makes sense to just use the default UI and then go back and refactor it as needed. Let&#39;s install the accounts user interface package.</p>\n<pre><code class=\"language-bash\">meteor add accounts-ui\n</code></pre>\n<p>Next, we will need to install one of the authentication systems. Meteor comes packed with authentication through Facebook, Google, Github, Meetup, Twitter, Weibo and with a username and password. There are also third-party authentication types that were not written by the Meteor team.</p>\n<p>We will start out with just the basic username and password.</p>\n<pre><code class=\"language-bash\">meteor add accounts-password\n</code></pre>\n<p>Now if you start up your site by running <code>meteor</code>, you&#39;ll notice that nothing has changed. It should still look something like this:</p>\n<p><img src=\"/images/blog/meteorauth.png\" alt=\"\"></p>\n<p>In order to see your login UI, you will need to add it to your template. That is as easy as adding <code>{{loginButtons}}</code> anywhere in your template. If you want the buttons to go on the right side of the screen, you can pass that in an argument like this:</p>\n<pre><code class=\"language-html4strict\">{{loginButtons align=&quot;right&quot;}}\n</code></pre>\n<p>Either way, though, the login buttons should be rendered:</p>\n<p><img src=\"/images/blog/meteorauth2.png\" alt=\"\"></p>\n<p>When you click on the new &quot;sign in&quot; button, you should get something like this:</p>\n<p><img src=\"/images/blog/meteorauth3.png\" alt=\"\"></p>\n<p>You now have authentication on your app!</p>\n<p>The templates also have a <code>{{currentUser}}</code> that you can use to determine if the user has authenticated or not. For example, if you want to display a navigation only if the user is logged in, that might look like this:</p>\n<pre><code class=\"language-html4strict\">&lt;ul&gt;\n{{#if currentUser}}\n    &lt;li&gt;&lt;a href=&quot;/account&quot;&gt;My Account&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;/preferences&quot;&gt;My Preferences&lt;/a&gt;&lt;/li&gt;\n{{/if}}\n&lt;/ul&gt;\n</code></pre>\n<p>When a user is logged in, your client-side JavaScript has access to a <code>Meteor.userId()</code> which is just a string representing the ID of the authenticated user. You also have access to a <code>Meteor.user()</code>, which will return an object with the user information. Depending on what authentication type you use, the content of the user object my vary. Both of those are available from the console, so you can log them at any time.</p>\n<p>Each user object also has a profile that you can add your own data to. For example, if you wanted to add some data to the current user, you could do something like this:</p>\n<pre><code class=\"language-js\">Meteor.users.update(Meteor.userId(), {\n    $set: {\n        profile: {\n            firstName: &#39;Linus&#39;,\n            lastName: &#39;Cadenhead&#39;,\n            favoriteColor: &#39;green&#39;,\n            ...\n        }\n    }\n}, function () {\n    alert(&#39;user was saved&#39;);\n});\n</code></pre>\n<p>If you want to listen for an event to tell you when a user logs in or out, <code>Meteor.autorun</code> is your friend. This snippet will redirect the user when they log in or out:</p>\n<pre><code class=\"language-js\">// Keep the current user logged in state\nvar loggedIn = !!Meteor.userId();\n\n// This is fired whenever the user logs in or out\nMeteor.autorun(function () {\n\n    // If the user logs in, redirect them to the profile\n    if (Meteor.userId() &amp;&amp; !loggedIn) {\n        document.location = &#39;/profile&#39;;\n\n    // If the user logs out, redirect them to the home page\n    } else if (!Meteor.userId() &amp;&amp; loggedIn) {\n        document.location = &#39;/&#39;;\n    }\n\n    // Set the current loggedIn status based on whether the userId is available or not\n    loggedIn = !!Meteor.userId();\n\n});\n</code></pre>\n<p>If you want to add another authentication method, just install it with Meteor. The user interface itself will walk you through the necessary steps to get things set up.</p>\n<p>As you can see, authentication with Meteor is really quick and easy. In just a few minutes, you should be all set up and ready to work on the parts of your application that you care about. Yet another way that Meteor makes wasting time on tedious tasks a thing of the past!</p>\n"},"why-you-should-teach-your-kids-to-write-code":{"published":true,"title":"Why You Should Teach Your Kids How to Write Code","tags":["Rant","Kids"],"category":"code","date":"11-08-2013","thumbnail":"/images/blog/duck.jpg"},"javascript-copy-and-paste-events":{"published":true,"title":"The JavaScript Copy and Paste Events","tags":["JavaScript"],"category":"code","date":"10-31-2013","thumbnail":"/images/blog/clippy.jpg"},"getting-started-with-socket-io":{"published":true,"title":"Getting Started with Socket.io","tags":["node","socketio","javascript"],"category":"code","date":"10-25-2013","thumbnail":"/images/blog/socket-io.jpg","slug":"getting-started-with-socket-io"},"working-with-meteor-data":{"published":true,"title":"Working with Meteor Data","tags":["Meteor","Node","JavaScript","Data"],"category":"code","date":"10-10-2013","thumbnail":"/images/blog/meteor-data.png"},"why-is-test-driven-development-so-hard":{"published":true,"title":"Why is Test-Driven Development So Hard?","tags":["TDD","Test Driven Development","Unit Testing"],"category":"code","date":"10-4-2013","thumbnail":"/images/blog/tdd.png","slug":"why-is-test-driven-development-so-hard"},"getting-started-with-meteor":{"published":true,"title":"Getting Started with Meteor","tags":["Meteor","Node","JavaScript"],"category":"code","date":"9-26-2013","thumbnail":"/images/blog/meteor.png"},"creating-sprites-with-compass":{"published":true,"title":"Creating Sprites with Compass","tags":["Compass","SASS","CSS"],"category":"code","date":"9-20-2013","thumbnail":"/images/blog/sprite.png"},"how-to-build-grunt-from-sublime-text":{"published":true,"title":"How to Do a Grunt Build Using Sublime Text","tags":["Grunt","Sublime"],"category":"code","date":"9-13-2013","thumbnail":"/images/blog/grunt-sublime.png","slug":"how-to-build-grunt-from-sublime-text"},"secrets-of-the-javascript-ninja":{"published":true,"title":"Book Review: Secrets of the JavaScript Ninja","tags":["Book","JavaScript"],"category":"code","date":"9-4-2013","thumbnail":"/images/blog/ninja.png","slug":"secrets-of-the-javascript-ninja"},"compiling-sass-and-compass-with-grunt":{"published":true,"title":"Compiling SASS and Compass with Grunt","tags":["SASS","Compass","Grunt"],"category":"code","date":"8-30-2013","thumbnail":"/images/blog/grunt-sass.png","yield":"<p>If you haven&#39;t been using <a href=\"http://gruntjs.com\">Grunt</a> to run your JavaScript tasks, you have definitely been missing out. Grunt is really great about automating tasks that would have been very tedious otherwise. One great thing about Grunt is the ability to run <code>grunt watch</code> to monitor your files and run tasks when they are changed. We can use <code>grunt watch</code> in tandem with compass to automatically compile css files on the fly as we change our SASS files.</p>\n<!-- more -->\n<p>To get started, you&#39;ll need to install Grunt and then add the &quot;watch&quot; task.</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-watch\n</code></pre>\n<p>Next, you can add something like this to the grunt.initConfig() function inside your Gruntfile.js:</p>\n<pre><code class=\"language-javascript\">{\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    }\n}\n</code></pre>\n<p>We&#39;ve added livereload, listening to port 1337. You can add a snippet like this to listen for changes inside your html template:</p>\n<pre><code class=\"language-html4strict\">&lt;script src=&quot;http://localhost:1337/livereload.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>We&#39;ve also told &quot;watch&quot; to listen for changes any <code>.scss</code> files inside the <code>scss</code> directory.</p>\n<p>Last, we gave &quot;watch&quot; a task to runt when a scss file is changed. That task, of course, is compass.</p>\n<p>Now, we will need to install the compass Grunt task:</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-compass\n</code></pre>\n<p>Now, let&#39;s add the compass task to our Gruntfile:</p>\n<pre><code class=\"language-javascript\">{\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Nothing too interesting is happening here. We&#39;re just giving compass a config file to look at when it is compiling. The config.rb will typically look something like this:</p>\n<pre><code class=\"language-text\">http_path = &quot;public/&quot;\ncss_dir = &quot;public/css&quot;\nsass_dir = &quot;scss&quot;\nimages_dir = &quot;public/images&quot;\njavascripts_dir = &quot;public/js&quot;\noutput_style = :compressed\nrelative_assets=true\nline_comments = false\n</code></pre>\n<p>That is really all there is to it. All told, our Gruntfile will look something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;public/scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    },\n\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n\n});\n\ngrunt.loadNpmTasks(&#39;grunt-contrib-compass&#39;);\ngrunt.loadNpmTasks(&#39;grunt-contrib-watch&#39;);\n</code></pre>\n<p>Now, just run:</p>\n<pre><code class=\"language-bash\">grunt watch\n</code></pre>\n<p>Anytime you change a file in your <code>/scss</code> directory, it will be compressed and outputted into your <code>/public/css</code> directory.</p>\n<p>With Compass building CSS as a part of your Grunt watch task, you will have one less process to keep running in your terminal. Automatically compiling SASS files is definitely something to grunt about!</p>\n"},"how-can-you-see-the-latest-poet-js-posts-without-restarting-the-server":{"published":true,"title":"How Can You See the Latest Poet.js Posts Without Restarting the Server?","tags":["NodeJS","Blogging"],"category":"code","date":"8-23-2013","thumbnail":"/images/blog/poet-latest.png"},"sencha-architect-app-development":{"published":true,"title":"Book Review: Sencha Architect App Development","tags":["Book"],"category":"code","date":"8-16-2013","thumbnail":"/images/blog/senchabook3.png"},"poet-js":{"published":true,"title":"Getting Started with Poet.js","tags":["NodeJS","Blogging"],"category":"code","date":"8-9-2013","thumbnail":"/images/blog/poet.png"},"client-side-dependency-management-with-bower":{"published":true,"title":"Client-Side Dependency Management with Bower","tags":["Bower"],"category":"code","date":"8-2-2013","thumbnail":"/images/blog/bower.png","slug":"client-side-dependency-management-with-bower","yield":"<p>If you&#39;ve been creating applications using Node, you&#39;ve probably fallen in love with the built-in package management framework &quot;NPM&quot;. Using NPM makes life a ton easier because instead of needing to go out and download all of the third-party packages your project will need, you can just type a line or two in the terminal and everything is good to go. What if there was a tool like NPM for managing client-side JavaScript libraries? There is one. It is called Bower.&quot;</p>\n<!-- more -->\n<p>Bower essentially performs three vital functions</p>\n<ul>\n<li>You can download all of your dependencies from the command line, so you don&#39;t have to go out looking for them on the Internet</li>\n<li>You can easily update to the latest version of your library and easily switch back if you need to</li>\n<li>You don&#39;t have to check all of your dependencies in as part of your project. That means that your project will only contain the code that you write, which will make it smaller and more manageable.</li>\n</ul>\n<p>So how do you use Bower? If you already have NPM installed, you can just install it globally:</p>\n<pre><code class=\"language-bash\">npm install -g bower\n</code></pre>\n<p>You&#39;ll also probably want to install Git because most of the Bower packages use Git to work their magic.</p>\n<p>Now that you&#39;ve installed Bower, you can go to the project you want to use it in and create a <code>bower.json</code> file in the root. It will probably look something like this:</p>\n<pre><code class=\"language-json\">{\n  &quot;name&quot;: &quot;my-amazing-project&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;dependencies&quot;: {\n    &quot;jquery&quot;: &quot;&gt;=2.0.3&quot;\n  },\n  &quot;ignore&quot;: [\n    &quot;**/.*&quot;,\n    &quot;node_modules&quot;,\n    &quot;components&quot;,\n    &quot;bower_components&quot;,\n    &quot;test&quot;,\n    &quot;tests&quot;\n  ]\n}\n</code></pre>\n<p>If you&#39;ve already been using NPM, you&#39;ll probably notice that the format is pretty similar. The dependency object is where you will list all of your dependencies and the version you would like to use.</p>\n<p>By default, everything Bower downloads will go in the /bower_components folder in the root of your project. If you would like to put your dependencies in a different directory, just create a <code>.bowerrc</code> file with the path to your alternate folder:</p>\n<pre><code class=\"language-json\">{\n  &quot;directory&quot; : &quot;public/js/bower_components&quot;\n}\n</code></pre>\n<p>Once everything is set up, you can install all of your dependencies using</p>\n<pre><code class=\"language-bash\">bower install\n</code></pre>\n<p>All of your dependencies will go into the directory you declare in your .bowerrc file or in bower_components if none is specified.</p>\n<p>To install a specific package, you can use</p>\n<pre><code class=\"language-bash\">bower install jquery\n</code></pre>\n<p>or</p>\n<pre><code class=\"language-bash\">bower install jquery#2.0.3\n</code></pre>\n<p>It&#39;s best to list your dependencies in the bower.json file, though, so that they will be remembered for later on.</p>\n<p>I have found that most of the libraries I&#39;ve needed are already registered with Bower. However, if you need to register a new GitHub repository, you can simply run something like</p>\n<pre><code class=\"language-bash\">bower register jquery git://github.com/jquery/jquery\n</code></pre>\n<p>Simply pass in the name of the package and the path to the repository on GitHub.</p>\n<p>Needless to say, I&#39;m a big fan of Bower. Has anyone else been using Bower or something like it to manage third-party libraries on the client-side?</p>\n"},"logging-time-on-the-developer-console":{"published":true,"title":"Logging Time on the Developer Console","tags":["JavaScript"],"category":"code","date":"7-29-2013","thumbnail":"/images/blog/time.png"},"javascript-test-coverage-with-jscoverage":{"published":true,"title":"Determining JavaScript Test Coverage with JSCover","tags":["Testing"],"category":"code","date":"7-18-2013","thumbnail":"/images/blog/cover.png"},"localstorage-with-amplify-js":{"published":true,"title":"LocalStorage with Amplify.js","tags":["LocalStorage","appendTo"],"category":"code","date":"7-13-2013","thumbnail":"/images/blog/amplify.png"},"running-node-applications-continuously-with-foreverjs":{"published":true,"title":"Running Node Applications Continuously with Forever.js","tags":["Node"],"category":"code","date":"7-5-2013","thumbnail":"/images/blog/forever.png"},"gardening-for-web-developers":{"published":true,"title":"Gardening for Web Developers","tags":["Code"],"category":"code","date":"6-28-2013","thumbnail":"/images/blog/gardening.jpg"},"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically":{"published":true,"title":"Bing Translate: A New Grunt Task to Internationalize Your Apps Programmatically","tags":["Grunt","Bing","Bing Translator","i18n"],"category":"code","date":"6-21-2013","thumbnail":"/images/blog/grunt.png","yield":"<p>Internationalizing an application can be a tedious process if you are translating your app into different languages manually. Every time you add a new value to be translated, you have to add that value for all of your  translation files. It can become a real pain.</p>\n<!-- more -->\n<p>To ease the pain, I&#39;ve written a Grunt task that translates all of your language files from a common Grunt config location using the Bing Translator api.</p>\n<p>Why did I use Bing Translator instead of Google Translator? Unfortunately, the Google Translator API is no longer free. Don&#39;t worry, nobody will make you take a test that reveals that you prefer Bing to Google. After you create your Bing account, you&#39;ll barely even notice you&#39;re using it.</p>\n<p>So how can you get started?</p>\n<p>First you&#39;ll need to download the Grunt Bing Translate task from NPM:</p>\n<pre><code class=\"language-bash\">npm install grunt-bing-translate\n</code></pre>\n<p>Once that is done, you just need to modify your Gruntfile. Inside of your grunt.initConfig(), you&#39;ll want to add something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n  bing_translate: {\n    options: {\n      // Task-specific options go here.\n    }\n  }\n});\n</code></pre>\n<p>For a full list of options, check out the <a href=\"https://github.com/tysoncadenhead/grunt-bing-translate/\">documentation on Github</a></p>\n<p>Here is an example of how you might configure your bing_translate options:</p>\n<pre><code class=\"language-javascript\">module.exports = function(grunt) {\n\n  // Project configuration.\n  grunt.initConfig({\n\n    &quot;bing_translate&quot;: {\n      &quot;options&quot;: {\n        &quot;clientId&quot;: require(&quot;./config.json&quot;).clientId, // Replace this with your Bing Translate Client ID\n        &quot;clientSecret&quot;: require(&quot;./config.json&quot;).clientSecret, // Replace this with your Bing Translate Client Secret\n        &quot;defaultLanguage&quot;: &quot;en&quot;,\n        &quot;languages&quot;: [&quot;ar&quot;, &quot;bg&quot;, &quot;cs&quot;, &quot;da&quot;, &quot;nl&quot;, &quot;en&quot;, &quot;et&quot;, &quot;fi&quot;, &quot;fr&quot;, &quot;de&quot;, &quot;el&quot;, &quot;hu&quot;, &quot;it&quot;, &quot;lv&quot;, &quot;lt&quot;, &quot;pl&quot;, &quot;pt&quot;, &quot;ro&quot;, &quot;ru&quot;, &quot;sk&quot;, &quot;sl&quot;, &quot;es&quot;, &quot;sv&quot;],\n        &quot;files&quot;: {\n            &quot;test/lang&quot;: {\n                &quot;template&quot;: &quot;console.log(&#39;&lt;%- language %&gt;&#39;, &lt;%- values %&gt;);&quot;,\n                &quot;fileNameEnding&quot;: &quot;/translation.js&quot;,\n                &quot;values&quot;: {\n                    &quot;hello&quot;: &quot;Hello&quot;,\n                    &quot;world&quot;: &quot;World&quot;\n                }\n            }\n        }\n      }\n    }\n\n  });\n\n};\n</code></pre>\n<p>Once all of your options are specified, you can run:</p>\n<pre><code class=\"language-bash\">grunt bing_translate\n</code></pre>\n<p>to translate all of your files. It&#39;s like magic.</p>\n<p>One important thing to note is that the Bing translate API does have a monthly limit per account. I haven&#39;t hit it yet and my understanding is that it is pretty large, but it&#39;s still there. This task will only translate each word once even if it appears in multiple language files, so that will hopefully reduce the amount of calls you have to make each month.</p>\n<p>So, far I&#39;ve used this to generate language files for <a href=\"http://ckeditor.com/\">CKEditor</a> plugins and to generate language files for use with <a href=\"http://i18next.com/\">i18next</a>. The ability to put a template around the contents of the file should make this easily work with any project.</p>\n<p>What do you think?</p>\n"},"what-should-i-test-when-i-write-software":{"published":true,"title":"What Should I Test When I Write Software?","tags":["Testing","Mocha","QUnit","Selenium"],"category":"code","date":"6-6-2013","thumbnail":"/images/blog/test-dummy.png"},"jquery-jsontemplate":{"published":true,"title":"Instroducing jQuery.jsonTemplate","tags":["JSON","Template"],"category":"code","date":"6-3-2013","thumbnail":"/images/blog/layout.png","slug":"jquery-jsontemplate"},"do-you-need-a-college-degree-to-be-a-web-developer":{"published":true,"title":"Do You Need a College Degree to Be a Web Developer?","tags":["College","Coding"],"category":"code","date":"5-25-2013","thumbnail":"/images/blog/graduate.jpg"},"compound-js-presentation-in-nashville":{"published":true,"title":"Compound JS Presentation in Nashville","tags":["Compound","Presentation"],"category":"code","date":"5-22-2013","thumbnail":"/images/blog/testtubes.png","slug":"compound-js-presentation-in-nashville","yield":"<p>If you&#39;re going to be in Nashville on May 21 at 6:00, stop by the Interactive Developers meetup at Vaco to hear me speak about the Compound MVC framework for Node. There is always free food and drink. You can RSVP <a href=\"http://www.meetup.com/interactivedev/events/109983412/\">here</a>.</p>\n<!-- more -->\n<p><strong>Update:</strong></p>\n<p>Now that the presentation is over, you can see my slides <a href=\"http://slid.es/tysoncadenhead/compoundjs\">here</a>.</p>\n"},"creating-mobile-apps-with-sencha-touch-2":{"published":true,"title":"Book Review: Creating Mobile Apps With Sencha Touch 2","tags":["Book","Sencha"],"category":"code","date":"5-16-2013","thumbnail":"/images/blog/senchabook.png"},"using-local-storage-in-sencha-touch-2-2":{"published":true,"title":"Using Local Storage in Sencha Touch 2.2","tags":["Sencha","LocalStorage"],"category":"code","date":"4-19-2013","thumbnail":"/images/blog/storage.jpg"},"knockout-observables":{"published":true,"title":"Knockout Observables","tags":["Knockout"],"category":"code","date":"4-8-2013","thumbnail":"/images/blog/observers.png"},"authentication-with-compound-passport":{"published":true,"title":"Authentication with Compound-Passport","tags":["Compound","Node","Authentication"],"category":"code","date":"4-3-2013","thumbnail":"/images/blog/passport.png","yield":"<p>One of the most useful CompoundJS plugins is <a href=\"https://npmjs.org/package/compound-passport\">Compound-Passport</a>. If you aren&#39;t familiar with <a href=\"http://passportjs.org/\">Passport</a>, it is an authentication library for Node that provides a common API to authenticate with Facebook, Twitter, Google, Github and over a hundred other OpenId and OAuth login sources.</p>\n<!-- more -->\n<p>This is how I was able to get authentication with Facebook added to an application within minutes.</p>\n<p>First of all, you&#39;ll need to have a CompoundJS app. If you need help with that, check out my previous blog post on <a href=\"/blog/how-do-yo-make-a-compoundjs-app/\">how to make a CompoundJS application</a>.</p>\n<p>My first step was to install the compound-passport package with npm.</p>\n<pre><code class=\"language-bash\">#install compound-passport\nnpm install compound-passport\n\n#install passport\nnpm install passport\n\n#install passports facebook authentication piece\nnpm install passport-facebook\n</code></pre>\n<p>As you can see, we&#39;re installing the Facebook connection module. If you want to do a different type of authentication, you&#39;ll need to install that module as well.</p>\n<p>The next step is to add the configuration file. This will need to be saved in config/passport.yml</p>\n<pre><code class=\"language-yml\">development:\n  baseURL: &#39;http://localhost:3000/&#39;\n  facebook:\n    apiKey: &quot;my-api-key&quot;\n    secret: &quot;my-secret&quot;\n</code></pre>\n<p>You will need to use your Facebook API Key and secret. You can acquire both of them from the <a href=\"Facebook Developers site\">https://developers.facebook.com/apps</a>.</p>\n<p>Next, we&#39;ll need to modify our config/autoload.js file. I&#39;m showing the entire file, but the only real takeaway here is that the array that is returned from the module.exports() function needs to contain require(&#39;compound-passport&#39;).</p>\n<pre><code class=\"language-javascript\">module.exports = function (compound) {\n  var defaultModules = [\n      &#39;jugglingdb&#39;,\n      &#39;co-assets-compiler&#39;\n    ], developmentModules = [];\n\n  if (&#39;development&#39; === compound.app.get(&#39;env&#39;)) {\n    developmentModules = [\n      &#39;ejs-ext&#39;,\n      &#39;seedjs&#39;,\n      &#39;co-generators&#39;,\n      &#39;compound-passport&#39;\n    ]\n  }\n\n  if (typeof window === &#39;undefined&#39;) {\n    return defaultModules.concat(developmentModules).map(require);\n  } else {\n    return []\n  }\n\n};\n</code></pre>\n<p>In Compound, any before() filters that are added to the controllers/application_controller.js file are called before any standard controller methods. If we do something like this, we will have a req.user object available if the Facebook session have been authenticated. Otherwise, it will be null.</p>\n<pre><code class=\"language-javascript\">before(function requireManager() {\n    User.find(session.passport.user, function (err, user) {\n        console.log(user);\n        if (user) {\n            req.user = user;\n        } else {\n            redirect(&#39;/login&#39;);\n        }\n        next();\n    });\n});\n</code></pre>\n<p>Last of all, if we create a login page like this, everything should come together.</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;/auth/facebook&quot;&gt;Login with Facebook&lt;/a&gt;\n</code></pre>\n<p>Has anyone else been working with Compound-Passport? My experience has been that even though the integration is fairly straightforward, the documentation is spotty enough that it isn&#39;t as easy to do as it should be. What has your experience been?</p>\n"},"unit-testing-with-thrill-js":{"published":true,"title":"Unit Testing with Thrill.js","tags":["Thrill","Queen","Testing","QUnit"],"category":"code","date":"4-1-2013","thumbnail":"/images/blog/thrill.png","slug":"unit-testing-with-thrill-js"},"executeasyncscript-in-selenium-webdriver-for-node":{"published":true,"title":"executeAsyncScript() in Selenium Webdriver for Node","tags":["Testing","Selenium"],"category":"code","date":"3-22-2013","thumbnail":"/images/blog/selenium.png","slug":"executeasyncscript-in-selenium-webdriver-for-node"},"compoundjs-routes":{"published":true,"title":"Compound.js Routes","tags":["Compound"],"category":"code","date":"3-12-2013","thumbnail":"/images/blog/car.png","slug":"compoundjs-routes","yield":"<p><a href=\"/blog/how-do-yo-make-a-compoundjs-app\">Previously</a>, I introduced you to Compound, an awesome MVC framework for NodeJS. Today, I am going to expound on how the routing works in Compound.</p>\n<p>If you are not familiar with how MVC work, I suggest you take a look at some of my older articles about <a href=\"/blog/javascript-architecture\">JavaScript Architecture</a> and <a href=\"/blog/code-seperation/\">Code Separation</a>. From here on, I will assume that you have a basic understanding of the place of controllers in the MVC paradigm so that the routing will make sense. Let&#39;s begin.</p>\n<!-- more -->\n<p>The CompoundJS router is built on top of the ExpressJS router, so if you are familiar with Express, the syntax should look suspiciously similar. Your router will be located in the /config/routes.js file. It should look something like this:</p>\n<pre><code class=\"language-javascript\">exports.routes = function (map) {\n    // Generic routes. Add all your routes below this line\n    // feel free to remove generic routes\n    map.all(&#39;:controller/:action&#39;);\n    map.all(&#39;:controller/:action/:id&#39;);\n};\n</code></pre>\n<p>As you can see, the router above is setting some basic global rules. If we hit /users/create it will resolve to the &quot;create&quot; method of the users controller. If we hit /users/edit/12 it will resolve to the &quot;edit&quot; method of the users controller with an id of &quot;12&quot; passed into the method.</p>\n<p>To map all of the basic CRUD functionality to a Compound controller, just add:</p>\n<pre><code class=\"language-javascript\">map.resources(&#39;users&#39;);\n</code></pre>\n<p>Yes, that is just one line of code, but it magically maps all of these routes:</p>\n<ul>\n<li>users GET - users#index</li>\n<li>users POST - users#create</li>\n<li>users/new GET - users#new</li>\n<li>users/:id/edit - users#edit</li>\n<li>users/:id DELETE - users#destroy</li>\n<li>users/:id PUT - users#update</li>\n<li>users/:id - users#show</li>\n</ul>\n<p>That will cover many of your routing needs, but if you need to make a route go directly to a controller method, the syntax looks like this:</p>\n<pre><code class=\"language-javascript\">map.get(&#39;users/login&#39;, &#39;users#login&#39;);\n</code></pre>\n<p>With the code above, you will be able to go to the /users/login URL and it will resolve to the &quot;login&quot; method of the users controller.</p>\n<p>To map your homepage, you can use map.root like this:</p>\n<pre><code class=\"language-javascript\">map.root(&#39;pages#home&#39;);\n</code></pre>\n<p>The above snippet will map to the &quot;home&quot; method of the pages controller.</p>\n<p>The Compound routing is very robust, so you may need to read through the documentation to see everything that it can do for you.</p>\n"},"what-are-the-best-productivity-apps-for-osx":{"published":true,"title":"What are the Best Productivity Apps for OSX?","tags":["Productivity","OSX"],"category":"productivity","date":"3-5-2013","thumbnail":"/images/blog/multitasking.png"},"how-do-yo-make-a-compoundjs-app":{"published":true,"title":"How Do You Make a Compound.js Application?","tags":["Compound"],"category":"code","date":"2-27-2013","thumbnail":"/images/blog/compound.png"},"how-do-you-write-an-anvil-js-plugin":{"published":true,"title":"How Do You Write an Anvil.js Plugin?","tags":["Anvil","Build"],"category":"code","date":"2-21-2013","thumbnail":"/images/blog/anvil.png"},"what-is-jquery-map":{"published":true,"title":"What is jQuery.map?","tags":["jQuery","JavaScript"],"category":"code","date":"2-15-2013","thumbnail":"/images/blog/map.png","slug":"what-is-jquery-map"},"getting-the-most-out-of-your-time":{"published":true,"title":"Getting the Most Out of Your Time","tags":["Productivity"],"category":"productivity","date":"2-4-2013","thumbnail":"/images/blog/machine.png","slug":"getting-the-most-out-of-your-time"},"hosting-multiple-websites-on-the-same-wordpress-installation":{"published":true,"title":"Hosting Multiple Websites on the Same WordPress Installation","tags":["Wordpress"],"category":"code","date":"1-28-2013","thumbnail":"/images/blog/wordpress.png"},"top-10-backbone-plugins":{"published":true,"title":"Top 5 Backbone Plugins","tags":["Backbone","JavaScript"],"category":"code","date":"1-22-2013","thumbnail":"/images/blog/plugin.png"},"how-can-i-share-ejs-templates-between-the-client-side-and-the-server-side":{"published":true,"title":"How Do I Share EJS Templates Between the Client-side and the Server-side?","tags":["EJS","Templates","Node","JavaScript"],"category":"code","date":"1-15-2013","thumbnail":"/images/blog/sharing.png","slug":"how-can-i-share-ejs-templates-between-the-client-side-and-the-server-side"},"underscore-fire":{"published":true,"title":"_.fire(): A Plugin for Underscore","tags":["Underscore","JavaScript","Open Source"],"category":"code","date":"1-9-2013","thumbnail":"/images/blog/fire.png"},"resolutions-2013":{"published":true,"title":"2013 Resolutions","tags":["Goals"],"category":"productivity","date":"1-1-2013","thumbnail":"/images/blog/setgoals.png","slug":"resolutions-2013"},"off-the-charts-jquery-toastchart-plugin":{"published":true,"title":"Introducing the jQuery ToastChart Plugin","tags":["JQuery","JavaScript","Open Source"],"category":"code","date":"12-9-2012","thumbnail":"/images/blog/charts.png","slug":"off-the-charts-jquery-toastchart-plugin"},"my-new-standup-desk":{"published":true,"title":"My New Standup Desk","tags":["Health"],"category":"health","date":"11-17-2012","thumbnail":"/images/blog/standingdesk.png"},"cross-domain-post-delete-and-pu":{"published":true,"title":"Cross-Domain Ajax Using POST, DELETE and PUT Methods","tags":["JavaScript","Ajax"],"category":"code","date":"10-17-2012","thumbnail":"/images/blog/communication.png","slug":"cross-domain-post-delete-and-pu"},"open-sourcing-some-javascript-libraries":{"published":true,"title":"Open-Sourcing Various JavaScript Libraries","tags":["Goals"],"category":"code","date":"9-7-2012","thumbnail":"/images/blog/confused.png"},"book-review-html5-for-web-designers":{"published":true,"title":"Book Review: HTML5 for Web Designers","tags":["Book","HTML"],"category":"code","date":"1-23-2012","thumbnail":"/images/blog/reading.png","yield":"<p>A few days ago I realized that I read a lot of books and articles about JavaScript and web development and that this would be a good place to share my thoughts about them both for my own reference and maybe even for helping other people out.  In the interest of that revelation, I present to you a quick review of HTML5 for Web Designers by Jeremy Keith of A Book Apart.</p>\n<!-- more -->\n<p>The cool thing about this book is that I was able to get it on store credit at <a href=\"http://mckaybooks.com/locations/nashville/\">McKay</a>, Nashville&#39;s best used book store.  If you&#39;ve ever looked for used books on technology, you know that most of them are over ten years old and haven&#39;t been relevant for almost that long, so a modern book like this was a great find.</p>\n<p>This is a really easy and quick read.  It&#39;s a pretty thin book and I was able to breeze through it in the course of a couple of days.  It&#39;s a very basic overview of what you can do with HTML5, so I wouldn&#39;t expect anything as expansive and heavy as the 900 page HTML5 spec, which is probably a good thing considering that it&#39;s not fun or easy to read something that long.</p>\n<p>You get a taste of everything from video and audio and their current limitations to the canvas and the new HTML5 input types and attributes.  This book made me excited to be in the web development space because there is so much growth happening and there is sure to be a lot more to come soon.  It wasn&#39;t terribly heavy on JavaScript, which is always disappointing to me, but there are some examples of how to accomplish backwards compatibility for native HTML5 behavior using my favorite scripting language.</p>\n<p>I would recommend this book to any front-end developer wanting to cut their teeth on some more cutting-edge experiences.  It made me want to go out and write a JavaScript library to ensure backwards compatibility so we can use more HTML5 form types now, and in my book, anything that makes me want to write JavaScript was worth my time.  Unfortunately, that means that everything is worth my time.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=FFFFFF&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=qf_sp_asin_til&amp;asins=0984442502\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>"},"writing-a-good-api":{"published":true,"title":"Writing a Good API","tags":["JavaScript"],"category":"code","date":"12-17-2011","thumbnail":"/images/blog/api.png"},"detecting-javascript-popup-blockers":{"published":true,"title":"Detecting JavaScript Popup Blockers","tags":["JavaScript"],"category":"code","date":"10-10-2011","thumbnail":"/images/blog/popup.png"},"do-javascript-libraries-need-an-abstraction-layer":{"published":true,"title":"Do JavaScript Libraries Need an Abstraction Layer?","tags":["JavaScript"],"category":"code","date":"1-21-2011","thumbnail":"/images/blog/abstract.jpg"},"parsing-coldfusion-json-on-the-client-side":{"published":true,"title":"Parsing Coldfusion JSON on the Client-side","tags":["JavaScript","Coldfusion"],"category":"code","date":"8-6-2011","thumbnail":"/images/blog/eskimo.png"},"fat-models-and-skinny-controllers-in-javascript":{"published":true,"title":"Fat Models and Skinny Controllers in JavaScript","tags":["JavaScript","Architecture"],"category":"code","date":"7-14-2011","thumbnail":"/images/blog/controller.png"},"making-browser-specific-css-less-intrusive-with-sass":{"published":true,"title":"Making Browser-Specific CSS Less Intrusive with SASS","tags":["CSS","SASS"],"category":"code","date":"5-30-2011","thumbnail":"/images/blog/browsers.png"},"writing-javascript-for-speed":{"published":true,"title":"Writing JavaScript for Speed","tags":["JavaScript"],"category":"code","date":"4-9-2011","thumbnail":"/images/blog/running.jpg"},"jquery-event-listening":{"published":true,"title":"jQuery Event Listening","tags":["JavaScript"],"category":"code","date":"4-1-2011","thumbnail":"/images/blog/listening.jpg"},"writing-markup-for-future-enhancement":{"published":true,"title":"Writing Markup for Future Enhancement","tags":["HTML"],"category":"code","date":"3-24-2011","thumbnail":"/images/blog/robot.png"},"what-does-a-successful-ajax-application-need":{"published":true,"title":"What Does a Successful JavaScript Application Need?","tags":["JavaScript"],"category":"code","date":"3-11-2011","thumbnail":"/images/blog/success.jpg"},"web-developers-and-health":{"published":true,"title":"Web Developers and Health","tags":["Apps","Health"],"category":"health","date":"3-6-2011","thumbnail":"/images/blog/weights.jpg","slug":"web-developers-and-health"},"replacing-href-attributes-with-onclick-events-with-regex":{"published":true,"title":"Replacing href attributes with onClick events with Regex","tags":["JavaScript","Regex"],"category":"code","date":"2-23-2011","thumbnail":"/images/blog/onclick.jpg"},"dont-be-a-user-interface-hoarder":{"published":true,"title":"Don’t Be a User Interface Hoarder","tags":["User Interface"],"category":"design","date":"2-19-2011","thumbnail":"/images/blog/hoarder.jpg","slug":"dont-be-a-user-interface-hoarder"},"jquery-mobile-vs-sencha-touch":{"published":true,"title":"jQuery Mobile vs. Sencha Touch","tags":["Mobile","jQuery Mobile","Sencha Touch"],"category":"code","date":"2-17-2011","thumbnail":"/images/blog/mugs.jpg"},"javascript-variable-casing-best-practices":{"published":true,"title":"JavaScript Variable Casing Best Practices","tags":["JavaScript"],"category":"code","date":"2-8-2011","thumbnail":"/images/blog/casing.jpg"},"script-loaders":{"published":true,"title":"Script Loaders","tags":["JavaScript"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/loader.jpg","slug":"script-loaders"},"putting-ext-mvc-on-hold":{"published":true,"title":"Putting EXT MVC on Hold","tags":["EXT","Architecture"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/stop.jpg"},"mvc-and-extjs-–-2-config":{"published":true,"title":"Configuration For EXTJS MVC Applications","tags":["EXT","Architecture"],"category":"code","date":"11-1-2010","thumbnail":"/images/blog/2.png"},"mvc-and-extjs-1-introduction":{"published":true,"title":"Getting Started with MVC and EXTJS","tags":["EXT","Architecture"],"category":"code","date":"10-20-2010","thumbnail":"/images/blog/1.png","slug":"mvc-and-extjs-1-introduction"},"sencha-loading-in-the-iphone-4g":{"published":true,"title":"Sencha Loading in the iPhone 4","tags":["Sencha Touch"],"category":"code","date":"10-19-2010","thumbnail":"/images/blog/loading.png"},"javascript-variables-accessibility":{"published":true,"title":"Javascript Variables' Accessibility","tags":["JavaScript"],"category":"code","date":"8-24-2010","thumbnail":"/images/blog/wheelchair.png"},"sencha-application-event-listening":{"published":true,"title":"Sencha Application Event Listening","tags":["Sencha Touch","EXT"],"category":"code","date":"7-17-2010","thumbnail":"/images/blog/senchalistening.png"},"should-i-use-a-javascript-framework":{"published":true,"title":"Should I Use a JavaScript Framework?","tags":["JavaScript"],"category":"code","date":"6-12-2010","thumbnail":"/images/blog/framework.png"},"seo-safe-links-with-an-ajax-callback":{"published":true,"title":"SEO-Safe Links with an Ajax Callback","tags":["JavaScript","HTML","jQuery"],"category":"code","date":"4-8-2010","thumbnail":"/images/blog/seosafe.png"},"javascriptmvc":{"published":true,"title":"Getting Started with JavaScript MVC","tags":["JavaScript","JavaScriptMVC"],"category":"code","date":"3-30-2010","thumbnail":"/images/blog/mvc.png","slug":"javascriptmvc"},"javascript-architecture":{"published":true,"title":"Javascript Architecture","tags":["JavaScript","Architecture"],"category":"code","date":"3-11-2010","thumbnail":"/images/blog/architecture.png","slug":"javascript-architecture"},"links-and-user-experience":{"published":true,"title":"Links and User Experience","tags":["User Experience","Design"],"category":"design","date":"2-21-2010","thumbnail":"/images/blog/links.png"},"what-is-user-experience-user-interface":{"published":true,"title":"What is UI / UX?","tags":["Design","UI","UX"],"category":"design","date":"2-11-2010","thumbnail":"/images/blog/uiux.png"},"what-google-looks-for":{"published":true,"title":"Search Engine Optimization 101","tags":["SEO"],"category":"code","date":"1-29-2010","thumbnail":"/images/blog/search.png","slug":"what-google-looks-for"},"code-seperation":{"published":true,"title":"Code Separation","tags":["Architecture"],"category":"code","date":"1-28-2010","thumbnail":"/images/blog/seperation.png","slug":"code-seperation","yield":"<p>A couple of years ago, if you had asked me what my take on design patterns for internet applications was, I would have probably given you a blank, questioning stare.  You see, as sad as it is, proper design and architectural patterns aren&#39;t exactly the norm in the web development world.  Today, I&#39;m going to give you a quick overview on what architectural design patterns are and why they&#39;re important and then focus in on MVC.</p>\n<!-- more -->\n<h3>I like to have all of my code in one file.  Isn&#39;t that the best way?</h3><p>When I first started making websites, I was 13 years old.  This was just when the internet was becoming something more than a place for email and messaging groups.  I set up my first website, which was a Star Wars fan page on Geocities and I was very satisfied with it.  The problem was that within about a week, I  wanted to change my neon-green typefaces to red.  The problem was that I had hard-coded each of my headers to be shown in that brilliant neon-green.  I couldn&#39;t just flip a switch or re-write a single line of code and change my beautiful comic-sans typography, I had to go through every single page and change every single hexadecimal value.  This took hours.  It took so long, in fact, that by the time that I was done, I had changed my mind and decided that I would prefer a blue typeface instead.  This was before I knew anything about external style sheets, and in all actuality, I&#39;m not entirely certain that my early version of Internet Explorer would have even supported them.</p>\n<p>Fast forward ten years.  By this point I&#39;ve learned the importance of having separation in my client-side code.  I have all of my Javascript, CSS, flash, images and media sitting in their own tidy folders and I&#39;ve even gotten a master page and includes.  Let&#39;s even say for the sake of argument that I&#39;ve been able to stay away from writing inline queries to my database and I even have a code-behind file doing the actual work for each of my pages.  I&#39;m doing pretty good, right?  Wrong.  The code still isn&#39;t all that separated.  My code-behind file is a jumble of actions that the page is supposed to perform, queries to the database, whether inline or through a function, and display logic.  When you have an entire development team working to decipher and update code under these circumstances, you end up with confusion that hasn&#39;t been rivaled since the tower of Babel.  There has to be a better and cleaner way to create code, right?  I&#39;m glad you asked.  Enter architectural patterns.</p>\n<h3>What are architectural patterns?  Why do I care?</h3><p>There are a large number of architectural patterns out there for development.  Some of the big important ones are:</p>\n<ul>\n<li>Model View Controller</li>\n<li>Model View ViewModel</li>\n<li>Model View Presenter</li>\n<li>Presentation Abstraction Control</li>\n</ul>\n<p>The basic idea behind all of these is to separate the coding logic into bite size pieces that can be easily found and manipulated and that link to the other related pieces correctly.  If you&#39;re a developer, these patterns will help you easily manipulate your own code and it will help anyone who comes after you as well.  If you are hiring a developer, it will save you money because instead of wrestling to get a project working, your developers will be dancing with the project.</p>\n<h3>What is MVC?</h3><p>MVC is an acronym for <em>Model-View-Controller</em>.  In this design pattern, every page is associated with a model, a view and a controller, which can all be found in appropriately labeled folders.</p>\n<h4>Controller</h4><p>When someone goes to a page, the controller is accessed.  It essentially acts as a traffic director, telling the browser what to do.  The controller will look to the model and to the view.</p>\n<h4>Model</h4><p>The model handles all of domain-specific data.  If your application uses a database, the model interacts with the database and builds objects that can be accessed in the view and in the controller.  It passes the objects back to them.</p>\n<h4>View</h4><p>The view is the display.  The view accesses any objects that are built in the model or in the controller.  Think of this as the display.</p>\n<p>This is just the very basic beginning point to understanding code separation and MVC.  For further reading on this and many other exciting subjects, subscribe to our RSS feeds and stay tuned.</p>\n"},"killing-ie6":{"published":true,"title":"Killing IE6","tags":["Browsers"],"category":"code","date":"1-27-2010","thumbnail":"/images/blog/ie6.png"}};
</script>

<div class="span8">

<article>

    <div class="well span2 left thumbnail  thumbnail-main">
      <img src="/images/blog/car.png" />
    </div>

    <h1>Compound.js Routes</h1>

    

    <h5><span class="label label-info"><a href="/?category=code">code</a></span> | 3-12-2013</h5>

    <p><a href="/blog/how-do-yo-make-a-compoundjs-app">Previously</a>, I introduced you to Compound, an awesome MVC framework for NodeJS. Today, I am going to expound on how the routing works in Compound.</p>
<p>If you are not familiar with how MVC work, I suggest you take a look at some of my older articles about <a href="/blog/javascript-architecture">JavaScript Architecture</a> and <a href="/blog/code-seperation/">Code Separation</a>. From here on, I will assume that you have a basic understanding of the place of controllers in the MVC paradigm so that the routing will make sense. Let&#39;s begin.</p>
<!-- more -->
<p>The CompoundJS router is built on top of the ExpressJS router, so if you are familiar with Express, the syntax should look suspiciously similar. Your router will be located in the /config/routes.js file. It should look something like this:</p>
<pre><code class="language-javascript">exports.routes = function (map) {
    // Generic routes. Add all your routes below this line
    // feel free to remove generic routes
    map.all(&#39;:controller/:action&#39;);
    map.all(&#39;:controller/:action/:id&#39;);
};
</code></pre>
<p>As you can see, the router above is setting some basic global rules. If we hit /users/create it will resolve to the &quot;create&quot; method of the users controller. If we hit /users/edit/12 it will resolve to the &quot;edit&quot; method of the users controller with an id of &quot;12&quot; passed into the method.</p>
<p>To map all of the basic CRUD functionality to a Compound controller, just add:</p>
<pre><code class="language-javascript">map.resources(&#39;users&#39;);
</code></pre>
<p>Yes, that is just one line of code, but it magically maps all of these routes:</p>
<ul>
<li>users GET - users#index</li>
<li>users POST - users#create</li>
<li>users/new GET - users#new</li>
<li>users/:id/edit - users#edit</li>
<li>users/:id DELETE - users#destroy</li>
<li>users/:id PUT - users#update</li>
<li>users/:id - users#show</li>
</ul>
<p>That will cover many of your routing needs, but if you need to make a route go directly to a controller method, the syntax looks like this:</p>
<pre><code class="language-javascript">map.get(&#39;users/login&#39;, &#39;users#login&#39;);
</code></pre>
<p>With the code above, you will be able to go to the /users/login URL and it will resolve to the &quot;login&quot; method of the users controller.</p>
<p>To map your homepage, you can use map.root like this:</p>
<pre><code class="language-javascript">map.root(&#39;pages#home&#39;);
</code></pre>
<p>The above snippet will map to the &quot;home&quot; method of the pages controller.</p>
<p>The Compound routing is very robust, so you may need to read through the documentation to see everything that it can do for you.</p>


    <br /><br />

    <div class="bio">
      <div class="span2">
        <img src="/images/about/tyson5.jpg" class="lazy" />
      </div>
      <div class="span5">
        <h3><a href="/about">About the Author</a></h3>
        <p><strong>Tyson Cadenhead</strong> is a Senior JavaScript Developer at <a href="http://aloompa.com">Aloompa</a>. He lives in the greater Nashville area. His specialty is writing large, scalable JavaScript applications on the client and server side. His passions are for good design, usability, and clean, reusable code.</p>
      </div>
    </div>

    <h5>Tags: 
    
        <span class="label">
            <a href="/?tag=Compound">Compound</a>
        </span>
    
    </h5>

</article>

<div class="share">
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
</div>

<h3>Related Posts:</h3>

<div class="span12 related-posts">

  <div class="span2 well thumbnail">
    
    <a href="/blog/how-to-use-tor-with-chrome"><img src="/images/blog/tor.png" /></a>
    <h5>
      <a href="/blog/how-to-use-tor-with-chrome">How To Use Tor With Google Chrome</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/testing-angular-controllers-with-karma"><img src="/images/blog/testing-angular-controllers-with-karma.jpeg" /></a>
    <h5>
      <a href="/blog/testing-angular-controllers-with-karma">Testing Angular Controllers With Karma</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/getting-started-with-meteor"><img src="/images/blog/meteor.png" /></a>
    <h5>
      <a href="/blog/getting-started-with-meteor">Getting Started with Meteor</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/putting-ext-mvc-on-hold"><img src="/images/blog/stop.jpg" /></a>
    <h5>
      <a href="/blog/putting-ext-mvc-on-hold">Putting EXT MVC on Hold</a>
    </h5>
  </div>

</div>

<div class="google-things">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-5130799763611680"
       data-ad-slot="1525472392"
       data-ad-format="auto"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  </div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'tysoncadenhead';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

<div class="well span3 right overflow-auto">

  <h3>Don't Miss Anything!</h3>
  <h5>Sign Up For My Email Newsletter</h5>

  <!-- Begin MailChimp Signup Form -->
  <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
  <style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
  </style>
  <div id="mc_embed_signup">
  <form action="//tysoncadenhead.us9.list-manage.com/subscribe/post?u=97e25799111f2cec4dc714a43&amp;id=501ae643d4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <div style="position: absolute; left: -5000px;"><input type="text" name="b_97e25799111f2cec4dc714a43_501ae643d4" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
      </div>
  </form>
  </div>

  <!--End mc_embed_signup-->

  <h3>I Wrote a Book!</h3>

  <iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//ws-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&OneJS=1&Operation=GetAdHtml&MarketPlace=US&source=ac&ref=tf_til&ad_type=product_link&tracking_id=tysolloycade-20&marketplace=amazon&region=US&placement=B016QFJVZ2&asins=B016QFJVZ2&linkId=KNSB4DOAIGOWDCDD&show_border=false&link_opens_in_new_window=true&price_color=333333&title_color=115D5A&bg_color=EFEEEE"></iframe>

  <h3>Popular Posts</h3>

  <div id="popular-posts"></div>

</div>

                    
                
            </div>
        </div>
        <script data-main="/js/app.js" src="/js/vendor/require.js"></script>
        <div class="footer">
            <div class="container">
                <div class="addthis_default_style span12 addthis_32x32_style">
                    <a class="addthis_button_facebook_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_twitter_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_linkedin_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_google_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_youtube_follow" addthis:userid="tysoncadenhead"></a>
                    <a href="http://tysoncadenhead.deviantart.com/gallery/" title="Deviant Art" target="_blank" class="deviant-art"></a>
                    <a class="addthis_button_flickr_follow" addthis:userid="tysonlloydcadenhead"></a>
                    <a class="addthis_button_instagram_follow" addthis:userid="tysoncadenhead"></a>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            window.tysonJS = {
                slug: 'compoundjs-routes'
            };
        </script>
    </body>
</html>
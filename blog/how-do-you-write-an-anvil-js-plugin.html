<!DOCTYPE html>
<!--[if IE 6]>
    <html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
    <html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
    <html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
    <html lang="en-US">
<!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
        <meta name="google-site-verification" content="AeV4w7EOhEv3lU1OT8KOM7jRS0C6jDAsZyMaG38t1g4" />
        <meta property="og:image" content="http://www.tysoncadenhead.com/images/blog/anvil.png"/>
        <meta property="og:title" content="How Do You Write an Anvil.js Plugin?"/>
        <meta property="og:url" content="http://www.tysoncadenhead.com"/>
        <meta property="og:site_name" content="Tyson Cadenhead"/>
        <meta property="og:description" content="The Art Of Elegant JavaScript Applications" />
        <title>How Do You Write an Anvil.js Plugin?</title>
        <link rel="shortcut icon" href="/images/favicon.ico" /> 
        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/app.css" />
        <link rel="alternate" type="application/rss+xml" title="How Do You Write an Anvil.js Plugin? The Art Of Elegant JavaScript Applications" href="http://www.tysoncadenhead.com/feed.xml" />
        
    </head>
    <body>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-19696495-1']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
        </script>
        <div id="fb-root"></div>
        <div class="container">
            <div class="header" id="top">
                <div class="span12">
                    <div class="span4 left">
                        <h1 id="logo"><a href="/"><img src="/images/logo-new.png" /></a></h1>
                    </div>
                    <div id="nav-toggle">
                        <span></span>
                    </div>
                    <div class="span6 right">
                        <div class="navbar navbar-inverse">
                            <div class="navbar-inner right">
                                <ul class="nav right">
                                  <li><a href="/">Blog</a></li>
                                  <li><a href="/presentations">Presentations</a></li>
                                  <li><a href="/about">About Me</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span12">
                
                    
                    
                        
                        

<script type="text/javascript">
var posts = {"what-will-2016-hold-for-tyson-cadenhead":{"published":true,"title":"What Will 2016 hold for tysoncadenhead.com?","tags":["javascript"],"category":"code","date":"1/1/2016","thumbnail":"/images/blog/what-will-2016-hold-for-tyson-cadenhead.jpg","slug":"what-will-2016-hold-for-tyson-cadenhead"},"private-methods-in-javascript":{"published":true,"title":"Private Methods In JavaScript","tags":["javascript","es6"],"category":"code","date":"12/21/2015","thumbnail":"/images/blog/private-methods-in-javascript.jpg","slug":"private-methods-in-javascript"},"unit-testing-react-components-with-mocha":{"published":true,"title":"Unit Testing React Components With Mocha","tags":["react","javascript","testing","mocha"],"category":"code","date":"12/13/2015","thumbnail":"/images/blog/unit-testing-react-components-with-mocha.jpg","slug":"unit-testing-react-components-with-mocha"},"handling-clicks-outside-an-element":{"published":true,"title":"Handling Clicks Outside An Element","tags":["javascript"],"category":"code","date":"11/28/2015","thumbnail":"/images/blog/handling-clicks-outside-an-element.png","yield":"<p>Sometimes you find yourself solving the same problem over and over again. Usually when that happens, it&#39;s a good time to step back and think about a way to have a single reusable solution.</p>\n<p>That was exactly what was happening when we were building out a library of custom components in React. For good usability, many of our components needed to have an action occur when a user clicked outside the component. This was the case for many components such as modals, comboboxes, etc...</p>\n<!-- more -->\n<p>Our answer to the outside click event was to create a small module to make it easy to subscribe to clicks occurring outside a passed-in element.</p>\n<p>Our module is called &quot;outside-click&quot; available on <a href=\"https://github.com/Aloompa/outside-click\">GitHub</a> and <a href=\"https://www.npmjs.com/package/outside-click\">NPM</a>.</p>\n<p>The original code for this was written by <a href=\"https://github.com/lomteslie\">Tom Leslie</a>, though the api has gone through a few tweaks and updates over the past couple of months. He should definitely get all of the credit for originating the module and writing it in a clean extendable way.</p>\n<p>The idea is that we pass in an element and an event to occur when any element outside of the passed-in element is clicked.</p>\n<p>Here is an example usage with React:</p>\n<pre><code>const outsideClick = require(&#39;outside-click&#39;);\n\nclass MyViewComponent extends React.Component {\n\n    componentDidMount () {\n        const element = React.findDOMNode(this);\n\n        // Add the listener\n        this.outsideClick = outsideClick(element, this.close.bind(this));\n    }\n\n    componentWillUnmount () {\n        // Remove the listener\n        this.outsideClick.off();\n    }\n\n}\n</code></pre><p>The API is simple and there is honestly not much code happening, but it is a really useful tool with solid tests behind it.</p>\n"},"pro-tip-use-consistent-spacing-between-variable-names-to-avoid-merge-conflicts":{"published":true,"title":"Pro-Tip: Use Consistent Spacing Between Variable Names to Avoid Merge Conflicts","tags":["javascript"],"category":"code","date":"11/13/2015","thumbnail":"/images/blog/merge.png","slug":"pro-tip-use-consistent-spacing-between-variable-names-to-avoid-merge-conflicts"},"where-should-i-put-javascript-unit-tests":{"published":true,"title":"Where Should I Put JavaScript Unit Tests?","tags":["javascript","architecture","testing","mocha"],"category":"code","date":"11/7/2015","thumbnail":"/images/blog/where-should-i-put-javascript-unit-tests.jpg"},"how-to-organize-component-based-code":{"published":true,"title":"How To Organize a Component-Based Application","tags":["javascript","architecture","react"],"category":"code","date":"11/1/2015","thumbnail":"/images/blog/how-to-organize-component-based-code.jpg"},"what-is-es6-destructuring":{"published":true,"title":"What Is ES6 Destructuring?","tags":["javascript","es6"],"category":"code","date":"10/25/2015","thumbnail":"/images/blog/what-is-es6-destructuring.jpg"},"what-are-arrow-functions":{"published":true,"title":"What Are Arrow Functions?","tags":["javascript","es6"],"category":"code","date":"10/20/2015","thumbnail":"/images/blog/what-are-arrow-functions.jpg","slug":"what-are-arrow-functions"},"react-with-es6-classes":{"published":true,"title":"React With ES6 Classes","tags":["react","es6"],"category":"code","date":"08/03/2015","thumbnail":"/images/blog/react-es6-classes.png","slug":"react-with-es6-classes"},"what-will-javascript-be-like-in-2015":{"published":true,"title":"What Will JavaScript Be Like In 2015?","tags":["javascript"],"category":"code","date":"01/03/2015","thumbnail":"/images/blog/what-will-javascript-be-like-in-2015.png","slug":"what-will-javascript-be-like-in-2015"},"angular-promises":{"published":true,"title":"A Crash Course On Angular Promises","tags":["angular","promises"],"category":"code","date":"12/22/2014","thumbnail":"/images/blog/angular-promises.png","yield":"<p>Writing complex behaviors in an asynchronous language like JavaScript can be a bit of a challenge. If you aren&#39;t careful, you can make some pretty ugly nested code in order to get things to work like you expect. To solve the problem of illegible nested callbacks, we have promises. If you are writing applications in Angular, you are in luck because Angular ships with a great promise library called &quot;Q&quot;. Today, we&#39;re going to look at a few approaches to making more readable and maintainable Angular applications with the help of the built in Q promise library.</p>\n<!-- more -->\n<p><img src=\"http://cdn.meme.am/instances/500x/54391964.jpg\" width=\"50%\" alt=\"\"></p>\n<h3>What Are Promises?</h3><p>In the distant past, I have been guilty of writing things like this:</p>\n<pre><code>myModels.getPerson({ id: 1 }, function (person) {\n   myModels.getDad(person, function (dad) {\n        myModels.getPet(dad, function (pet) {\n            myModels.getPetColor(pet, function (color) {\n                // ...\n            });\n        });\n   });\n});\n</code></pre><p>It looks really ugly, but there were instances where I needed to make one asynchronous operation, then based on the data that I got back from the operation, I would need to make another operation and the tunnel of madness would begin. Promises are an answer to that problem.</p>\n<p>Whether you know it or not, you&#39;ve probably been exposed to promises inside of libraries like jQuery when you tack a <code>then()</code> method on after a function.</p>\n<p>The way it works is that the function returns a &quot;promise&quot; instead of a result. Inside the function, the promise can be resolved at some point and the <code>then()</code> method is fired which continues the chain of methods you are building.</p>\n<p>Taking our contrived example above, if we were using promises, it might look more like this:</p>\n<pre><code>myModels\n    .getPerson({\n        id: 1\n    })\n    .then(myModels.getDad)\n    .then(myModels.getPet)\n    .then(myModels.getPetColor)\n    .done(function (data) {\n        // ...\n    });\n</code></pre><p>Now we&#39;ve got an API that is readable and maintainable. Life is good again.</p>\n<p><img src=\"http://www.quickmeme.com/img/01/015f8f78101fcf7e97a3b9492a1aee81f7ed3958b5356eee14cf8391a98d2888.jpg\" width=\"50%\" /></p>\n<h3>What Is <code>Q</code>?</h3><p>There are numerous promise libraries out there, but Angular ships with one called <a href=\"https://github.com/kriskowal/q\">Q</a>. It is a really nice library and I&#39;ve used it for some of my non-Angular and even some of my Node projects in the past. Angular can inject <code>$q</code> directly, but some of the services, such as the <code>$resource</code> service already use it under the hood.</p>\n<p><img src=\"http://ct.fra.bz/ol/fz/sw/i59/5/9/27/frabz-One-does-Not-Simply-give-a-promise-then-pretend-it-never-happen-2d0ebe.jpg\" width=\"50%\" /></p>\n<h3>Deferring A Promise</h3><p>The syntax for deferring a promise is pretty straightforward. You need to instantiate a new <code>$q.defer()</code> and then return the promise off of the object that it returns. When you&#39;re done doing what you&#39;re doing, you just need to resolve the deferred object. If you have any data that you want to pass into the resolve function, you can pass it as the first argument.</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .service(&#39;Wait&#39;, Wait);\n\nWait.$inject = [&#39;$q&#39;, &#39;$window&#39;];\n\nfunction Wait ($q, $window) {\n\n    var service = {};\n\n    service.waitFor = waitFor;\n\n    function waitFor (ms) {\n        var deferred = $q.defer();\n\n        $window.setTimeout(function () {\n            deferred.resolve();\n        }, ms);\n\n        return deferred.promise;\n    }\n\n    return service;\n\n}\n</code></pre><p>The service above could be used like this:</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyController&#39;, MyController);\n\nMyController.$inject = [&#39;Wait&#39;];\n\nfunction MyController (Wait) {\n    Wait\n        .waitFor(1000)\n        .then(function () {\n            alerted(&#39;I already waited for a second! I\\&#39;m bored!&#39;);\n        });\n}\n</code></pre><p><img src=\"http://djebbz.github.io/async-paris-js/images/why-so-asynchronous.jpg\" width=\"50%\" /></p>\n<h3>Waiting For Multiple Promises</h3><p>Sometimes, you have multiple promise you want to resolve, but it doesn&#39;t necessarily matter what order the functions are executed in. You just want to execute multiple asynchronous operations and get notified when they are done. For that, we have <code>$q.all</code>. The &quot;all&quot; method takes an array of functions and gives you a callback when they are all completed.</p>\n<p>Using <code>$q.all</code> looks something like this:</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyController&#39;, MyController);\n\nMyController.$inject = [&#39;$q&#39;, &#39;$window&#39;];\n\nfunction MyController ($q, $window) {\n\n    $q.all([\n        $q(firstThing()),\n        $q(firstSecond()),\n        $q(thirdThing())\n    ])\n    .then(function (data) {\n        // ...\n    });\n\n    function firstThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 1000);\n\n        return deferred.promise;\n    }\n\n    function secondThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 2000);\n\n        return deferred.promise;\n    }\n\n    function thirdThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 3000);\n\n        return deferred.promise;\n    }\n\n}\n</code></pre><p>Note that the each function you are passing into the array that is the first argument of <code>$q.all</code> method needs to be wrapped in a <code>$q</code>. That might seem a little tedious, but it keeps the functions from executing without a proper callback and in turn breaking the chain.</p>\n<p>There might be a little learning curve with Angular promises, but it is well worth the effort. Promises can go a long way to make cleaner more maintainable code and I&#39;ve found that the implementation in Angular is very solid.</p>\n","slug":"angular-promises"},"angular-controller-as":{"published":true,"title":"Ditching $scope For ControllerAs In Angular Apps","tags":["angular"],"category":"code","date":"11/29/2014","thumbnail":"/images/blog/angular-controller-as.jpeg","yield":"<p>At the ng-europe conference in Paris this year, the Angular team made several revelations about what Angular 2.0 will look like once it is complete. Several of the current features of Angular will be put to rest, but one of the more notable ones is the controller <code>$scope</code>. As developers prepare to eventually migrate their applications to Angular 2.0, it is important to do what we can currently in order to prepare for the easiest migration. One thing we already know we can do is to stop using the angular $scope entirely in our controllers. This is how you can do exactly that.</p>\n<!-- more -->\n<h3>What&#39;s Wrong With <code>$scope</code>?</h3><p>The current implementation of the Angular $scope is an artifact of the earlier days of Angular when many of the big questions about how to build high-quality single page applications were still being figured out and debated. The issue with injecting a <code>$scope</code> into a controller is that the there is no way to distinguish where a parameter is coming from in a template. Take this as an example:</p>\n<pre><code class=\"language-js\">&lt;div ng-controller=&quot;MyFirstController&quot;&gt;\n    &lt;div ng-controller=&quot;MySecondController&quot;&gt;\n        {{myProperty}}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In the example above, there is no way to determine whether the first controller or the second controller sets the <code>myProperty</code> binding. It could actually be either one, since the scope is inherited up the chain.</p>\n<p>Because of the ambiguity along with the unnecessary verbosity of creating a unique scope inside of every controller, as the Angular 2.0 project has been progressing, it has been determined that a much better approach is to treat the controller itself as the scope.</p>\n<h3>What Can I Do To Stop Using <code>$scope</code>?</h3><p>Fortunately, we can already stop injecting a <code>$scope</code> into our controllers by using the <code>controllerAs</code> syntax in the current version of Angular. The controllerAs syntax is fairly straightforward and will probably look more familiar to developers who cut their teeth in traditional object oriented JavaScript before learning Angular. When we use <code>controllerAs</code>, <code>this</code> becomes what we would refer to as the scope of the controller.</p>\n<p>That means that instead of this:</p>\n<pre><code class=\"language-js\">angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstController&#39;, MyFirstController);\n\nMyFirstController.$inject = [&#39;$scope&#39;];\n\nfunction MyFirstController ($scope) {\n    $scope.myAttr = &#39;myAttribute&#39;;\n    $scope.myMethod = function () {}\n}\n</code></pre>\n<p>A controller would look more like this:</p>\n<pre><code class=\"language-js\">angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstController&#39;, MyFirstController);\n\nMyFirstController.$inject = [];\n\nfunction MyFirstController () {\n    var vm = this;\n    vm.myAttr = &#39;myAttribute&#39;;\n    vm.myMethod = function () {}\n}\n</code></pre>\n<h3>Okay, But How Do I Bind That?</h3><p>Ultimately, you&#39;ll want to try to bind your controllers outside of your the template that is bound to. That way, you could reuse templates as needed. I won&#39;t be doing that in this example, because everything is in a single template, but I just wanted to make that clear. To bind your new controller, you&#39;ll just need to do something like this:</p>\n<pre><code class=\"language-js\">&lt;div ng-controller=&quot;MyFirstController as myFirstCtrl&quot;&gt;\n    &lt;div ng-click=&quot;myFirstCtrl.myMethod()&quot;&gt;{{myFirstCtrl.myAttr}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Now everything related to the controller that you have bound is namespaced to it. This avoids the confusion of nested scopes and lets you easily distinguish where everything is coming from.</p>\n<h3>Can I Bind The Controller In The Route?</h3><p>Whenever possible, it is best to bind your controller in the route itself rather than inside your templates. That will look something like this:</p>\n<pre><code class=\"language-js\">function appConfig($routeProvider) {\n    $routeProvider\n        .when(&#39;/myRoute/:id&#39;, {\n            templateUrl: &#39;/templates/myTemplate.html&#39;,\n            controller: &#39;MyFirstController&#39;,\n            controllerAs: &#39;myFirstCtrl&#39;\n        });\n}\n</code></pre>\n<p>This functionally works the same as setting the controller in the template. Everything in the <code>this</code> context of the controller is namespaced to <code>myFirstCtrl</code>.</p>\n<p>I can say from my own personal experience that I ditched the use of <code>$scope</code> a few weeks ago and I haven&#39;t missed it at all. I feel good knowing that I&#39;m working towards an easier migration once Angular 2.0 is ready and my applications have honestly been much easier to read and debug.</p>\n"},"testing-angular-controllers-with-karma":{"published":true,"title":"Testing Angular Controllers With Karma","tags":["angular","karma","unit testing"],"category":"code","date":"10/10/2014","thumbnail":"/images/blog/testing-angular-controllers-with-karma.jpeg","slug":"testing-angular-controllers-with-karma"},"new-job-at-aloompa":{"published":true,"title":"My New Job At Aloompa","tags":["jobs","life"],"category":"life","date":"9-24-2014","thumbnail":"/images/blog/aloompa.png"},"getting-started-with-react":{"published":true,"title":"Getting Started With React","tags":["react"],"category":"code","date":"9-08-2014","thumbnail":"/images/blog/react.png","yield":"<p>I had been meaning to start playing around with React for quite a while now. There is a lot of buzz around React and I really wanted to see what it was all about. I had looked at a little code written with React and JSX and I was frankly a little taken aback by the syntax. But last week, I was at devLink and I saw a presentation by <a href=\"https://twitter.com/ifandelse\">Jim Cowart</a> on the React framework and several things clicked for me. I&#39;ve started playing around with it this week and I thought I&#39;d write an introductory post to cover what I&#39;ve learned so far.</p>\n<!-- more -->\n<h3>What Is React?</h3><p>React is a client-side JavaScript framework created by Facebook and Instagram. React takes a radically different approach to many problems than other client-side frameworks, which makes it interesting to learn.</p>\n<p>The React library only focuses on the UI and it has even been implemented as the <code>view</code> layer for many MV* frameworks.</p>\n<p>Here are a few things that set React apart.</p>\n<h3>JSX</h3><p>React works best when it is paired with a language extension to JavaScript called JSX. At first glance, JSX may look a little strange. Here is an example:</p>\n<pre><code>var HelloMessage = React.createClass({\n  render: function() {\n    return &lt;div&gt;Hello {this.props.name}&lt;/div&gt;;\n  }\n});\nReact.renderComponent(&lt;HelloMessage name=&quot;John&quot; /&gt;, mountNode);\n</code></pre><p>You might notice the markup inside the JavaScript code. That took me aback at first too. What is really interesting is that the markup is actually not a string. It&#39;s also not even HTML. It gets compiled to look like this:</p>\n<pre><code class=\"language-js\">var HelloMessage = React.createClass({displayName: &#39;HelloMessage&#39;,\n  render: function() {\n    return React.DOM.div(null, &quot;Hello &quot;, this.props.name);\n  }\n});\nReact.renderComponent(HelloMessage({name: &quot;John&quot;}), mountNode);\n</code></pre>\n<h3>One-Way Binding</h3><p>If you are accustomed to writing Angular or Knockout applications, you&#39;re probably pretty familiar with the concept of two-way binding. Two-way binding is a central tenant of MVVM frameworks. It means that any data changes in the model are immediately propagated to the view or views and any changes that occur on the view are immediately propagated back to the underlying model.</p>\n<p>The approach with React is to bind the view to the model and then push data back into the model as needed. For more light on the subject of why React uses one-way binding instead of two-way binding, check out this discussion by <a href=\"https://www.youtube.com/watch?v=h3KksH8gfcQ\">Pete Hunt</a>.</p>\n<p>Instead of data being automatically sent back to the model, you have to do the work yourself using event listeners in the JSX &quot;markup&quot;. Here is an example of submitting a form using the <code>handleSubmit</code> event:</p>\n<pre><code>var CommentForm = React.createClass({\n    handleSubmit: function (e) {\n      e.preventDefault();\n      var author = this.refs.author.getDOMNode().value.trim(),\n          text = this.refs.text.getDOMNode().value.trim();\n      this.refs.author.getDOMNode().value = &#39;&#39;;\n      this.refs.text.getDOMNode().value = &#39;&#39;;\n      return;\n    },\n    render: function () {\n      return (\n        &lt;form className=&quot;commentForm&quot; onSubmit={this.handleSubmit}&gt;\n          &lt;input type=&quot;text&quot; placeholder=&quot;Your name&quot; ref=&quot;author&quot; /&gt;\n          &lt;input type=&quot;text&quot; placeholder=&quot;Say something...&quot; ref=&quot;text&quot; /&gt;\n          &lt;input type=&quot;submit&quot; value=&quot;Post&quot; /&gt;\n        &lt;/form&gt;\n      );\n    }\n});\n</code></pre><h3>Flux Application Architecture</h3><p>Instead of the traditional data flow that you will see in MVC applications, React works best when paired with a <a href=\"https://github.com/facebook/flux\">Flux</a> architecture.</p>\n<p>The flow of a traditional MVC application would look something like this:</p>\n<pre><code class=\"language-text\">Controller --&gt; Model --&gt; View\n</code></pre>\n<p>Whereas the flow of a Flux application would look like this:</p>\n<pre><code class=\"language-text\">Action --&gt; Dispatcher --&gt; Store --&gt; View\n</code></pre>\n<p>Using Flux, an action comes into the system and gets passed into the dispatcher. The dispatcher acts as a sort of traffic controller, it ensures that until the current state is rendered, another action cannot be passed into the system. The store is a data layer that updates when you get a new action, and the view, which re-render whenever the stores say something has changes. The view can throw another action into the system and restart the rendering process.</p>\n<p>Using one-way binding, the Flux architecture makes a lot more sense because everything is flowing in a single direction without any cascading effects</p>\n<h3>Virtual DOM</h3><p>React is very quick and responsive. It uses the virtual DOM to create a diff with the current DOM, so only the things that change are updated. There is no needless re-rendering. React can also be rendered on the server-side using Node.js.</p>\n<h3>My Thoughts</h3><p>React is a really cool concept. It tends to create faster and more responsive interfaces than most of the other libraries I&#39;ve worked with.</p>\n<p>On the other side of the coin, React isn&#39;t as fully featured as something like Angular. Here is a comparison of the amount of code each one requires to create a <a href=\"http://www.benmccann.com/blog/todo-mvc-angular-vs-react/\">TODO MVC application</a>. Obviously, Angular is a complete library for managing front-end applications and React on focuses on the view, but it is important to note that if you use React by itself, you will end up writing more boilerplate code to glue the application together. When paired with Flux or any MV* framework, you will see the amount of boilerplate drastically reduced.</p>\n<p>I&#39;m definitely looking forward to using React and Flux more in the future. It&#39;s a really cool and interesting approach and I&#39;ve been really impressed by the responsiveness it provides. What have been your experiences with React?</p>\n<p><em>edit - Many thanks to <a href=\"https://twitter.com/ifandelse\">Jim Cowart</a> for pointing out some things I said that didn&#39;t make sense. Hopefully some of the changes I made will make this a better introduction.</em></p>\n","slug":"getting-started-with-react"},"automatically-refresh-your-browser-when-your-code-changes-with-bowsersync":{"published":true,"title":"Automatically Refresh Your Browser When Your Code Changes With BrowserSync","tags":["browsers","browsersync"],"category":"code","date":"9-03-2014","thumbnail":"/images/blog/browsersync.png","yield":"<p>When I first started writing client-side applications, the process was terrible. I had to save my file and then flip over to my browser to check my results. As a result, I was clicking two buttons every time I wanted to save a file. To make matters worse, I had to repeat the process to test my application in multiple browsers. To test a minimum of Chrome, Firefox and a single version of Internet Explorer, I was clicking 4 buttons. To repeat that flow over and over again to test incremental changes was soul killing.</p>\n<!-- more -->\n<p><img src=\"/images/blog/auqaman.png\" alt=\"\"></p>\n<h3>LiveReload</h3><p>A few years ago, a solution called <a href=\"http://livereload.com/\">LiveReload</a> was introduced to address this problem. Using LiveReload, I could tell my computer to watch a certain directory for changes. When a change occurred in one of my files, it would refresh the browser. My workflow with LiveReload was much easier, but the setup was a pain. Anytime I&#39;d set up a new project, I found myself spending an inordinate amount of time setting up a grunt task to watch certain files and keep my browser up to date. Ultimately, I found myself slipping back into the old flow of development on smaller projects because it was too much of a pain to get working.</p>\n<p><img src=\"/images/blog/superman.png\" alt=\"\"></p>\n<h3>Enter BrowserSync</h3><p>A few days ago, I tried out <a href=\"http://www.browsersync.io/\">BrowserSync</a> for the first time. BrowserSync is available as a Grunt or Gulp plugin, but it is also really simple to run as a process in the terminal.</p>\n<p>BrowserSync runs with NodeJS, so if you already have Node installed, you just need to install the <code>browser-sync</code> package like this:</p>\n<pre><code class=\"language-bash\">npm install -g browser-sync\n</code></pre>\n<p>Once BrowserSync is installed, you can use it to watch static files or you can create a proxy for a dynamic site. For example, if I have a SailsJS application, I could watch the files in the <code>public</code> directory like this:</p>\n<pre><code class=\"language-bash\">browser-sync start --proxy &quot;localhost:3117&quot; --files &quot;public/**/*&quot;\n</code></pre>\n<p>BrowserSync will create a proxy to serve the site through and open a browser window pointing to that proxy. Now, anytime I change a file in my <code>public</code> directory, the browser window will be refreshed and I will see the latest code.</p>\n<p>BrowserSync doesn&#39;t care what backend technology you are using. I typically write in Node, but if I was using PHP or Ruby, it would work exactly the same.</p>\n<p>I have been really impressed with BrowserSync so far. Try it out, you may find yourself in a happier place.</p>\n","slug":"automatically-refresh-your-browser-when-your-code-changes-with-bowsersync"},"how-to-upload-remote-images-with-sails-js":{"published":true,"title":"How To Upload Remote Images With SailsJS","tags":["sailsjs","amazons3"],"category":"code","date":"8-18-2014","thumbnail":"/images/blog/how-to-upload-remote-images-with-sails-js.png","slug":"how-to-upload-remote-images-with-sails-js"},"communicating-between-controllers-in-angular":{"published":true,"title":"Communicating Between Controllers In Angular","tags":["angular","pubsub"],"category":"code","date":"8-11-2014","thumbnail":"/images/blog/communicating-between-controllers-in-angular.jpg","yield":"<p>In Angular, there are times when you will want one controller to be able to communicate with other controllers. For example, if you want your user to be able to click a button and for a different controller to be aware of the UI change.</p>\n<!-- more -->\n<p>Take this markup as an example:</p>\n<pre><code class=\"language-html\">&lt;div ng-app=&quot;myApp&quot;&gt;\n    &lt;div ng-controller=&quot;Ctrl1&quot;&gt;\n        The current number is: {{number}}\n    &lt;/div&gt;\n    &lt;div ng-controller=&quot;Ctrl2&quot;&gt;\n        &lt;button ng-click=&quot;buttonClick()&quot;&gt;Click Me&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>It&#39;s a very basic contrived example, but we have a controller called &quot;Ctrl1&quot; that has a number in its scope. We also have a totally separate controller called &quot;Ctrl2&quot; that has a button with a click event on it.</p>\n<p>Our entire application might look like this:</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.number = 1;\n}]);\n\nmyApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.buttonClick = function () {\n        console.log(&#39;button was clicked&#39;);\n    };\n}]);\n</code></pre>\n<p>We obviously don&#39;t want to reference <code>Ctrl2</code> in <code>Ctrl1</code>. That is what we call &quot;tight coupling&quot; and it is a sure recipe for building an app that will  fall apart when changes are made. What we want to do is broadcast an event to let any controllers in the application know that there has been a change. That way, the controllers that are interested will react to the event, but no controller is directly communicating with any other controller. In other words, all <code>Ctrl1</code> knows is that it is broadcasting an event. All that <code>Ctrl2</code> knows is that it is listening for an event. They are completely unaware of the existence of one another.</p>\n<p>First of, we will need to modify <code>Ctrl1</code> to listen for an event. Angular gives us the ability to listen for and emit events on any module, but it won&#39;t do any good to listen for an event on the <code>$scope</code> of <code>Ctrl1</code> itself because <code>Ctrl2</code> can&#39;t send an event to it. It doesn&#39;t know that it exists. Instead, we will need to inject the $rootScope into our controller. The $rootScope is the application itself.</p>\n<p>Using the $rootScope and the <code>$on</code> method, we can listen for any events that are broadcast to the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.number = 1;\n    $rootScope.$on(&#39;buttonClicked&#39;, function () {\n        $scope.number++;\n    });\n}]);\n</code></pre>\n<p>The <code>$on</code> event that is triggered has two arguments, the context of the event and the data that is being broadcast. This means that you could actually pass an object of data with the event.</p>\n<p>Last of all, we will need to update <code>Ctrl2</code> to broadcast an event when the button is clicked. Again, this will need to happen on the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">myApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.buttonClick = function () {\n        $rootScope.$broadcast(&#39;buttonClicked&#39;);\n    };\n}]);\n</code></pre>\n<p>As you can see, sending messages between controllers is actually pretty simple. If you&#39;d like to see this all together, I&#39;ve created a <a href=\"http://jsfiddle.net/63KWh/\">Fiddle</a> that you can try out. For more advanced messaging, I would recommend checking out Jonathan Creamer&#39;s article, &quot;<a href=\"http://jonathancreamer.com/an-angular-event-bus-with-postal-js/\">An angular.js event bus with postal.js</a>&quot; where he shows how do this same thing using Postal. His approach requires another library, but it does provide a more robust API to work with.</p>\n<p>How are you handling communication between modules and controllers in Angular? I&#39;d love to hear your thoughts.</p>\n","slug":"communicating-between-controllers-in-angular"},"the-state-of-javascript-a-shift-from-imperative-to-declarative":{"published":true,"title":"The State Of JavaScript - A Shift From Imperative To Declarative","tags":["javascript"],"category":"code","date":"8-04-2014","thumbnail":"/images/blog/the-state-of-javascript-a-shift-from-imperative-to-declarative.jpg"},"using-knockout-for-progressive-enhancement-on-lists":{"published":true,"title":"Progressive Enhancement With the Knockout Foreach Binding","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-28-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement-on-lists.jpg","slug":"using-knockout-for-progressive-enhancement-on-lists"},"using-knockout-for-progressive-enhancement":{"published":true,"title":"Using Knockout For Progressive Enhancement","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-14-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement.jpg","slug":"using-knockout-for-progressive-enhancement"},"how_to_not_be_a_cyborg_when_you_work_on_computers":{"published":true,"title":"How To Not Be A Cyborg When You Work On Computers","tags":["productivity","working-from-home","work-life-balance"],"category":"productivity","date":"7-03-2014","thumbnail":"/images/blog/cyborg.png","slug":"how_to_not_be_a_cyborg_when_you_work_on_computers"},"syncing-angular-with-sails":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":7,"lastPart":true,"title":"Syncing Angular With Sails","tags":["sailsjs","angular"],"category":"code","date":"6-30-2014","thumbnail":"/images/blog/syncing-angular-with-sails.png","slug":"syncing-angular-with-sails"},"sails-models":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":6,"title":"Sails Models","tags":["sailsjs"],"category":"code","date":"6-27-2014","thumbnail":"/images/blog/sails-models.png","slug":"sails-models"},"angular-controllers-with-sails-app":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":5,"title":"Angular Controllers","tags":["angular"],"category":"code","date":"6-12-2014","thumbnail":"/images/blog/angular-controllers-with-sails-app.png","yield":"<div class=\"series-placement\">\n\n    This is part 5 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/adding-dependencies\">Previous Post In This Series</a> | <a href=\"/blog/sails-models\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>In the past few posts, I&#39;ve been laying the groundwork for building an Angular application on top of Sails. Now that everything is in place, we can jump right in to adding Angular views.</p>\n<!-- more -->\n<h3>Create the List Route</h3><p>First, we will generate a new controller and model called &quot;list&quot;:</p>\n<pre><code class=\"language-bash\">sails generate list\n</code></pre>\n<p>Next, we will add a link to the list page in our layout.ejs file:</p>\n<pre><code class=\"language-html\">&lt;li class=&quot;&lt;% if (title === &#39;List&#39;) { %&gt;active&lt;% } %&gt;&quot;&gt;\n  &lt;%- link_to(&#39;List&#39;, &#39;/list&#39;) %&gt;\n&lt;/li&gt;\n</code></pre>\n<p>Now, if we open our <code>/api/controllers/ListController.js</code> file, we can add a method to render the index page:</p>\n<pre><code class=\"language-js\">module.exports = {\n  index: function (req, res) {\n    res.view(null, {\n        title: &#39;List&#39;\n    });\n  },\n  _config: {}\n};\n</code></pre>\n<p>Finally, we will create a view for the lists in <code>/views/list/index.ejs</code>:</p>\n<pre><code class=\"language-html\">&lt;ul class=&quot;checklist&quot;&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; checked /&gt; Do a thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do another thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do a third thing\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;button class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\n&lt;button class=&quot;btn btn-danger&quot;&gt;Remove&lt;/button&gt;\n</code></pre>\n<h3>Add the Angular Controller</h3><p>Now that we&#39;ve got the view rendering for our list, we can add an Angular controller to it.</p>\n<p>We will update the markup for the <code>views/list/index.ejs</code> template to use Angular:</p>\n<pre><code class=\"language-html\">&lt;div ng-controller=&quot;ListCtrl&quot;&gt;\n    &lt;ul class=&quot;checklist&quot;&gt;\n        &lt;li ng-repeat=&quot;item in items&quot;&gt;\n            &lt;input type=&quot;checkbox&quot; ng-checked=&quot;item.completed&quot; /&gt; &lt;span ng-bind=&quot;item.description&quot;&gt;&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;button class=&quot;btn btn-primary&quot; ng-click=&quot;addItem&quot;&gt;Add&lt;/button&gt;\n    &lt;button class=&quot;btn btn-danger&quot; ng-click=&quot;removeItems&quot;&gt;Remove&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The Angular bindings to take note of are the <code>ng-controller</code>. That will bind everything inside of it to the context of the controller we specified. Next, there is the <code>ng-repeat</code>, which loops over items in the scope.</p>\n<p>Now that we&#39;ve added the controller to the markup, we need to actually create the controller in JavaScript. Let&#39;s look at our <code>/assets/js/app.js</code> file. We&#39;ll need it to update it to look like this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;,\n  &#39;controllers&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, [\n    &#39;controllers&#39;\n  ]);\n\n  return app;\n\n});\n</code></pre>\n<p>Basically, we are requiring a JavaScript file which we haven&#39;t created yet called <code>controllers.js</code>. We are also adding a &quot;controllers&quot; module to our application.</p>\n<p>Now that we&#39;ve got that in place, let&#39;s create the <code>/assets/js/controllers.js</code> file:</p>\n<pre><code class=\"language-js\">define(function (require) {\n\n  var angular = require(&#39;angular&#39;),\n      Controllers = angular.module(&#39;controllers&#39;, []);\n\n  Controllers.controller(&#39;ListCtrl&#39;, require(&#39;controllers/listCtrl&#39;));\n\n  return Controllers;\n\n});\n</code></pre>\n<p>The great thing about the way we&#39;ve set up this file is that anytime we need to add a new controller, it&#39;s as simple as adding one new line. This will require the controller and initialize it.</p>\n<p>Now, we&#39;ll need to create a new directory at <code>/assets/js/controllers</code>. Inside our new folder, we&#39;ll make a file named <code>listCtrl.js</code>. The listCtrl.js file should look like this:</p>\n<pre><code class=\"language-js\">define(function () {\n    return [&#39;$scope&#39;, function($scope) {\n        $scope.addItem = function () {\n            console.log(&#39;addItem&#39;);\n        };\n        $scope.removeItems = function () {\n            console.log(&#39;removeItems&#39;);\n        };\n        $scope.items = [{\n            description: &#39;Do a thing&#39;,\n            completed: true\n        }, {\n            description: &#39;Do another thing&#39;,\n            completed: false\n        }, {\n            description: &#39;Do a third thing&#39;,\n            completed: false\n        }];\n    }];\n});\n</code></pre>\n<p>So there we go. Each of our controller AMD modules will just return an array with the dependencies as the items in the array and a function as the last item, just like a regular Angular controller except the controller is being initialized in the controller.js file, not on an individual module basis.</p>\n<p>We are adding an array of &quot;items&quot; to the <code>$scope</code>. We also went ahead and stubbed out a couple of methods for the buttons. They&#39;ll just do a console.log for now, but we&#39;ll get them working soon.</p>\n<p>Now we have Angular controllers on top of our Sails app. At this point, the app should look something like this:</p>\n<p><img src=\"/images/blog/angular-controllers-with-sails-app2.png\" alt=\"\"></p>\n<p>Next time we&#39;ll start getting real data on the app.</p>\n<p>If you want to see the point our sample app should be at by now, check out the Github repo <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/12d1e1860f0c1ae5acead7f6011059ce6b637375\">at this point</a>.</p>\n","slug":"angular-controllers-with-sails-app"},"adding-dependencies":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":4,"title":"Adding Dependencies","tags":["sailsjs","angular"],"category":"code","date":"5-30-2014","thumbnail":"/images/blog/adding-the-dependencies.png","yield":"<div class=\"series-placement\">\n\n    This is part 4 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/server-side-views\">Previous Post In This Series</a> | <a href=\"/blog/angular-controllers-with-sails-app\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>As I promised at the beginning of this series, we are going to be using <a href=\"http://requirejs.org/\">RequireJS</a> to manage our client-side modules. If you haven&#39;t used RequireJS or a similar AMD loader before, let me just say that you are really missing out. RequireJS lets you write your code in small modules that only expose the parts of the API that you want to show and as an added bonus, it uses JavaScript to load your JavaScript modules.</p>\n<!-- more -->\n<p><img src=\"http://bower.io/img/bower-logo.png\" width=\"250px\" /></p>\n<h4>We Can Use Bower, Right?</h4><p>Before we get started, I wanted to give a quick rant about why using bower in a Sails project hasn&#39;t worked very well for me. <a href=\"http://bower.io\">Bower</a> is a package manager for client-side JavaScript much like <a href=\"http://www.npmjs.com/\">NPM</a> is for server-side JavaScript. Typically, I would use bower to manage my dependencies for any project. The issue is that Sails doesn&#39;t run your assets right out of the folder you create them in. Instead, it packages them up with Grunt and runs them out of <code>.tmp/public</code>. That approach is really helpful if you have a compilation step such as converting SASS or LESS stylesheets to CSS or minifying your JavaScript. The issue is that it if you have a ton of files in your assets directory, as is often the case when you have installed bower packages, you will inevitably either get errors complaining about the number of files being processed or it will be painfully slow. Either way, I&#39;ve come to the painful conclusion that using Bower with Sails is more trouble than it is worth.</p>\n<p>My compromise is typically to load my vendor files from a CDN whenever there is one instead of junking up my project with code that I didn&#39;t write.</p>\n<p><img src=\"http://ianreah.com/img/requirejs-logo.png\" alt=\"RequireJS\"></p>\n<h4>RequireJS</h4><p>There is actually some debate about whether or not RequireJS has value in an Angular project. Angular has a dependency injection concept that makes running the code itself pretty modular. However, it doesn&#39;t load specific files for you out of the box. There are a few ways to leverage the Angular library to load your files for you. To me, though, it seems simpler to follow a set standard like what RequireJS provides by closely following the AMD spec. That way, developers in the future will have a clearer idea of where the code is coming from and how it is being loaded.</p>\n<p>So, let&#39;s get RequireJS working.</p>\n<p>Let&#39;s open the layout.ejs file and add a line to instantiate our Angular application. We will replace the body tag with this:</p>\n<pre><code class=\"language-html\">&lt;body ng-app=&quot;todoIt&quot;&gt;\n</code></pre>\n<p>The name of the app can be whatever you want to call your application, but just be aware that you will be referencing it later in your javaScript.</p>\n<p>Next, we need to go to the bottom of the layout.ejs file and replace all of the JavaScript files with this:</p>\n<pre><code class=\"language-html\">&lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.11/require.min.js&quot; data-main=&quot;/js/main&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>That will load the require.min.js file from a CDN and then immediately require your <code>/js/main.js</code> file. Don&#39;t have a main.js file yet? No problem. Let&#39;s go ahead and build that.</p>\n<pre><code class=\"language-js\">window.name = &#39;NG_DEFER_BOOTSTRAP!&#39;;\n\nrequire.config({\n  &#39;baseUrl&#39;: &#39;/js&#39;,\n  &#39;paths&#39;: {\n    &#39;angular&#39;: &#39;//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular&#39;,\n    &#39;jquery&#39;: &#39;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min&#39;,\n    &#39;bootstrap&#39;: &#39;//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min&#39;\n  },\n  &#39;shim&#39;: {\n    &#39;angular&#39;: {\n      &#39;exports&#39;: &#39;angular&#39;\n    },\n    &#39;bootstrap&#39;: {\n      &#39;deps&#39;: [&#39;jquery&#39;]\n    },\n    &#39;socket.io&#39;: {\n      &#39;exports&#39;: &#39;io&#39;\n    },\n    &#39;sails.io&#39;: {\n      &#39;deps&#39;: [&#39;socket.io&#39;],\n      &#39;exports&#39;: &#39;io&#39;\n    }\n  }\n});\n\nrequire([\n  &#39;angular&#39;,\n  &#39;app&#39;,\n  &#39;bootstrap&#39;\n], function (angular, app) {\n\n  angular.element(document.getElementsByTagName(&#39;html&#39;)[0]);\n\n  angular.element().ready(function() {\n    angular.resumeBootstrap([app.name]);\n  });\n\n});\n</code></pre>\n<p>Notice at the top where we set the <code>window.name</code> to &quot;NG_DEFER_BOOTSTRAP!&quot;. That will keep angular from initializing until we tell it to. Near the bottom after everything is loaded, we call angular.resumeBootstrap(). That is where angular picks back up and finishes initializing.</p>\n<p>The socket.io and sails.io files that come with Sails are not wrapped as AMD modules, so we need to shim them both and export the io variable.</p>\n<p>Otherwise, the main.js is pretty standard for a requireJS config file. </p>\n<p>We will also need to update the app.js file to this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, []);\n\n  return app;\n\n});\n</code></pre>\n<p>We are leaving the socket.io connection. We&#39;ll be working with that later on. For now, we mostly just want to return our app as a new angular module. Notice that the name &quot;todoIt&quot; is the same as the <code>ng-app</code> that we added to our layout.ejs file.</p>\n<p>Now the main.js file will take the app that is returned from app.js and create an angular application.</p>\n<p>When you look at your console at this point, you should get a message that says:</p>\n<pre><code class=\"language-bash\">Socket is now connected\n</code></pre>\n<p>If you see that and don&#39;t get any errors, you have successfully added an angular application on top of Sails. Stay tuned next time when we make the application actually do something.</p>\n<p>If you want to see the code in action, check out the example repository <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/ffc98437c91b4bf154c9619fd50b103c9549a465\">here</a>.</p>\n","slug":"adding-dependencies"},"server-side-views":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":3,"title":"Sails Server-Side Views","tags":["sailsjs"],"category":"code","date":"5-21-2014","thumbnail":"/images/blog/server-side-views.png"},"starting_the_sails_project":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":2,"title":"Starting a Sails Project","tags":["sailsjs"],"category":"code","date":"5-2-2014","thumbnail":"/images/blog/starting_the_sails_project.jpg","slug":"starting_the_sails_project"},"sails-ninja-intro":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":1,"firstPart":true,"title":"Introduction","tags":["sailsjs","angular"],"category":"code","date":"4-25-2014","thumbnail":"/images/blog/sails-ninja-intro.jpg","slug":"sails-ninja-intro"},"using-facebook-authentication-on-a-sails-js-app":{"published":true,"title":"Facebook Authentication With Sails.js and Passport","tags":["sailsjs","facebook","authentication"],"category":"code","date":"4-10-2014","thumbnail":"/images/blog/using-facebook-authentication-on-a-sails-js-app.jpg","slug":"using-facebook-authentication-on-a-sails-js-app"},"unit-testing-sails-js-applications-with-mocha":{"published":true,"title":"Unit Testing Sails.js Applications With Mocha","tags":["sailsjs","testing","mocha"],"category":"code","date":"4-04-2014","thumbnail":"/images/blog/unit-testing-sails-js-applications-with-mocha.jpg","slug":"unit-testing-sails-js-applications-with-mocha"},"deploying-harp-builds-to-github-pages":{"published":true,"title":"Deploying Harp.js Builds To Github Pages","tags":["html","node","terminal"],"category":"code","date":"3-25-2014","thumbnail":"/images/blog/deploying-harp-builds-to-github-pages.jpg","slug":"deploying-harp-builds-to-github-pages","yield":"<p>About a month ago, I switched from running my blog using Poet.js on Nodejitsu to using Harp.js to compile it as a static site. There are several benefits to taking this approach. First of all, I can host the site using any server environment. When I build it, all that I have are HTML, CSS and JavaScript files and they can be hosted with Node, Apache, IIS or any other server. Another benefit is that there are several places where I can host my blog for free.</p>\n<p>I ended up choosing to go with Github pages because this is a web development blog and I thought it was well-suited for their platform. This is how I got it working.</p>\n<!-- more -->\n<p>First of all, it should be noted, that Github pages have to be served from the root of your project. For example, your domainname.com would serve up <code>./index.html</code>. So, to begin with, I put all of my templates, css, javascript and markdown files in a subfolder named &quot;_harp&quot;.</p>\n<h3>Serving Harp Locally</h3><p>Next, I opened my <code>.profile</code> file in the terminal and created an alias to start up the server without needing to manually navigate into the _harp directory:</p>\n<pre><code class=\"language-bash\">alias tyson_run=&#39;cd ~/Sites/apps/tysoncadenhead.com; harp server;&#39;;\n</code></pre>\n<p>With that done, I just needed to call <code>tyson_run</code> and a server would be spawned at port :9000 with my blog. I know this part isn&#39;t really related to serving the site on Github Pages, but it is important to have a local testing environment.</p>\n<h3>Setting Up Github Pages</h3><p>Github has a ton of documentation about <a href=\"http://pages.github.com/\">how to set up and run Github pages</a>, so I won&#39;t attempt to rewrite what&#39;s already been written.</p>\n<p>I will say that you need to remember to create a branch in your repository called <code>gh-pages</code> to push your blog to. Github will be looking for that branch to serve from.</p>\n<h3>Building and Deploying</h3><p>I found myself repeating several steps every time I wanted to deploy my blog. First of all, I noticed that when I compiled my code, the static assets such as images, javascript files and the CNAME file, which is important for telling Github to use a custom domain were all missing. It was easy enough to copy them up a directory in the terminal, but it was needlessly tedious.</p>\n<p>I also found that with me being the only person with push access to my repo, I was never going to need to manage merge conflicts, so adding the files, committing them and pushing was needlessly verbose.</p>\n<p>Because of all that, I ended up writing a function in my <code>.profile</code> file that compiles harp, copies the static assets that harp misses, adds the files to the git branch, commits the files with whatever message I pass in as an argument and pushes the code.</p>\n<pre><code class=\"language-bash\">function tyson_deploy () {\n        cd ~/Sites/apps/tysoncadenhead.com;\n        harp compile _harp ./;\n        cp -r _harp/images images;\n        cp -r _harp/js js;\n        cp _harp/CNAME CNAME;\n        git add .;\n        git add -u;\n        git commit -m &quot;$1&quot;;\n        git push origin gh-pages;\n}\n</code></pre>\n<p>Now, I just need to run <code>tyson_deploy</code> and my code is pushed to the gh-pages branch. Any code in that branch is automatically served by Github, which means that after I push, my code is deployed.</p>\n<p>I have been really happy with harp as a solution. There are a few features I&#39;d love to see integrated, such as static paging but in the meantime, it works really well for my needs.</p>\n<p>Now, excuse me while I type &quot;tyson_deploy&quot; into my terminal...</p>\n"},"squash-stretch-and-bounce-with-css3-animations":{"published":true,"title":"Squash, Stretch and Bounce With CSS3 Animations","tags":["css"],"category":"code","date":"3-19-2014","thumbnail":"/images/blog/squash-stretch-and-bounce-with-css3-animations.jpg","slug":"squash-stretch-and-bounce-with-css3-animations"},"how-to-abstract-pub-sub-in-your-application":{"published":true,"title":"How To Abstract Pub / Sub Methods In Your Application","tags":["javascript","pubsub"],"category":"code","date":"3-18-2014","thumbnail":"/images/blog/how-to-abstract-pub-sub-in-your-application.jpg","slug":"how-to-abstract-pub-sub-in-your-application"},"exporting-canvas-animation-to-mov":{"published":true,"title":"Exporting Three JS Canvas Animations To MOV or MP4 Format With Socket.io","tags":["node","javascript","animation"],"category":"code","date":"3-17-2014","thumbnail":"/images/blog/exporting-canvas-animation-to-mov.jpg","slug":"exporting-canvas-animation-to-mov","yield":"<p>I have been a huge animation enthusiast since high-school. I even went to college hoping to become a professional computer animator before I got sucked into the wild world of computer programming. I have recently been dabbling with <a href=\"http://threejs.org/\">Three JS</a>, which is a JavaScript engine for creating 3D models and animations for the browser.</p>\n<p>Of course, my interests go beyond just making games and website animations. I like that the engine is written in JavaScript and that it uses web technologies like the canvas and WebGL to render the models. To that end, I have been exploring ways to export animations I make with Three JS to an external video file that I could use to stitch together actual films just like any application-based 3D animation software like Maya, Blender or Lightwave. I know it&#39;s crazy, but I think this might actually work.</p>\n<!-- more -->\n<p>So let&#39;s take the example that Three JS gives us for <a href=\"http://threejs.org/docs/index.html#Manual/Introduction/Creating_a_scene\">creating our first scene</a>. The markup looks something like this:</p>\n<pre><code class=\"language-js\">&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My first Three.js app&lt;/title&gt;\n        &lt;style&gt;canvas { width: 100%; height: 100% }&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script src=&quot;https://rawgithub.com/mrdoob/three.js/master/build/three.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            var scene = new THREE.Scene();\n            var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);\n\n            var renderer = new THREE.WebGLRenderer();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            document.body.appendChild(renderer.domElement);\n\n            var geometry = new THREE.CubeGeometry(1,1,1);\n            var material = new THREE.MeshBasicMaterial({color: 0x00ff00});\n            var cube = new THREE.Mesh(geometry, material);\n            scene.add(cube);\n\n            camera.position.z = 5;\n\n            var render = function () {\n                requestAnimationFrame(render);\n\n                cube.rotation.x += 0.1;\n                cube.rotation.y += 0.1;\n\n                renderer.render(scene, camera);\n\n            };\n\n            render();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now, if we want to export something in the canvas, we can use the <code>toDataURL()</code> method on the canvas like this:</p>\n<pre><code class=\"language-js\">document.querySelector(&#39;canvas&#39;).toDataURL();\n</code></pre>\n<p>If you run that command in your console, you will get a link to the current frame you are on. It should be noted that the toDataURL() method is not particularly fast. But when has rendering animations ever been fast?</p>\n<p>So, if we want to capture all of the frames for a given length of animation, we should be able to use toDataURL() to output each of those URLs.</p>\n<p>Three JS runs all of the rendering through the render function, so we can output our images there:</p>\n<pre><code class=\"language-js\">var render = function () {\n    requestAnimationFrame(render);\n\n    cube.rotation.x += 0.1;\n    cube.rotation.y += 0.1;\n\n    renderer.render(scene, camera);\n\n    if (cube.rotation.x &lt; 3) {\n        console.log(document.querySelector(&#39;canvas&#39;).toDataURL());\n    }\n\n};\n</code></pre>\n<p>Notice that I put a conditional around the output to just give us the first 30 frames. We could do more, but the point is that you don&#39;t want to keep it spitting out frames forever if you want to keep your browser alive. If your animation isn&#39;t infinite like this example, it should be easier to figure out how many frames you need to export.</p>\n<p>Okay, so now we are exporting frames, but let&#39;s be honest, that can get tedious really fast. What if we could send the frames over websockets and have our server automatically save the png files to our hard drive in order?</p>\n<p>Our server should look something like this:</p>\n<pre><code class=\"language-js\">var app = require(&#39;express&#39;)(),\n    server = require(&#39;http&#39;).createServer(app),\n    io = require(&#39;socket.io&#39;).listen(server),\n    fs = require(&#39;fs&#39;);\n\nserver.listen(3000);\n\napp.get(&#39;/&#39;, function (req, res) {\n    res.sendfile(__dirname + &#39;/index.html&#39;);\n});\n\nio.sockets.on(&#39;connection&#39;, function (socket) {\n    socket.on(&#39;render-frame&#39;, function (data) {\n        data.file = data.file.split(&#39;,&#39;)[1]; // Get rid of the data:image/png;base64 at the beginning of the file data\n        var buffer = new Buffer(data.file, &#39;base64&#39;);\n        fs.writeFile(__dirname + &#39;/tmp/frame-&#39; + data.frame + &#39;.png&#39;, buffer.toString(&#39;binary&#39;), &#39;binary&#39;);\n    });\n});\n</code></pre>\n<p>As you can see, we have created a socket.io event called &quot;render-frame&quot; that takes an object with the file and the frame number and it creates an image in the <code>/tmp</code> directory with the frame number as part of the name and the meta-data from the file as the content of the image. We&#39;ll also need to update the client-side code to this:</p>\n<pre><code class=\"language-js\">&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My first Three.js app&lt;/title&gt;\n        &lt;style&gt;canvas { width: 100%; height: 100% }&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script src=&quot;https://rawgithub.com/mrdoob/three.js/master/build/three.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            var socket = io.connect(&#39;http://localhost:3000&#39;);\n            var frame = 0;\n            var scene = new THREE.Scene();\n            var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);\n\n            var renderer = new THREE.WebGLRenderer();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            document.body.appendChild(renderer.domElement);\n\n            var geometry = new THREE.CubeGeometry(1,1,1);\n            var material = new THREE.MeshBasicMaterial({color: 0x00ff00});\n            var cube = new THREE.Mesh(geometry, material);\n            scene.add(cube);\n\n            camera.position.z = 5;\n\n            var render = function () {\n                requestAnimationFrame(render);\n\n                cube.rotation.x += 0.1;\n                cube.rotation.y += 0.1;\n\n                renderer.render(scene, camera);\n\n                if (cube.rotation.x &lt; 3) {\n                    socket.emit(&#39;render-frame&#39;, {\n                        frame: frame++,\n                        file: document.querySelector(&#39;canvas&#39;).toDataURL()\n                    });\n                }\n\n            };\n\n            render();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Where we are basically just setting up the websocket and emitting the &quot;render-frame&quot; event instead of logging it and letting the server handle the heavy lifting.</p>\n<p>At this point, we&#39;ve gotten as far as outputting the images, but there is still no video. However, if you have ffmpeg, you should be able to run:</p>\n<pre><code class=\"language-bash\">ffmpeg -r 60 -i /tmp/frame-%04d.png -vcodec libx264 -vpre lossless_slow -threads 0 output.mp4\n</code></pre>\n<p>Which will output the video using the frames we&#39;ve outputted.</p>\n<p>As you can see, even if there isn&#39;t an out of the box solution to export Three JS videos from the browser, it&#39;s really not that hard. It is totally possible to make animations with JavaScript that you could put on YouTube and premier at your next nearby film festival.</p>\n"},"javascript-life-ko-ninja-example-app":{"published":true,"title":"Ko.Ninja Example App - JavaScript Life","tags":["knockout","javascript","ko.ninja"],"category":"code","date":"3-14-2014","thumbnail":"/images/blog/javascript-life-ko-ninja-example-app.jpg","slug":"javascript-life-ko-ninja-example-app"},"the-correct-way-to-use-jquery-with-knockout-js":{"published":true,"title":"The Correct Way To Use JQuery With Knockout","tags":["knockout","jquery","javascript"],"category":"code","date":"3-12-2014","thumbnail":"/images/blog/the-correct-way-to-use-jquery-with-knockout-js.jpg"},"the-business-case-for-having-an-all-remote-organization":{"published":true,"title":"The Business Case For Having An All-Remote Organization","tags":["remote"],"category":"productivity","date":"3-7-2014","thumbnail":"/images/blog/the-business-case-for-having-an-all-remote-organization.jpg","slug":"the-business-case-for-having-an-all-remote-organization"},"how-to-organize-a-meteor-app":{"published":true,"title":"How To Organize A Meteor App","tags":["meteor"],"category":"code","date":"3-6-2014","thumbnail":"/images/blog/how-to-organize-a-meteor-app.jpg","slug":"how-to-organize-a-meteor-app"},"there-is-more-than-one-way-to-loop-a-cat":{"published":true,"title":"There Is More Than One Way To Loop Over A Cat","tags":["looping","underscore","jquery"],"category":"code","date":"2-22-2014","thumbnail":"/images/blog/there-is-more-than-one-way-to-loop-a-cat.jpg","slug":"there-is-more-than-one-way-to-loop-a-cat"},"dependency-injection-with-squire-and-sinon":{"published":true,"title":"Dependency Injection With Squire and Sinon","tags":["testing","squire"],"category":"code","date":"2-7-2014","thumbnail":"/images/blog/dependency-injection-with-squire-and-sinon.jpg","slug":"dependency-injection-with-squire-and-sinon","yield":"<p>Unit testing in JavaScript can be difficult sometimes. Typically, you only want to test the behavior of a single module, but if you are using an AMD loader like RequireJS, you may be pulling in several other libraries and modules just to test a single module. The point of the unit test is to test an individual unit, not to test how it works with other dependencies.</p>\n<p>If only there was a way to trick the test runner into thinking that the other modules were loaded by providing simplified stubs of the methods they actually performed! Good news, that is totally possible using <a href=\"https://github.com/iammerrick/Squire.js/\">Squire</a>. Don&#39;t run away when you see the creepy looking mascot on the GitHub page, Squire is totally worth your time.</p>\n<!-- more -->\n<p>If you have used Angular, you are familiar with how dependency injection can work in JavaScript. Squire has extended this ability to work with any AMD module. The basic idea is that the module says that it needs &quot;x dependency&quot;, but Squire steps in and says &quot;well, actually I&#39;m going to give you y dependency instead, but you can still go on believing that it is x dependency. Silly you.&quot;</p>\n<p>Let&#39;s say that you have a module that looks like this:</p>\n<pre><code class=\"language-js\">// Person Module\n\ndefine([\n    &#39;underscore&#39;,\n    &#39;friends&#39;\n], function (_, Friends) {\n\n    var Person = function (data) {\n        this.init(data);\n    };\n\n    _.extend(Person.prototype, {\n\n        addFriend: function (data) {\n            this.friends.add(data);\n        },\n\n        getId: function () {\n            return this._id;\n        },\n\n        init: function (data) {\n            this.friends = new Friends(data.id);\n            this.addFriend({ id: 223 });\n        }\n\n    });\n\n    return Person;\n\n});\n</code></pre>\n<p>Obviously, it would have a friends dependency. That might look something like this:</p>\n<pre><code class=\"language-js\">// Friends Module\n\ndefine([\n    &#39;underscore&#39;\n], function () {\n\n    var Friends = function (id) {\n        this.init(id);\n    };\n\n    _.extend(Friends.prototype, {\n\n        add: function (friend) {\n            this._friends.push(friend);\n        },\n\n        init: function (id) {\n            this._friends = [];\n            this._id = id;\n        }\n\n    });\n\n});\n</code></pre>\n<p>Now, lets say we want to test the Person module, but we want to test Friends separately. First lets look at how that might be done without dependency injection:</p>\n<pre><code class=\"language-js\">define([\n    &#39;person&#39;\n], function (Person) {\n\n    describe(&#39;the person module&#39;, function () {\n\n        beforeEach(function () {\n            this.person = new Person({\n                id: 213\n            });\n        });\n\n        describe(&#39;when adding a new friend&#39;, function () {\n            it (&#39;should add the friend to the the person&#39;, function () {\n                assert.equal(this.person.getId(), 213);\n            });\n        });\n\n    });\n\n});\n</code></pre>\n<p>Not too terrible, but we are just requiring one module from the person and there aren&#39;t any weird side effects like there might be in a real-world example.</p>\n<p>To stop actually using the friends module, we can do this:</p>\n<pre><code class=\"language-js\">define([\n    &#39;squire&#39;,\n    &#39;sinon&#39;\n], function (Squire, sinon) {\n\n    var injector = new Squire();\n\n    injector.mock({\n        &#39;friends&#39;: {\n            add: sinon.stub()\n        }\n    });\n\n    injector.require([\n        &#39;person&#39;\n    ], function (Person) {\n\n        describe(&#39;the person module&#39;, function () {\n\n            beforeEach(function () {\n                this.person = new Person({\n                    id: 213\n                });\n            });\n\n            describe(&#39;when adding a new friend&#39;, function () {\n                it (&#39;should add the friend to the the person&#39;, function () {\n                    this.person.addFriend(new Person({\n                        id: 222\n                    }));\n                    assert.equal(this.person.find().length, 1);\n                });\n            });\n\n        });\n\n    });\n\n});\n</code></pre>\n<p>Sure, it is a little more code, but here is what we have gained:</p>\n<ul>\n<li>We are no longer loading the friends dependency, so the test will run faster</li>\n<li>We are testing the person module in isolation</li>\n</ul>\n<p>Not bad, huh?</p>\n<p>Let&#39;s walk through how we did that.</p>\n<p>First of all, we created a new injector by instantiating Squire. </p>\n<p>Next, we gave Squire an object of dependencies that we wanted it to replace by using <code>injector.mock</code>. You might also noticed that we used a library called <a href=\"http://sinonjs.org/\">Sinon</a> to create an empty function that could take the place of friends.add(). If you haven&#39;t used Sinon, you are missing out, it allows you to fake methods and return anything you want from them, which makes it a perfect companion for Squire.</p>\n<p>Last, we required our module using <code>inject.require()</code>. While the API does look exactly like RequireJS, it is passing the call through Squire for dependency injection instead of requiring the dependencies.</p>\n<p>Pretty cool, huh?</p>\n"},"dom-manipulation-is-so-early-2000s":{"published":true,"title":"DOM Manipulation Is So Early 2000s","tags":["jQuery","Knockout"],"category":"code","date":"1-31-2014","thumbnail":"/images/blog/dom-manipulation-is-so-early-2000s.jpg","yield":"<p>I remember when I first started playing with JavaScript in high-school. The first thing I loved about it was that I could change things without the browser even refreshing. It was like I was a magician moving elements around, hiding and showing things, totally in control of what the user could see. All I had to do was directly modify elements in the DOM and they would instantly react. But that was in the late 90s and early 2000s, now I have found reasons for abstracting away DOM interaction. That&#39;s not to say that DOM manipulation shouldn&#39;t happen, it just shouldn&#39;t be the glue that holds your application together.</p>\n<!-- more -->\n<p>Here are a few reasons why:</p>\n<p><img src=\"http://www.memecreator.org/static/images/memes/46827.jpg\" alt=\"\"></p>\n<h3>Changes in the DOM are hard to test</h3><p>Yes, writing unit tests against the DOM is possible, but it is not ideal. A good unit test should basically say &quot;if I put X into method Y, it should do Z.&quot; When you have a bunch of DOM manipulation happening, tests slow down and become more and more difficult to write.</p>\n<p><img src=\"http://s2.quickmeme.com/img/00/00de3fb939ccf2b8c24f77c31cdd19ecff9bc677fac080617c185403bdbd8e93.jpg\" alt=\"\"></p>\n<h3>Scattered logic</h3><p>If you have several places throughout your code that are doing basically the same thing, fixing bugs across browsers can become more of an issue. This is the case even for DOM manipulation that is just a one-liner. If you have a central place in your code to handle this, you can do feature detection as needed to support differing browser implementations.</p>\n<p><img src=\"http://assets.diylol.com/hfs/21c/b1c/a9e/resized/procrastination-panda-meme-generator-should-do-something-about-it-never-mind-cant-do-it-ad6b8f.jpg\" alt=\"\"></p>\n<h3>So, what should I do?</h3><p>One solution is to implement a DOM abstraction layer like jQuery or MooTools. That will handle most of your issues with scattered logic, but your code will still be fairly untestable without actually writing tests against the DOM.</p>\n<p>The good news is that the approach newer frameworks like Knockout, Ember or Angular are taking with data-binding can actually make this an easier task. You simply update the underlying observable data structure and the DOM will be updated automatically to reflect the changes.</p>\n<p>For example, compare these two approaches:</p>\n<pre><code class=\"language-js\">// With Just jQuery:\n$(&#39;#my-id&#39;).css({\n   &#39;color&#39;: &#39;red&#39;,\n   &#39;font-size&#39;: &#39;24px&#39; \n});\n\n// jQuery Test - Using the DOM\nconsole.log($(&#39;#my-id&#39;).css(&#39;color&#39;) === &#39;red&#39;);\n\n// With Knockout:\nvar css = ko.observable({\n    &#39;color&#39;: &#39;red&#39;,\n    &#39;font-size&#39;: &#39;24px&#39;\n});\n\n// Knockout - No DOM Required\nconsole.log(css().color === &#39;red&#39;);\n</code></pre>\n<p>That is much better. You can spin your own abstraction layer to make testing easier or you can take advantage of framework that can handle it for you. Either way, it will make things much easier.</p>\n"},"ko-ninja-socket-io-model":{"published":true,"series":"Ko.Ninja","part":5,"lastPart":true,"title":" Socket.io Models","tags":["knockout","ko.ninja","model","data","socket.io"],"category":"code","date":"1-17-2014","thumbnail":"/images/blog/ninja5.png","slug":"ko-ninja-socket-io-model"},"ko-ninja-http-models":{"published":true,"series":"Ko.Ninja","part":4,"title":"HTTP Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-9-2014","thumbnail":"/images/blog/ninja4.png"},"ko-ninja-model":{"published":true,"series":"Ko.Ninja","part":3,"title":"LocalStorage Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-2-2014","thumbnail":"/images/blog/ninja3.png","slug":"ko-ninja-model"},"ko-ninja-validation":{"published":true,"series":"Ko.Ninja","part":2,"title":"Validation","tags":["knockout","ko.ninja","validation"],"category":"code","date":"12-27-2013","thumbnail":"/images/blog/ninja2.png","slug":"ko-ninja-validation"},"ko-ninja":{"published":true,"series":"Ko.Ninja","part":1,"firstPart":true,"title":"A Framework For Building Awesome Knockout.js Apps","tags":["knockout","ko.ninja"],"category":"code","date":"12-20-2013","thumbnail":"/images/blog/ninja1.png"},"how-to-use-tor-with-chrome":{"published":true,"title":"How To Use Tor With Google Chrome","tags":["Security","Browsers","Tor","Privacy"],"category":"privacy","date":"11-22-2013","thumbnail":"/images/blog/tor.png","slug":"how-to-use-tor-with-chrome"},"authentication-in-meteor":{"published":true,"title":"Authentication in Meteor","tags":["Meteor","Node","Authentication"],"category":"code","date":"11-14-2013","thumbnail":"/images/blog/meteor-authentication.png","yield":"<p>Authentication can be something of a road-blocker in application development. I can&#39;t tell you how many times I&#39;ve had a great idea for an app, but instead of jumping in and writing the core functionality, I try to tackle the authentication layer first. The problem is that once I&#39;ve gotten authentication in place, my excitement for the project has faded because I wasn&#39;t working on the project itself, just trying to set up a login system. Meteor takes the work out of setting up authentication so that you can focus on more important things, like writing the core functionality for your app.</p>\n<!-- more -->\n<p>Meteor has a really robust account and password API, but we won&#39;t cover all of it here. We are just going to focus on getting something in place really fast. The reason for that is because we don&#39;t want to spend a lot of time working on authentication on the front-end, we want to work on core functionality.</p>\n<p>To work with authentication in Meteor, you will need to install the base accounts module.</p>\n<pre><code class=\"language-bash\">meteor add accounts-base\n</code></pre>\n<p>Meteor also has a pre-built user interface for accounts. If you want to go back later and make the UI different, you can, but for us to take a &quot;failing forward&quot; approach to development, it makes sense to just use the default UI and then go back and refactor it as needed. Let&#39;s install the accounts user interface package.</p>\n<pre><code class=\"language-bash\">meteor add accounts-ui\n</code></pre>\n<p>Next, we will need to install one of the authentication systems. Meteor comes packed with authentication through Facebook, Google, Github, Meetup, Twitter, Weibo and with a username and password. There are also third-party authentication types that were not written by the Meteor team.</p>\n<p>We will start out with just the basic username and password.</p>\n<pre><code class=\"language-bash\">meteor add accounts-password\n</code></pre>\n<p>Now if you start up your site by running <code>meteor</code>, you&#39;ll notice that nothing has changed. It should still look something like this:</p>\n<p><img src=\"/images/blog/meteorauth.png\" alt=\"\"></p>\n<p>In order to see your login UI, you will need to add it to your template. That is as easy as adding <code>{{loginButtons}}</code> anywhere in your template. If you want the buttons to go on the right side of the screen, you can pass that in an argument like this:</p>\n<pre><code class=\"language-html4strict\">{{loginButtons align=&quot;right&quot;}}\n</code></pre>\n<p>Either way, though, the login buttons should be rendered:</p>\n<p><img src=\"/images/blog/meteorauth2.png\" alt=\"\"></p>\n<p>When you click on the new &quot;sign in&quot; button, you should get something like this:</p>\n<p><img src=\"/images/blog/meteorauth3.png\" alt=\"\"></p>\n<p>You now have authentication on your app!</p>\n<p>The templates also have a <code>{{currentUser}}</code> that you can use to determine if the user has authenticated or not. For example, if you want to display a navigation only if the user is logged in, that might look like this:</p>\n<pre><code class=\"language-html4strict\">&lt;ul&gt;\n{{#if currentUser}}\n    &lt;li&gt;&lt;a href=&quot;/account&quot;&gt;My Account&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;/preferences&quot;&gt;My Preferences&lt;/a&gt;&lt;/li&gt;\n{{/if}}\n&lt;/ul&gt;\n</code></pre>\n<p>When a user is logged in, your client-side JavaScript has access to a <code>Meteor.userId()</code> which is just a string representing the ID of the authenticated user. You also have access to a <code>Meteor.user()</code>, which will return an object with the user information. Depending on what authentication type you use, the content of the user object my vary. Both of those are available from the console, so you can log them at any time.</p>\n<p>Each user object also has a profile that you can add your own data to. For example, if you wanted to add some data to the current user, you could do something like this:</p>\n<pre><code class=\"language-js\">Meteor.users.update(Meteor.userId(), {\n    $set: {\n        profile: {\n            firstName: &#39;Linus&#39;,\n            lastName: &#39;Cadenhead&#39;,\n            favoriteColor: &#39;green&#39;,\n            ...\n        }\n    }\n}, function () {\n    alert(&#39;user was saved&#39;);\n});\n</code></pre>\n<p>If you want to listen for an event to tell you when a user logs in or out, <code>Meteor.autorun</code> is your friend. This snippet will redirect the user when they log in or out:</p>\n<pre><code class=\"language-js\">// Keep the current user logged in state\nvar loggedIn = !!Meteor.userId();\n\n// This is fired whenever the user logs in or out\nMeteor.autorun(function () {\n\n    // If the user logs in, redirect them to the profile\n    if (Meteor.userId() &amp;&amp; !loggedIn) {\n        document.location = &#39;/profile&#39;;\n\n    // If the user logs out, redirect them to the home page\n    } else if (!Meteor.userId() &amp;&amp; loggedIn) {\n        document.location = &#39;/&#39;;\n    }\n\n    // Set the current loggedIn status based on whether the userId is available or not\n    loggedIn = !!Meteor.userId();\n\n});\n</code></pre>\n<p>If you want to add another authentication method, just install it with Meteor. The user interface itself will walk you through the necessary steps to get things set up.</p>\n<p>As you can see, authentication with Meteor is really quick and easy. In just a few minutes, you should be all set up and ready to work on the parts of your application that you care about. Yet another way that Meteor makes wasting time on tedious tasks a thing of the past!</p>\n"},"why-you-should-teach-your-kids-to-write-code":{"published":true,"title":"Why You Should Teach Your Kids How to Write Code","tags":["Rant","Kids"],"category":"code","date":"11-08-2013","thumbnail":"/images/blog/duck.jpg","slug":"why-you-should-teach-your-kids-to-write-code"},"javascript-copy-and-paste-events":{"published":true,"title":"The JavaScript Copy and Paste Events","tags":["JavaScript"],"category":"code","date":"10-31-2013","thumbnail":"/images/blog/clippy.jpg","slug":"javascript-copy-and-paste-events"},"getting-started-with-socket-io":{"published":true,"title":"Getting Started with Socket.io","tags":["node","socketio","javascript"],"category":"code","date":"10-25-2013","thumbnail":"/images/blog/socket-io.jpg","slug":"getting-started-with-socket-io","yield":"<p>In the old days, if you wanted to get up-to-date data from the sever, you would need to set an interval on the client-side and continuously make Ajax calls to see if new data was available. The problem is that the data was never exactly real time. It was just what had been fetched every fifteen seconds or so. If you pinged the server too often, you would create needless overhead and there may or may not even be new data for the client to consume. The problems with this sort of approach are obvious.</p>\n<!-- more -->\n<p>The answer to the old data pinging method is Socket.io. With Socket.io, the client and the server are able to communicate in real   time by sending messages back and forth. Because of its real-time nature, Socket.io has some awesome implications for chat, instant collaboration and game development. In fact, anything that could benefit from being real time would do itself a service to be using Socket.io.</p>\n<h3>So how can you get started using Socket.io?</h3><p>First of all, you&#39;ll need to have <a href=\"http://nodejs.org\">NodeJS</a> installed. Once you have Node, you can install Socket.io with npm.</p>\n<pre><code class=\"language-bash\">npm install socket.io\n</code></pre>\n<p>For the sake of setting up a server quickly, we&#39;ll also install Express. You can obviously run Socket.io on a server you create yourself, but Express makes it much easier.</p>\n<pre><code class=\"language-bash\">npm install express\n</code></pre>\n<h3>server.js</h3><p>Since Socket.io uses the server-side and the client-side to communicate, you will need to set it up on both sides. The <code>server.js</code> file might look something like this:</p>\n<pre><code class=\"language-javascript\">\nvar express = require(&#39;express&#39;),\n      app = express(),\n      server = require(&#39;http&#39;).createServer(app),\n      io = require(&#39;socket.io&#39;).listen(server),\n      messages = [],\n      sockets = [];\n\napp.use( express.static(__dirname + &#39;/public&#39;));\n\nserver.listen(4000);\n</code></pre>\n<p>If you&#39;re not familiar with Express applications, all we&#39;ve done so far is set up the express server to serve up static files from the /public directory. We&#39;ve also imported Socket.io and created an array to hold the messages we&#39;ll get from the client-side and another array to hold the socket connections we make.</p>\n<p>Now, let&#39;s set up the server-side socket.io listeners.</p>\n<pre><code class=\"language-javascript\">\nio.sockets.on(&#39;connection&#39;, function (socket) {\n\n  sockets.push(socket);\n\n  socket.emit(&#39;messages-available&#39;, messages);\n\n});\n</code></pre>\n<p>Every time a client-side connection is made, the &quot;connection&quot; event is fired. The socket that has been connected is passed in as the first argument of the callback. We&#39;ll store a reference to the new socket in the array of sockets we have already set up. Then we will use <code>socket.emit</code> to emit a message to the client-side with an array of all of the messages that are currently available. Of course, it will initially be an empty array, so we will switch over to the client-side so we can start actually saving messages to the server.</p>\n<p>If you save your file as <code>server.js</code> and run <code>node server</code>, you should be able to access it by going to <a href=\"http://localhost:4000\">http://localhost:4000</a>. Nothing will be there yet because you need to put an index.html file in your public directory.</p>\n<h3>/public/index.html</h3><pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Socket.io Messages&lt;/title&gt;\n    &lt;link href=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt;\n  &lt;/head&gt;\n&lt;body&gt;\n\n  &lt;!-- The form --&gt;\n  &lt;form id=&quot;create-message&quot; class=&quot;well row&quot;&gt;\n    &lt;fieldset class=&quot;col-lg-8 col-offset-2&quot;&gt;\n      &lt;legend&gt;Socket.io Messages&lt;/legend&gt;\n      &lt;input type=&quot;text&quot; placeholder=&quot;Name&quot; id=&quot;name&quot; name=&quot;name&quot; class=&quot;col-lg-12&quot; /&gt;\n      &lt;textarea placeholder=&quot;Message&quot; id=&quot;message&quot; name=&quot;message&quot; class=&quot;col-lg-12&quot;&gt;&lt;/textarea&gt;\n      &lt;input type=&quot;submit&quot; value=&quot;Create Message&quot; class=&quot;btn btn-default col-lg-12&quot; /&gt;\n    &lt;/fieldset&gt;\n  &lt;/form&gt;\n\n&lt;!-- The Messages --&gt;\n&lt;div class=&quot;col-lg-8 col-offset-2 row&quot;&gt;\n  &lt;ul id=&quot;messages&quot; class=&quot;list-group&quot;&gt;\n    &lt;!-- Messages go here --&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;!-- Third Party Dependencies --&gt;\n&lt;script src=&quot;http://code.jquery.com/jquery-1.10.1.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;!-- Socket.io --&gt;\n&lt;script src=&quot;/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\n\n&lt;!-- Our app.js file --&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;/js/app.js&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The main thing to note here is that the <code>/socket.io/socket.io.js</code> file was automatically generated when you installed socket.io into your application. There is no /public/socket.io directory and there doesn&#39;t need to be one. Don&#39;t worry about it; it&#39;s automagic.</p>\n<h3>/public/js/app.js</h3><p>Next, let&#39;s jump into the <code>/public/js/app.js</code> file that we are including at the bottom of the page. That&#39;s where we&#39;ll get our client-side and server-side talking.</p>\n<p>We&#39;ll start out by connecting to the socket. Since we set the socket to run on port 4000 in our <code>server.js</code> file, we&#39;ll pass the string <a href=\"http://localhost:4000\">http://localhost:4000</a> into io.connect.</p>\n<pre><code class=\"language-javascript\">var socket = io.connect(&#39;http://localhost:4000&#39;);\n</code></pre>\n<p>Everytime that the server tells us that there is a new message, we&#39;ll need to add it to the DOM. We&#39;ll just create a reusable function to use jQuery to prepend the newest message at the top of the messages list.</p>\n<pre><code class=\"language-javascript\">function addMessage (data) {\n  $(&#39;#messages&#39;).prepend(&#39;&lt;li class=&quot;list-group-item&quot;&gt;&#39; +\n    &#39;&lt;h4 class=&quot;list-group-item-heading&quot;&gt;&#39; + data.name + &#39;&lt;/h4&gt;&#39; +\n    &#39;&lt;p class=&quot;list-group-item-text&quot;&gt;&#39; + data.message + &#39;&lt;/p&gt;&#39; +\n  &#39;&lt;/li&gt;&#39;);\n};\n</code></pre>\n<p>Now, we can create a listener to render all the messages that are already in the messages array on the server-side when the page is rendered. Remember, we are already emitting a &quot;messages-available&quot; event in <code>server.js</code> when the page is loaded. This will make use of that event.</p>\n<pre><code class=\"language-javascript\">// This will be fired\nsocket.on(&#39;messages-available&#39;, function (data) {\n  for (var i = 0; i &lt; data.length; i++) {\n    addMessage(data[i]);\n  }\n});\n</code></pre>\n<p>We will also add a listener for each time an individual message is added. We will write the server-side portion of this in just a moment.</p>\n<pre><code class=\"language-javascript\">// This listens for any individual messages coming back from the server\nsocket.on(&#39;message-added&#39;, addMessage);\n</code></pre>\n<p>Last of all, we will need to send the form data to the server whenever someone submits it. We&#39;ll just attach a jQuery submit event to the form and emit an &quot;add-message&quot; event to the server-side. We&#39;ll pass in the data as the second argument of the socket.emit method.</p>\n<pre><code class=\"language-javascript\">// When someone clicks the &quot;Create Message&quot; button, we&#39;ll emit the data to the server\n$(&#39;#create-message&#39;).submit(function (e) {\n\n  // Don&#39;t let the form actually post to the server\n  e.preventDefault();\n\n  // Send the &quot;add-message&quot; message to the server with our values\n  socket.emit(&#39;add-message&#39;, {\n    name: $(&#39;input[name=&quot;name&quot;]&#39;).val(),\n    message: $(&#39;textarea[name=&quot;message&quot;]&#39;).val()\n  });\n\n  // Clear out the message value\n  $(&#39;textarea[name=&quot;message&quot;]&#39;).val(&#39;&#39;);\n\n});\n</code></pre>\n<p>You might notice that Socket.io looks the same on the client-side and the server-side. Both places use the socket.on and socket.emit methods.</p>\n<p>At this point, our <code>public/js/app.js</code> file is done. It should look like this:</p>\n<pre><code class=\"language-javascript\">var socket = io.connect(&#39;http://localhost:4000&#39;);\n\nfunction addMessage (data) {\n$(&#39;#messages&#39;).prepend(&#39;&lt;li class=&quot;list-group-item&quot;&gt;&#39; +\n    &#39;&lt;h4 class=&quot;list-group-item-heading&quot;&gt;&#39; + data.name + &#39;&lt;/h4&gt;&#39; +\n    &#39;&lt;p class=&quot;list-group-item-text&quot;&gt;&#39; + data.message + &#39;&lt;/p&gt;&#39; +\n  &#39;&lt;/li&gt;&#39;);\n};\n\n// This will be fired\nsocket.on(&#39;messages-available&#39;, function (data) {\n  for (var i = 0; i &lt; data.length; i++) {\n    addMessage(data[i]);\n  }\n});\n\n// This listens for any individual messages coming back from the server\nsocket.on(&#39;message-added&#39;, addMessage);\n\n// When someone clicks the &quot;Create Message&quot; button, we&#39;ll emit the data to the server\n$(&#39;#create-message&#39;).submit(function (e) {\n\n  // Don&#39;t let the form actually post to the server\n  e.preventDefault();\n\n  // Send the &quot;add-message&quot; message to the server with our values\n  socket.emit(&#39;add-message&#39;, {\n    name: $(&#39;input[name=&quot;name&quot;]&#39;).val(),\n    message: $(&#39;textarea[name=&quot;message&quot;]&#39;).val()\n  });\n\n  // Clear out the message value\n  $(&#39;textarea[name=&quot;message&quot;]&#39;).val(&#39;&#39;);\n\n});\n</code></pre>\n<p>Now, we&#39;ll revisit our <code>server.js</code> file.We&#39;ll add a listener for the &quot;add-message&quot; event. When the message is added, we&#39;ll push it into the messages array and emit an event with the data.</p>\n<pre><code class=\"language-javascript\">socket.on(&#39;add-message&#39;, function (data) {\n  messages.push(data);\n  sockets.forEach(function (socket) {\n    socket.emit(&#39;message-added&#39;, data);\n  });\n});\n</code></pre>\n<p>Notice that we are looping over all of the sockets in our array. The reason for this is that each time a socket is connected, we only get a reference to that individual socket. If we want everyone to get the messages, we will need to emit our events to every socket that is available.</p>\n<p>Now that we&#39;ve got that in place, the <code>server.js</code> file should look like this:</p>\n<pre><code class=\"language-javascript\">var express = require(&#39;express&#39;),\n      app = express(),\n      server = require(&#39;http&#39;).createServer(app),\n      io = require(&#39;socket.io&#39;).listen(server),\n      messages = [],\n      sockets = [];\n\napp.use( express.static(__dirname + &#39;/public&#39;));\n\nserver.listen(4000);\n\nio.sockets.on(&#39;connection&#39;, function (socket) {\n\n  sockets.push(socket);\n\n  socket.emit(&#39;messages-available&#39;, messages);\n\n    socket.on(&#39;add-message&#39;, function (data) {\n      messages.push(data);\n      sockets.forEach(function (socket) {\n        socket.emit(&#39;message-added&#39;, data);\n      });\n   });\n});\n</code></pre>\n<p>As you can tell, there is really not much to it. Obviously, we aren&#39;t saving the data to a database. That means that if you stop running your server and restart it, the arrays of messages and sockets will actually be empty again. In a production scenario, you would probably be saving your data off to a database as the server receives it.</p>\n<p>Now that all of our code is written, we can start the server up and give it a try.</p>\n<pre><code class=\"language-bash\">\nnode server\n</code></pre>\n<p>Now, when you go to <code>localhost:4000</code> in your browser, you should see something like this:</p>\n<p><img src=\"http://content.screencast.com/users/tysoncadenhead/folders/Jing/media/211b507d-7fea-4eb3-8a15-9d332204f540/00000010.png\" alt=\"\"></p>\n<p>The best way to see this in action is to open the page in two separate browsers at the same time and start chatting with yourself. As soon as you post something, it will show up in both browsers immediately.</p>\n<p><img src=\"http://content.screencast.com/users/tysoncadenhead/folders/Jing/media/158fd662-eb89-4892-8dee-59a9988af35a/00000009.png\" alt=\"\"></p>\n<p>Amazing, right?</p>\n<p>There are definitely things that Socket.io can be used for beyond just chat. For example, I used it in a project recently to send status messages to the client while files were being uploaded.</p>\n<p>Of course, one of the more interesting applications of this technology is the ability it provides for collaboration in real time. We now have the ability to write applications that give people the power to interact with content seamlessly. Socket.io has the ability to bring people together in a way that no other coding technology ever has. And at the end of the day, isn&#39;t bringing people together what good technology is all about?</p>\n<p><a href=\"https://github.com/tysoncadenhead/socket.io-chat-demo\">Download the full demo on GitHub</a></p>\n"},"working-with-meteor-data":{"published":true,"title":"Working with Meteor Data","tags":["Meteor","Node","JavaScript","Data"],"category":"code","date":"10-10-2013","thumbnail":"/images/blog/meteor-data.png","slug":"working-with-meteor-data"},"why-is-test-driven-development-so-hard":{"published":true,"title":"Why is Test-Driven Development So Hard?","tags":["TDD","Test Driven Development","Unit Testing"],"category":"code","date":"10-4-2013","thumbnail":"/images/blog/tdd.png"},"getting-started-with-meteor":{"published":true,"title":"Getting Started with Meteor","tags":["Meteor","Node","JavaScript"],"category":"code","date":"9-26-2013","thumbnail":"/images/blog/meteor.png","slug":"getting-started-with-meteor","yield":"<p>When it comes to building applications quickly that share a ton of code between the client-side and server-side and that excel at real-time communication, there is nothing more awesome than Meteor. Meteor aims to remove all of the busywork from creating single-page applications, and it does a heck of a job at it.</p>\n<!-- more -->\n<p>The cool thing about Meteor is that it lets you share your server-side and client-side code and it makes synchronizing data a snap. Meteor has a client-side database that it syncs with the server-side database behind the scenes, which lets you actually interface with the server-side database from the client.</p>\n<p>To download Meteor and get started using it, you can simply run:</p>\n<pre><code class=\"language-bash\">curl https://install.meteor.com | /bin/sh\n</code></pre>\n<p>That will install Meteor on your local machine and you&#39;ll be ready to get into the actual app building. Meteor comes with a bit of built in scaffolding, so you can actually just run:</p>\n<pre><code class=\"language-bash\">meteor create myAppName\ncd myAppName\nmeteor\n</code></pre>\n<p>and you&#39;ll have created an application and started the server to actually see it. By default, meteor is setup to run on port 3000, so if you navigate to <a href=\"http://localhost:3000\">http://localhost:3000</a>, you will see a page that looks something like this:</p>\n<p><img src=\"/images/blog/meteor1.png\" alt=\"Meteor Hello World\"></p>\n<p>You&#39;ll probably notice that tempting little button on the page. Go ahead and open your console and click it. You should get a message telling you that you clicked the button.</p>\n<p><img src=\"/images/blog/meteor2.png\" alt=\"Meteor Hello World Button Click\"></p>\n<p>So what is actually happening here? If you go into the <code>myAppName</code> directory you created, you should see three files. There is a <code>myAppName.css</code>, which is actually empty when you create a new app, <code>myAppName.html</code>, which is the templates for your application and finally, the <code>myAppName.js</code> which is where both the client-side and server-side JavaScript currently live.</p>\n<p>First, let&#39;s look at the <code>myAppName.html</code> file.</p>\n<pre><code class=\"language-html\">&lt;head&gt;\n  &lt;title&gt;myAppName&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  {{&gt; hello}}\n&lt;/body&gt;\n\n&lt;template name=&quot;hello&quot;&gt;\n  &lt;h1&gt;Hello World!&lt;/h1&gt;\n  {{greeting}}\n  &lt;input type=&quot;button&quot; value=&quot;Click&quot; /&gt;\n&lt;/template&gt;\n</code></pre>\n<p>As you can see, it&#39;s a pretty standard handlebars template. You might be surprised if you go to the page and look at the source, though. Everything inside the <code>&lt;template /&gt;</code> tag will be missing. The reason is that Meteor automatically parses all of the html files in your project and pulls out all of the templates and stuffs them into a single concatenated JavaScript file. This means that you can actually put as many html files as you need anywhere in your project and they will be available for the JavaScript api to access quickly on the client-side.</p>\n<p>Now, let&#39;s look at the <code>myAppName.js</code>.</p>\n<pre><code class=\"language-javascript\">if (Meteor.isClient) {\n  Template.hello.greeting = function () {\n    return &quot;Welcome to myAppName.&quot;;\n  };\n\n  Template.hello.events({\n    &#39;click input&#39; : function () {\n      // template data, if any, is available in &#39;this&#39;\n      if (typeof console !== &#39;undefined&#39;)\n        console.log(&quot;You pressed the button&quot;);\n    }\n  });\n}\n\nif (Meteor.isServer) {\n  Meteor.startup(function () {\n    // code to run on server at startup\n  });\n}\n</code></pre>\n<p>You might notice that this single JavaScript file is being used on the client-side and the server-side. Meteor has both a <code>Meteor.isClient</code> and a <code>Meteor.isServer</code> boolean that you can check to see if you are running the code in the browser or on the server. Alternatively, if you put code in a directory called &quot;client&quot;, it will only be available in the browser. Code inside of a directory named &quot;server&quot; will only be available to the server-side. Any files in any other folders will be available in both the client-side and the server-side.</p>\n<p>The code inside of the <code>Meteor.isServer</code> conditional actually isn&#39;t doing anything. However, it does show that there is a <code>Meteor.startup</code> method. It&#39;s worth noting that the client-side has the same method, but it acts like the jQuery <code>document.ready</code> function - it just fires when the DOM is finished loading.</p>\n<p>Another thing to note is the Template object. Every template automatically gets an object named after it that is namespaced under Template. For example, since we have a template in our html file called hello, there is a <code>Template.hello</code> object. We can access any events that happen inside the hello template using <code>Templated.hello.events</code>. The events object expects the names to be structured as an event followed by the selector associated with the event.</p>\n<p>We can also add any parameters that we want to pass into our template on the <code>Template.hello</code> object. For example, there is a greeting defined in our JavaScript file that will be rendered in our &quot;hello&quot; template.</p>\n<p>That is the basic setup for Meteor. In my blog post next week, I&#39;ll show you how you can deal with data in Meteor.</p>\n"},"creating-sprites-with-compass":{"published":true,"title":"Creating Sprites with Compass","tags":["Compass","SASS","CSS"],"category":"code","date":"9-20-2013","thumbnail":"/images/blog/sprite.png","yield":"<p>One way to reduce the loading time of your website or application is to merge multiple images together into one large sprite. The benefit is that only one http request has to be made instead of multiple requests. Of course, managing a sprite image and the CSS that uses it can be a pain in the neck. That is where <a href=\"http://compass-style.org/\">Compass</a> comes in. Compass has a really cool helper that lets you import an entire folder of images and that it will automatically sprite for you.</p>\n<!-- more -->\n<p>For some perspective on why Compass is a game changer, we have to look back on what it was like to create a sprite image in vanilla CSS. I remember when I first learned about <a href=\"http://www.w3schools.com/css/css_image_sprites.asp\">how sprites work</a>, I went out and changed a bunch of my sites to use sprites for all of their images and icons. Websites are constantly being tweaked and changed. Unfortunately, maintaining a big image with a bunch of icons turned into huge overhead because every addition meant opening an ever-growing psd file and editing it. If an icon was removed during the development process, I was forced to either remove it in the psd file and re-factor huge chunks of css, or leave it in the image and waste time loading sections of the image that were never even seen. You can see the problem.</p>\n<h2>The Compass Solution</h2><p>Let&#39;s imagine for a moment that you are creating a website of cat pictures. You have a directory of two or three cat pictures that show up on every page of your site. Let&#39;s imagine that your files look like this:</p>\n<p><img src=\"/images/blog/catpictures.png\" alt=\"Cat Pictures\"></p>\n<h2>The easy way</h2><p>If we want to use Compass to create a big sprite and spit out all of the images with appropriate classes, we could simply do this:</p>\n<pre><code class=\"language-css\">@import &quot;cat_pictures/*.png&quot;;\n@include all-cat_pictures-sprites;\n</code></pre>\n<p>That will generate css that looks something like this:</p>\n<pre><code class=\"language-css\">.cat_pictures-sprite,\n.cat_pictures-felix,\n.cat_pictures-phil,\n.cat_pictures-todd {\n    background: url(&#39;/images/my-icons-s34fe0604ab.png&#39;) no-repeat;\n}\n\n.cat_pictures-felix {\n    background-position: 0 0;\n}\n\n.cat_pictures-phil {\n    background-position: 0 -200px;\n}\n\n.cat_pictures-todd {\n    background-position: 0 -400px;\n}\n</code></pre>\n<h2>Generate individual sprite images</h2><p>If you want more finite control over the classes, you can do something like this:</p>\n<pre><code class=\"language-css\">@import &quot;cat_pictures/*.png&quot;;\n\n.cats {\n\n  .felix {\n    @include cat_pictures-sprite(felix);\n  }\n\n  .phil {\n    @include cat_pictures-sprite(phil);\n  }\n\n  .todd {\n    @include cat_pictures-sprite(todd);\n  }\n\n}\n</code></pre>\n<p>Basically, by passing a name into the sprite, you can get the css for individual sprites. The above code will output something like this:</p>\n<pre><code class=\"language-css\">.cat_pictures-sprite,\n.cats .felix,\n.cats .phil,\n.cats .todd {\n    background: url(&#39;/images/my-icons-s34fe0604ab.png&#39;) no-repeat;\n}\n\n.cats .felix {\n    background-position: 0 0;\n}\n\n.cats .phil {\n    background-position: 0 -200px;\n}\n\n.cats .todd {\n    background-position: 0 -400px;\n}\n</code></pre>\n<p>You should never have to worry about where the sprite image is located or what the background position is for any of your sprite images - Compass will manage that for you. Generating sprites with Compass is simple, straightforward, and best of all, maintainable.</p>\n","slug":"creating-sprites-with-compass"},"how-to-build-grunt-from-sublime-text":{"published":true,"title":"How to Do a Grunt Build Using Sublime Text","tags":["Grunt","Sublime"],"category":"code","date":"9-13-2013","thumbnail":"/images/blog/grunt-sublime.png","slug":"how-to-build-grunt-from-sublime-text"},"secrets-of-the-javascript-ninja":{"published":true,"title":"Book Review: Secrets of the JavaScript Ninja","tags":["Book","JavaScript"],"category":"code","date":"9-4-2013","thumbnail":"/images/blog/ninja.png"},"compiling-sass-and-compass-with-grunt":{"published":true,"title":"Compiling SASS and Compass with Grunt","tags":["SASS","Compass","Grunt"],"category":"code","date":"8-30-2013","thumbnail":"/images/blog/grunt-sass.png","slug":"compiling-sass-and-compass-with-grunt","yield":"<p>If you haven&#39;t been using <a href=\"http://gruntjs.com\">Grunt</a> to run your JavaScript tasks, you have definitely been missing out. Grunt is really great about automating tasks that would have been very tedious otherwise. One great thing about Grunt is the ability to run <code>grunt watch</code> to monitor your files and run tasks when they are changed. We can use <code>grunt watch</code> in tandem with compass to automatically compile css files on the fly as we change our SASS files.</p>\n<!-- more -->\n<p>To get started, you&#39;ll need to install Grunt and then add the &quot;watch&quot; task.</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-watch\n</code></pre>\n<p>Next, you can add something like this to the grunt.initConfig() function inside your Gruntfile.js:</p>\n<pre><code class=\"language-javascript\">{\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    }\n}\n</code></pre>\n<p>We&#39;ve added livereload, listening to port 1337. You can add a snippet like this to listen for changes inside your html template:</p>\n<pre><code class=\"language-html4strict\">&lt;script src=&quot;http://localhost:1337/livereload.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>We&#39;ve also told &quot;watch&quot; to listen for changes any <code>.scss</code> files inside the <code>scss</code> directory.</p>\n<p>Last, we gave &quot;watch&quot; a task to runt when a scss file is changed. That task, of course, is compass.</p>\n<p>Now, we will need to install the compass Grunt task:</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-compass\n</code></pre>\n<p>Now, let&#39;s add the compass task to our Gruntfile:</p>\n<pre><code class=\"language-javascript\">{\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Nothing too interesting is happening here. We&#39;re just giving compass a config file to look at when it is compiling. The config.rb will typically look something like this:</p>\n<pre><code class=\"language-text\">http_path = &quot;public/&quot;\ncss_dir = &quot;public/css&quot;\nsass_dir = &quot;scss&quot;\nimages_dir = &quot;public/images&quot;\njavascripts_dir = &quot;public/js&quot;\noutput_style = :compressed\nrelative_assets=true\nline_comments = false\n</code></pre>\n<p>That is really all there is to it. All told, our Gruntfile will look something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;public/scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    },\n\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n\n});\n\ngrunt.loadNpmTasks(&#39;grunt-contrib-compass&#39;);\ngrunt.loadNpmTasks(&#39;grunt-contrib-watch&#39;);\n</code></pre>\n<p>Now, just run:</p>\n<pre><code class=\"language-bash\">grunt watch\n</code></pre>\n<p>Anytime you change a file in your <code>/scss</code> directory, it will be compressed and outputted into your <code>/public/css</code> directory.</p>\n<p>With Compass building CSS as a part of your Grunt watch task, you will have one less process to keep running in your terminal. Automatically compiling SASS files is definitely something to grunt about!</p>\n"},"how-can-you-see-the-latest-poet-js-posts-without-restarting-the-server":{"published":true,"title":"How Can You See the Latest Poet.js Posts Without Restarting the Server?","tags":["NodeJS","Blogging"],"category":"code","date":"8-23-2013","thumbnail":"/images/blog/poet-latest.png","slug":"how-can-you-see-the-latest-poet-js-posts-without-restarting-the-server","yield":"<p>When I first started moving my blog over to <a href=\"/blog/poet-js\">Poet</a>, one of the most frustrating things for me was the fact that all of the blog posts are cached, meaning that every time you edit a file, you literally have to restart the server to see the changes. Luckily, I have implemented a neat little trick to refresh the blog posts any time they are updated.</p>\n<!-- more -->\n<p>Poet gives you a <code>watch</code> method that is fired anytime the markdown files in your posts directory are changed, so I tapped into that.</p>\n<pre><code class=\"language-javascript\">poet.watch(function (poet) {\n  console.log(&#39;A file was updated!&#39;);\n});\n</code></pre>\n<p>Poet also provides a method called <code>clearCache</code> that literally wipes out the cached blog posts and replaces them with the updated versions.</p>\n<pre><code class=\"language-javascript\">poet.clearCache();\n</code></pre>\n<p>Putting both methods together, we can do something like this:</p>\n<pre><code class=\"language-javascript\">poet.watch(poet.clearCache);\n</code></pre>\n<p>Now every time a blog post is changed, the clearCache method is fired, which means that the blog posts will always be up to date. It wasn&#39;t the most challenging thing to do, but it definitely made writing blog posts much more enjoyable.</p>\n"},"sencha-architect-app-development":{"published":true,"title":"Book Review: Sencha Architect App Development","tags":["Book"],"category":"code","date":"8-16-2013","thumbnail":"/images/blog/senchabook3.png","slug":"sencha-architect-app-development"},"poet-js":{"published":true,"title":"Getting Started with Poet.js","tags":["NodeJS","Blogging"],"category":"code","date":"8-9-2013","thumbnail":"/images/blog/poet.png"},"client-side-dependency-management-with-bower":{"published":true,"title":"Client-Side Dependency Management with Bower","tags":["Bower"],"category":"code","date":"8-2-2013","thumbnail":"/images/blog/bower.png","slug":"client-side-dependency-management-with-bower","yield":"<p>If you&#39;ve been creating applications using Node, you&#39;ve probably fallen in love with the built-in package management framework &quot;NPM&quot;. Using NPM makes life a ton easier because instead of needing to go out and download all of the third-party packages your project will need, you can just type a line or two in the terminal and everything is good to go. What if there was a tool like NPM for managing client-side JavaScript libraries? There is one. It is called Bower.&quot;</p>\n<!-- more -->\n<p>Bower essentially performs three vital functions</p>\n<ul>\n<li>You can download all of your dependencies from the command line, so you don&#39;t have to go out looking for them on the Internet</li>\n<li>You can easily update to the latest version of your library and easily switch back if you need to</li>\n<li>You don&#39;t have to check all of your dependencies in as part of your project. That means that your project will only contain the code that you write, which will make it smaller and more manageable.</li>\n</ul>\n<p>So how do you use Bower? If you already have NPM installed, you can just install it globally:</p>\n<pre><code class=\"language-bash\">npm install -g bower\n</code></pre>\n<p>You&#39;ll also probably want to install Git because most of the Bower packages use Git to work their magic.</p>\n<p>Now that you&#39;ve installed Bower, you can go to the project you want to use it in and create a <code>bower.json</code> file in the root. It will probably look something like this:</p>\n<pre><code class=\"language-json\">{\n  &quot;name&quot;: &quot;my-amazing-project&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;dependencies&quot;: {\n    &quot;jquery&quot;: &quot;&gt;=2.0.3&quot;\n  },\n  &quot;ignore&quot;: [\n    &quot;**/.*&quot;,\n    &quot;node_modules&quot;,\n    &quot;components&quot;,\n    &quot;bower_components&quot;,\n    &quot;test&quot;,\n    &quot;tests&quot;\n  ]\n}\n</code></pre>\n<p>If you&#39;ve already been using NPM, you&#39;ll probably notice that the format is pretty similar. The dependency object is where you will list all of your dependencies and the version you would like to use.</p>\n<p>By default, everything Bower downloads will go in the /bower_components folder in the root of your project. If you would like to put your dependencies in a different directory, just create a <code>.bowerrc</code> file with the path to your alternate folder:</p>\n<pre><code class=\"language-json\">{\n  &quot;directory&quot; : &quot;public/js/bower_components&quot;\n}\n</code></pre>\n<p>Once everything is set up, you can install all of your dependencies using</p>\n<pre><code class=\"language-bash\">bower install\n</code></pre>\n<p>All of your dependencies will go into the directory you declare in your .bowerrc file or in bower_components if none is specified.</p>\n<p>To install a specific package, you can use</p>\n<pre><code class=\"language-bash\">bower install jquery\n</code></pre>\n<p>or</p>\n<pre><code class=\"language-bash\">bower install jquery#2.0.3\n</code></pre>\n<p>It&#39;s best to list your dependencies in the bower.json file, though, so that they will be remembered for later on.</p>\n<p>I have found that most of the libraries I&#39;ve needed are already registered with Bower. However, if you need to register a new GitHub repository, you can simply run something like</p>\n<pre><code class=\"language-bash\">bower register jquery git://github.com/jquery/jquery\n</code></pre>\n<p>Simply pass in the name of the package and the path to the repository on GitHub.</p>\n<p>Needless to say, I&#39;m a big fan of Bower. Has anyone else been using Bower or something like it to manage third-party libraries on the client-side?</p>\n"},"logging-time-on-the-developer-console":{"published":true,"title":"Logging Time on the Developer Console","tags":["JavaScript"],"category":"code","date":"7-29-2013","thumbnail":"/images/blog/time.png","slug":"logging-time-on-the-developer-console"},"javascript-test-coverage-with-jscoverage":{"published":true,"title":"Determining JavaScript Test Coverage with JSCover","tags":["Testing"],"category":"code","date":"7-18-2013","thumbnail":"/images/blog/cover.png","slug":"javascript-test-coverage-with-jscoverage"},"localstorage-with-amplify-js":{"published":true,"title":"LocalStorage with Amplify.js","tags":["LocalStorage","appendTo"],"category":"code","date":"7-13-2013","thumbnail":"/images/blog/amplify.png"},"running-node-applications-continuously-with-foreverjs":{"published":true,"title":"Running Node Applications Continuously with Forever.js","tags":["Node"],"category":"code","date":"7-5-2013","thumbnail":"/images/blog/forever.png"},"gardening-for-web-developers":{"published":true,"title":"Gardening for Web Developers","tags":["Code"],"category":"code","date":"6-28-2013","thumbnail":"/images/blog/gardening.jpg","yield":"<p>This year, I started a vegetable garden in my front yard. There are several reasons I started it. We are trying to get out of debt, but I still want my family to have nutritious food that isn&#39;t full of deadly chemicals. I also think that skills like being able to grow your own food could become really valuable in the coming years of inflation that the Federal Reserve has set us up for in the United States.</p>\n<!-- more -->\n<p>Gardening has been a good opportunity for me to get away from more mind-intensive tasks like writing code or reading some of the heavier topics I tend to get into.</p>\n<p>Interestingly enough, instead of just escaping web development, I have been thinking about ways that gardening is similar to web development. Here are a few things that have come to mind.</p>\n<p>###Start with a plan</p>\n<p>If you don&#39;t have a solid plan going into a garden, you won&#39;t know what to plant or when to plant it. I ended up adjusting my plan as I began to see what my needs would be and what would be practical for my space.</p>\n<p>Web applications are very similar. If you don&#39;t know what you are buildings, it will be almost impossible to make it work. Adjustments will inevitably be made along the way, but it is always important to keep an active vision of where you want to go.</p>\n<p>###Sandboxing</p>\n<p>There are some plants that will grow on forever if they have enough space. That&#39;s why it&#39;s important to box certain plants off from the rest of the garden, so they won&#39;t totally take over.</p>\n<p>In a similar fashion, keeping certain modules of code separate from each other makes a code-base easier to maintain. It also keeps code from breaking other code that is seemingly unrelated.</p>\n<p>###Get the bugs or the bugs will get you</p>\n<p>A good rule in development is to make sure you take care of issues or bugs before you go on to create new features.</p>\n<p>In a garden, if your plants are being eaten by bugs, it&#39;s not worth your time to grow more plants unless the bug problem is fixed first.</p>\n<p>###Water and sunshine</p>\n<p>In a garden, for plants to grow, they need plenty of water and sunshine.</p>\n<p>In an application, you need plenty of users working with your product on a daily basis. Otherwise you will never know what is needed to move the product forward.</p>\n<p>I&#39;m sure there are a ton of other parallels between growing food and writing software. Can anyone think of any others?</p>\n"},"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically":{"published":true,"title":"Bing Translate: A New Grunt Task to Internationalize Your Apps Programmatically","tags":["Grunt","Bing","Bing Translator","i18n"],"category":"code","date":"6-21-2013","thumbnail":"/images/blog/grunt.png","slug":"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically","yield":"<p>Internationalizing an application can be a tedious process if you are translating your app into different languages manually. Every time you add a new value to be translated, you have to add that value for all of your  translation files. It can become a real pain.</p>\n<!-- more -->\n<p>To ease the pain, I&#39;ve written a Grunt task that translates all of your language files from a common Grunt config location using the Bing Translator api.</p>\n<p>Why did I use Bing Translator instead of Google Translator? Unfortunately, the Google Translator API is no longer free. Don&#39;t worry, nobody will make you take a test that reveals that you prefer Bing to Google. After you create your Bing account, you&#39;ll barely even notice you&#39;re using it.</p>\n<p>So how can you get started?</p>\n<p>First you&#39;ll need to download the Grunt Bing Translate task from NPM:</p>\n<pre><code class=\"language-bash\">npm install grunt-bing-translate\n</code></pre>\n<p>Once that is done, you just need to modify your Gruntfile. Inside of your grunt.initConfig(), you&#39;ll want to add something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n  bing_translate: {\n    options: {\n      // Task-specific options go here.\n    }\n  }\n});\n</code></pre>\n<p>For a full list of options, check out the <a href=\"https://github.com/tysoncadenhead/grunt-bing-translate/\">documentation on Github</a></p>\n<p>Here is an example of how you might configure your bing_translate options:</p>\n<pre><code class=\"language-javascript\">module.exports = function(grunt) {\n\n  // Project configuration.\n  grunt.initConfig({\n\n    &quot;bing_translate&quot;: {\n      &quot;options&quot;: {\n        &quot;clientId&quot;: require(&quot;./config.json&quot;).clientId, // Replace this with your Bing Translate Client ID\n        &quot;clientSecret&quot;: require(&quot;./config.json&quot;).clientSecret, // Replace this with your Bing Translate Client Secret\n        &quot;defaultLanguage&quot;: &quot;en&quot;,\n        &quot;languages&quot;: [&quot;ar&quot;, &quot;bg&quot;, &quot;cs&quot;, &quot;da&quot;, &quot;nl&quot;, &quot;en&quot;, &quot;et&quot;, &quot;fi&quot;, &quot;fr&quot;, &quot;de&quot;, &quot;el&quot;, &quot;hu&quot;, &quot;it&quot;, &quot;lv&quot;, &quot;lt&quot;, &quot;pl&quot;, &quot;pt&quot;, &quot;ro&quot;, &quot;ru&quot;, &quot;sk&quot;, &quot;sl&quot;, &quot;es&quot;, &quot;sv&quot;],\n        &quot;files&quot;: {\n            &quot;test/lang&quot;: {\n                &quot;template&quot;: &quot;console.log(&#39;&lt;%- language %&gt;&#39;, &lt;%- values %&gt;);&quot;,\n                &quot;fileNameEnding&quot;: &quot;/translation.js&quot;,\n                &quot;values&quot;: {\n                    &quot;hello&quot;: &quot;Hello&quot;,\n                    &quot;world&quot;: &quot;World&quot;\n                }\n            }\n        }\n      }\n    }\n\n  });\n\n};\n</code></pre>\n<p>Once all of your options are specified, you can run:</p>\n<pre><code class=\"language-bash\">grunt bing_translate\n</code></pre>\n<p>to translate all of your files. It&#39;s like magic.</p>\n<p>One important thing to note is that the Bing translate API does have a monthly limit per account. I haven&#39;t hit it yet and my understanding is that it is pretty large, but it&#39;s still there. This task will only translate each word once even if it appears in multiple language files, so that will hopefully reduce the amount of calls you have to make each month.</p>\n<p>So, far I&#39;ve used this to generate language files for <a href=\"http://ckeditor.com/\">CKEditor</a> plugins and to generate language files for use with <a href=\"http://i18next.com/\">i18next</a>. The ability to put a template around the contents of the file should make this easily work with any project.</p>\n<p>What do you think?</p>\n"},"what-should-i-test-when-i-write-software":{"published":true,"title":"What Should I Test When I Write Software?","tags":["Testing","Mocha","QUnit","Selenium"],"category":"code","date":"6-6-2013","thumbnail":"/images/blog/test-dummy.png","slug":"what-should-i-test-when-i-write-software"},"jquery-jsontemplate":{"published":true,"title":"Instroducing jQuery.jsonTemplate","tags":["JSON","Template"],"category":"code","date":"6-3-2013","thumbnail":"/images/blog/layout.png","slug":"jquery-jsontemplate"},"do-you-need-a-college-degree-to-be-a-web-developer":{"published":true,"title":"Do You Need a College Degree to Be a Web Developer?","tags":["College","Coding"],"category":"code","date":"5-25-2013","thumbnail":"/images/blog/graduate.jpg","slug":"do-you-need-a-college-degree-to-be-a-web-developer","yield":"<p>Software development is a really exciting field to be in. Technology is constantly changing and improving. The demand for people who can read and write code is constantly expanding. The laws of supply and demand work in the developer&#39;s favor since all of the companies are forced to compete for the limited number of people who can write code well.</p>\n<!-- more -->\n<p>So, if you want to get into the development field, you may be tempted to enroll in a nearby college and get a four-year degree in computer science. After all, <a href=\"http://www.youtube.com/watch?v=kXpwAOHJsxg\">everyone with a college degree does better in life</a>, right?</p>\n<p>In the interest of full disclosure, I&#39;ll start off by saying that I do have a college degree. College was a good experience for me. I made many friends I still keep in touch with today, I met my wife at college and I was able to learn under some really good professors. However, I have to ask myself whether I would encourage my kids to enroll in college if they were pursuing a career as a software engineer. It might be surprising, but my answer would be &quot;no.&quot; Here are my reasons:</p>\n<ul>\n<li><strong>College is expensive.</strong> This should be obvious, but college can cost an arm and a leg. When I went to college at a small private university, the tuition was about $10,000 a semester. The cost of college is rising at a rate that far exceeds the rate of inflation. There is literally no way a college student can pay for that out of pocket. As an 18-year-old, you can&#39;t understand the burden of debt or the way that interest works on loans. What&#39;s even worse is that many of my friends are unemployed or underemployed with the same debt load. Our family is on the <a href=\"http:/daveramsey.com\">Dave Ramsey</a> plan trying to get out from under the weight of student loan debt. The one lesson we have learned is that it is never worth it to borrow money.</li>\n<li><strong>Missed opportunity.</strong> Four years is a long time. It&#39;s impossible to calculate what you may have missed in terms of lost opportunity. If I had been working, even for minimum wage, I would have had enough money to buy a house at the end of four years.</li>\n<li><strong>Technology moves too fast.</strong> Other than basic principles of coding, everything that you learn in college will be obsolete by the time you get your degree. As a rule, colleges are typically a year or two behind because they are waiting to determine whether the technologies will stick. There&#39;s no reason to teach a class on a language that turns out to be a passing trend.</li>\n</ul>\n<p>So, if you don&#39;t go to college, how can you get a job writing code? Here a few ideas.</p>\n<ul>\n<li><strong>Learn as much as you can.</strong> Pick a language and commit to thoroughly learning it. If you&#39;re looking for a language that will make good money, some solid choices are JavaScript, C#, PHP and Java. I would personally recommend learning JavaScript because it has a bright future. Books are a good place to start. There are also tons of blogs that can be invaluable resources. There are also weekly newsletters like <a href=\"http://javascriptweekly.com/\">JavaScript Weekly</a> that keep a running update of what is hot in the development world. To get started on a language, I would recommend just creating an application. You will learn really fast if you are actually writing functional code.</li>\n<li><strong>Meet other developers.</strong> If you live in or near a major city, there are probably several meetups and conferences you can attend. They are a great place to meet people. Ask them about what they are doing and where they work. Create relationships with people who are doing what you want to be doing. The odds of getting a job by filling out resumes are terrible. Almost all of the professional jobs I&#39;ve gotten were a result of networking.</li>\n<li><strong>Get an internship writing code.</strong> Since there is such a high demand for software engineers, many companies will gladly take interns under their wings. The benefits for the company are that they have the potential to eventually hire you on as a full-time employee, they get free or cheap work and they are able to look good in their community because they are teaching upcoming engineers.</li>\n<li><strong>Look into cheaper alternatives.</strong> Here in Nashville, we have a program called &quot;<a href=\"http://nashvillesoftwareschool.com/\">Nashville Software School</a>&quot; that just costs $1,000 a semester. My guess is that there are similar programs springing up in other areas as well.</li>\n</ul>\n<p>As you should be able to see, college is probably not the right choice for an aspiring developer. Sure, there are some companies that require a bachelor&#39;s degree, but the vast majority would prefer four years of real-world experience to the insulated learning environment that a college provides. If you are able to land your first tech job, nobody will ever even notice whether or not you have a college degree listed on your resume. Learning to write code well is going to require a lot of hard work, but college is hard work too. In the end, you have to ask yourself what it costs compared to what you have to show for it in the end.</p>\n"},"compound-js-presentation-in-nashville":{"published":true,"title":"Compound JS Presentation in Nashville","tags":["Compound","Presentation"],"category":"code","date":"5-22-2013","thumbnail":"/images/blog/testtubes.png","slug":"compound-js-presentation-in-nashville","yield":"<p>If you&#39;re going to be in Nashville on May 21 at 6:00, stop by the Interactive Developers meetup at Vaco to hear me speak about the Compound MVC framework for Node. There is always free food and drink. You can RSVP <a href=\"http://www.meetup.com/interactivedev/events/109983412/\">here</a>.</p>\n<!-- more -->\n<p><strong>Update:</strong></p>\n<p>Now that the presentation is over, you can see my slides <a href=\"http://slid.es/tysoncadenhead/compoundjs\">here</a>.</p>\n"},"creating-mobile-apps-with-sencha-touch-2":{"published":true,"title":"Book Review: Creating Mobile Apps With Sencha Touch 2","tags":["Book","Sencha"],"category":"code","date":"5-16-2013","thumbnail":"/images/blog/senchabook.png","yield":"<p>I have recently been diving into <a href=\"http://www.packtpub.com/creating-mobile-apps-with-sencha-touch-2/book\">Creating Mobile Apps With Sencha Touch 2</a> and I have really been enjoying it.</p>\n<p>As someone who worked with Sencha Touch when it first came out, it has been fun to watch the steady improvements that have been added over time to make Sencha Touch 2, so I was doubly excited to have the chance to review this book.</p>\n<!-- more -->\n<p><em>Creating Mobile Apps With Sencha Touch 2</em> is a very comprehensive guide for writing data-driven mobile applications, but it begins with the novice in mind. The first chapter, &quot;A Simple Task List&quot;, walks us through creating a simple TODO list application. This chapter focuses on some of the fundamentals of Sencha Touch such as how to use Sencha Architect, which is essentially a WYSIWYG interface for creating Sencha apps.</p>\n<p>Chapter 2 is titled &quot;A Feed Reader.&quot; It walks us through working with remote data proxies. In addition to walk us through using JSONP, it also introduces more sophisticated options like using YQL to serve up data remotely.</p>\n<p>Chapter 3 covers working with Sencha Touch in the command line using the Sencha CMD tool. I had just started using Sencha CMD on a project a few weeks before, so this chapter was especially interesting to me.</p>\n<p>The 4th chapter gives us some information on working with Sencha Charts. I haven&#39;t had the pleasure of working with Sencha Charts on any of my projects yet, and the last time I had worked with EXT-style charts was 3 or 4 years ago, so I was pleasantly surprised at how easy they are to work with.</p>\n<p>Chapter 5 guides us through working with Sencha.io, which is currently a free place where you can deploy Sencha Touch applications into the cloud. The cool thing about Sencha.io is that it handles all of the server-side database interactions for you so that you can totally focus on writing client-side code.</p>\n<p>Chapter 6 is about writing APIs that work well with Sencha Touch. It specifically talks about REST-based APIs since the Sencha Touch Ajax proxy is geared toward that.</p>\n<p>Chapter 7 is about working with external APIs that you don&#39;t write yourself. It specifically focuses on Foursquare and Google Maps.</p>\n<p>Chapter 8 is about using profiles, which is an easy way that Sencha Touch has introduced to deal with multiple devices and screen resolutions inside the same app.</p>\n<p>Chapter 9 delves into working with the native device camera. It shows you how to capture, store and display images on the mobile device.</p>\n<p>The 10th chapter shows how you can even use Sencha Touch to create a functional mobile game. It also provides some great insights into how the Sencha Touch controller can be used.</p>\n<p>This is a really helpful book whether you are just starting out with Sencha Touch, or if you have been using it for a while, but would like to improve your skillset. If you have already been using Sencha Touch, you may want to skip over the first few chapters, but there is still plenty to learn in this book.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=EFEEEE&amp;IS2=1&amp;bg1=EFEEEE&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=tf_til&amp;asins=1849518904\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>"},"using-local-storage-in-sencha-touch-2-2":{"published":true,"title":"Using Local Storage in Sencha Touch 2.2","tags":["Sencha","LocalStorage"],"category":"code","date":"4-19-2013","thumbnail":"/images/blog/storage.jpg","slug":"using-local-storage-in-sencha-touch-2-2"},"knockout-observables":{"published":true,"title":"Knockout Observables","tags":["Knockout"],"category":"code","date":"4-8-2013","thumbnail":"/images/blog/observers.png","slug":"knockout-observables"},"authentication-with-compound-passport":{"published":true,"title":"Authentication with Compound-Passport","tags":["Compound","Node","Authentication"],"category":"code","date":"4-3-2013","thumbnail":"/images/blog/passport.png","yield":"<p>One of the most useful CompoundJS plugins is <a href=\"https://npmjs.org/package/compound-passport\">Compound-Passport</a>. If you aren&#39;t familiar with <a href=\"http://passportjs.org/\">Passport</a>, it is an authentication library for Node that provides a common API to authenticate with Facebook, Twitter, Google, Github and over a hundred other OpenId and OAuth login sources.</p>\n<!-- more -->\n<p>This is how I was able to get authentication with Facebook added to an application within minutes.</p>\n<p>First of all, you&#39;ll need to have a CompoundJS app. If you need help with that, check out my previous blog post on <a href=\"/blog/how-do-yo-make-a-compoundjs-app/\">how to make a CompoundJS application</a>.</p>\n<p>My first step was to install the compound-passport package with npm.</p>\n<pre><code class=\"language-bash\">#install compound-passport\nnpm install compound-passport\n\n#install passport\nnpm install passport\n\n#install passports facebook authentication piece\nnpm install passport-facebook\n</code></pre>\n<p>As you can see, we&#39;re installing the Facebook connection module. If you want to do a different type of authentication, you&#39;ll need to install that module as well.</p>\n<p>The next step is to add the configuration file. This will need to be saved in config/passport.yml</p>\n<pre><code class=\"language-yml\">development:\n  baseURL: &#39;http://localhost:3000/&#39;\n  facebook:\n    apiKey: &quot;my-api-key&quot;\n    secret: &quot;my-secret&quot;\n</code></pre>\n<p>You will need to use your Facebook API Key and secret. You can acquire both of them from the <a href=\"Facebook Developers site\">https://developers.facebook.com/apps</a>.</p>\n<p>Next, we&#39;ll need to modify our config/autoload.js file. I&#39;m showing the entire file, but the only real takeaway here is that the array that is returned from the module.exports() function needs to contain require(&#39;compound-passport&#39;).</p>\n<pre><code class=\"language-javascript\">module.exports = function (compound) {\n  var defaultModules = [\n      &#39;jugglingdb&#39;,\n      &#39;co-assets-compiler&#39;\n    ], developmentModules = [];\n\n  if (&#39;development&#39; === compound.app.get(&#39;env&#39;)) {\n    developmentModules = [\n      &#39;ejs-ext&#39;,\n      &#39;seedjs&#39;,\n      &#39;co-generators&#39;,\n      &#39;compound-passport&#39;\n    ]\n  }\n\n  if (typeof window === &#39;undefined&#39;) {\n    return defaultModules.concat(developmentModules).map(require);\n  } else {\n    return []\n  }\n\n};\n</code></pre>\n<p>In Compound, any before() filters that are added to the controllers/application_controller.js file are called before any standard controller methods. If we do something like this, we will have a req.user object available if the Facebook session have been authenticated. Otherwise, it will be null.</p>\n<pre><code class=\"language-javascript\">before(function requireManager() {\n    User.find(session.passport.user, function (err, user) {\n        console.log(user);\n        if (user) {\n            req.user = user;\n        } else {\n            redirect(&#39;/login&#39;);\n        }\n        next();\n    });\n});\n</code></pre>\n<p>Last of all, if we create a login page like this, everything should come together.</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;/auth/facebook&quot;&gt;Login with Facebook&lt;/a&gt;\n</code></pre>\n<p>Has anyone else been working with Compound-Passport? My experience has been that even though the integration is fairly straightforward, the documentation is spotty enough that it isn&#39;t as easy to do as it should be. What has your experience been?</p>\n"},"unit-testing-with-thrill-js":{"published":true,"title":"Unit Testing with Thrill.js","tags":["Thrill","Queen","Testing","QUnit"],"category":"code","date":"4-1-2013","thumbnail":"/images/blog/thrill.png"},"executeasyncscript-in-selenium-webdriver-for-node":{"published":true,"title":"executeAsyncScript() in Selenium Webdriver for Node","tags":["Testing","Selenium"],"category":"code","date":"3-22-2013","thumbnail":"/images/blog/selenium.png","slug":"executeasyncscript-in-selenium-webdriver-for-node","yield":"<p>If you aren&#39;t familiar with it, the <a href=\"https://code.google.com/p/selenium/wiki/WebDriverJs\">NodeJS version of the Selenium WebDriver</a> is a great way to write functional tests in JavaScript and automatically run them in your browsers.</p>\n<!-- more -->\n<p>The NodeJS WebDriver uses the <a href=\"https://code.google.com/p/selenium/downloads/list\">Selenium Server</a> Java jar under the covers to work its magic.</p>\n<p>The main downside of the WebDriver is that the documentation is inconclusive at best. I haven&#39;t been able to locate a unified list of the WebDriver methods anywhere on the internet. I&#39;m not even kidding. The best that I have been able to do is look at the Java documentation and make assumptions based it.</p>\n<p>My main struggle was finding a way to execute asynchronous JavaScript in a browser and send a callback to the server-side testing suite once the script had finished manipulating the DOM or running Ajax calls. The solution I was finally able to locate was the executeAsyncScript() method.</p>\n<p>I wrote my unit tests using <a href=\"http://visionmedia.github.com/mocha/\">Mocha</a>. The code below is what I used to kick off the testing suite. Note that you will need to install the <a href=\"https://code.google.com/p/selenium/downloads/list\">Java jar file</a> and open it, install the <a href=\"https://code.google.com/p/selenium/downloads/list\">Crome driver</a> and open it and of course install the <a href=\"https://npmjs.org/package/selenium-webdriver&quot;\">&quot;selenium-webdriver&quot;</a> and <a href=\"https://npmjs.org/package/assert\">&quot;assert&quot;</a> packages with npm before any of this will work.</p>\n<pre><code class=\"language-javascript\">var webdriver = require(&#39;selenium-webdriver&#39;),\n    assert = require(&#39;assert&#39;),\n    driver;\n\ndriver = new webdriver.Builder().usingServer(&#39;http://localhost:4444/wd/hub&#39;).withCapabilities({\n   &#39;browserName&#39;: &#39;chrome&#39;\n}).build();\n</code></pre>\n<p>Now that our webdriver is working, we just need to kick off our tests.</p>\n<pre><code class=\"language-javascript\">// describe() is from Mocha\ndescribe(&quot;Open the webpage&quot;, function () {\n\n   // This makes the WebDriver navigate to the page you want to test\n   driver.get(&quot;http://mywebsite.com/mypage&quot;);\n\n   // it() is for Mocha testing\n   it(&quot;Should open do my asynchronous bidding&quot;, function (done) {\n\n      // By default, Mocha&#39;s timeout is only a couple of seconds,\n      // which is usually too short for asynchronous calls\n      this.timeout(500000);\n\n      // driver.executeAsyncScript() allows us to run a script in the browser\n      driver.executeAsyncScript(\n\n      // Everything inside here will be executed by the browser, not the server\n      function (secondValue) {\n\n        // This is the callback function we can call when everything is done\n        var cb = arguments[ arguments.length - 1 ];\n\n        // We&#39;ll use setTimeout() to make the script\n        // wait before calling the callback\n        setTimeout(function () {\n           cb({\n              firstValue: 1,\n              secondValue: secondValue\n           });\n        }, 3000);\n\n      },\n\n      // You can pass variables from the server-side to the client-side \n      // by making them additional arguments\n      &#39;My Second Value&#39;\n\n      // This is the callback that is fired when the\n      // script is done executing in the browser\n      ).then(function (obj) {\n         assert.equal(obj.firstValue, 1);\n         assert.equal(obj.secondValue, &#39;My Second Value&#39;);\n         done();\n      });\n\n   });\n});\n</code></pre>\n<p>As you can see, using the executeAsyncScript() method can be invaluable.</p>\n<p>Have you played around with the Node Selenium WebDriver yet? What do you think of it?</p>\n"},"compoundjs-routes":{"published":true,"title":"Compound.js Routes","tags":["Compound"],"category":"code","date":"3-12-2013","thumbnail":"/images/blog/car.png","slug":"compoundjs-routes","yield":"<p><a href=\"/blog/how-do-yo-make-a-compoundjs-app\">Previously</a>, I introduced you to Compound, an awesome MVC framework for NodeJS. Today, I am going to expound on how the routing works in Compound.</p>\n<p>If you are not familiar with how MVC work, I suggest you take a look at some of my older articles about <a href=\"/blog/javascript-architecture\">JavaScript Architecture</a> and <a href=\"/blog/code-seperation/\">Code Separation</a>. From here on, I will assume that you have a basic understanding of the place of controllers in the MVC paradigm so that the routing will make sense. Let&#39;s begin.</p>\n<!-- more -->\n<p>The CompoundJS router is built on top of the ExpressJS router, so if you are familiar with Express, the syntax should look suspiciously similar. Your router will be located in the /config/routes.js file. It should look something like this:</p>\n<pre><code class=\"language-javascript\">exports.routes = function (map) {\n    // Generic routes. Add all your routes below this line\n    // feel free to remove generic routes\n    map.all(&#39;:controller/:action&#39;);\n    map.all(&#39;:controller/:action/:id&#39;);\n};\n</code></pre>\n<p>As you can see, the router above is setting some basic global rules. If we hit /users/create it will resolve to the &quot;create&quot; method of the users controller. If we hit /users/edit/12 it will resolve to the &quot;edit&quot; method of the users controller with an id of &quot;12&quot; passed into the method.</p>\n<p>To map all of the basic CRUD functionality to a Compound controller, just add:</p>\n<pre><code class=\"language-javascript\">map.resources(&#39;users&#39;);\n</code></pre>\n<p>Yes, that is just one line of code, but it magically maps all of these routes:</p>\n<ul>\n<li>users GET - users#index</li>\n<li>users POST - users#create</li>\n<li>users/new GET - users#new</li>\n<li>users/:id/edit - users#edit</li>\n<li>users/:id DELETE - users#destroy</li>\n<li>users/:id PUT - users#update</li>\n<li>users/:id - users#show</li>\n</ul>\n<p>That will cover many of your routing needs, but if you need to make a route go directly to a controller method, the syntax looks like this:</p>\n<pre><code class=\"language-javascript\">map.get(&#39;users/login&#39;, &#39;users#login&#39;);\n</code></pre>\n<p>With the code above, you will be able to go to the /users/login URL and it will resolve to the &quot;login&quot; method of the users controller.</p>\n<p>To map your homepage, you can use map.root like this:</p>\n<pre><code class=\"language-javascript\">map.root(&#39;pages#home&#39;);\n</code></pre>\n<p>The above snippet will map to the &quot;home&quot; method of the pages controller.</p>\n<p>The Compound routing is very robust, so you may need to read through the documentation to see everything that it can do for you.</p>\n"},"what-are-the-best-productivity-apps-for-osx":{"published":true,"title":"What are the Best Productivity Apps for OSX?","tags":["Productivity","OSX"],"category":"productivity","date":"3-5-2013","thumbnail":"/images/blog/multitasking.png"},"how-do-yo-make-a-compoundjs-app":{"published":true,"title":"How Do You Make a Compound.js Application?","tags":["Compound"],"category":"code","date":"2-27-2013","thumbnail":"/images/blog/compound.png","slug":"how-do-yo-make-a-compoundjs-app","yield":"<p>NodeJS may still be young, but there are already several MVC frameworks popping up to run exclusively on Node. My favorite is <a href=\"http://compoundjs.com/\">CompoundJS</a>.</p>\n<!-- more -->\n<p>Compound was written to look like to Ruby on Rails. In fact, Compound&#39;s original name was &quot;Railway on Express.&quot; As the defunct name implies, Compound runs on top of <a href=\"http://expressjs.com/\">the ExpressJS framework</a>. Some of the reasons to use Compound instead of simply running a vanilla installation of Express are that:</p>\n<ul>\n<li>Compound provides a structure for where things are supposed to go and how they are supposed to be used.</li>\n<li>Compound uses the MVC architecture, which makes maintaining code much easier, especially for those of us who are familiar with it.</li>\n<li>Compound provides scaffolding so you can generate portions of your application from the command line.</li>\n<li>Compound ships with a library called JugglingDB, which abstracts the database layer of your application and allows you to use MongoDB, Redis, LocalStorage and MySQL interchangeably.</li>\n</ul>\n<p>There are a few other Node MVC frameworks out there, such as <a href=\"http://towerjs.org/\">TowerJS</a>, but one of my favorite things about Compound is that it doesn&#39;t force you to write in CoffeeScript. If you prefer CoffeeScript, you can use it, but using the JavaScript syntax is just as acceptable.</p>\n<h3>Installing Compound</h3><p>Compound is registered as an npm package, so you can install it globally using:</p>\n<pre><code class=\"language-bash\">sudo npm install compound -g\n</code></pre>\n<h3>Creating an App</h3><p>We&#39;ll make a basic application to keep track of our monthly budget. Since we are so creative, we&#39;ll name our application &quot;budget&quot;.</p>\n<pre><code class=\"language-bash\">compound init budget &amp;&amp; cd budget\nnpm install\n</code></pre>\n<h3>Scaffold Categories</h3><p>One of the best features of Compound is the built-in scaffolding. The scaffolding will create the ORM, controller, views, routes and tests for our budget categories:</p>\n<pre><code class=\"language-bash\">compound generate crud category name amount:number active:boolean\n</code></pre>\n<p>Let&#39;s break this down. The first argument after the &quot;crud&quot; is the name of the model. All of the arguments after the model name are the fields that the model contains. The fields can be cast to a type when they are divided by a colon. If no type is provided, Compound assumes the field is a string.</p>\n<h3>Start the server</h3><p>To start the server, you can run:</p>\n<pre><code class=\"language-bash\">compound server 8080\n</code></pre>\n<p>Compound will start the server using the port that you specified. Since we started our server on port 8080, we should be able to go to <a href=\"http://localhost:8080/categories\">http://localhost:8080/categories</a> and see the index page of categories that we scaffolded a moment ago.</p>\n<p>The index of categories should look like this:</p>\n<p><img src=\"/images/blog/compound1.png\" alt=\"Compound\"></p>\n<p>Out of the box, Compound uses Twitter Bootstrap to style the views. You can usually customize the views and get them looking pretty good with very minimal effort.</p>\n<p>Compound has generated all of the basic user interface from our one line of scaffolding instructions. You can use the interface to add new categories.</p>\n<p><img src=\"/images/blog/compound2.png\" alt=\"Compound\"></p>\n<p>Once a category is created it will show up in the index.</p>\n<p>The scaffolding also generates a details view that displays more information about the category.</p>\n<p><img src=\"/images/blog/compound3.png\" alt=\"Compound\"></p>\n<p>As you can see, Compound outputs a completely functional interface.</p>\n<p>If this introduction is useful to anyone, I&#39;d love to expand on it and get deeper into more advanced aspects of how Compound actually works.</p>\n<p>Is anyone else using Compound for application development? What have your experiences been with it?</p>\n"},"how-do-you-write-an-anvil-js-plugin":{"published":true,"title":"How Do You Write an Anvil.js Plugin?","tags":["Anvil","Build"],"category":"code","date":"2-21-2013","thumbnail":"/images/blog/anvil.png","yield":"<p><a href=\"http://anviljs.com\">Anvil.js</a> is a powerful &quot;Convention over configuration&quot; build tool that was built by <a href=\"http://twiiter.com/a_robson\">Alex Robson</a> and sponsored by <a href=\"http://appendto.com\">appendTo</a>, which is incidentally where I work now.</p>\n<!-- more -->\n<p>One of the most powerful things about Anvil is that it has an intentionally light core. It was meant to be primarily run by plugins. Authoring Anvil plugins is a pretty painless ordeal. Today, I&#39;m going to walk you through the process of creating an Anvil plugin. Once you see how simple it is, you&#39;ll probably find yourself writing plugins to make your own build more efficient. Let&#39;s get started.</p>\n<h3>1. Install Anvil</h3><p>If you haven&#39;t installed <a href=\"http://anviljs.com\">anvil</a> yet, that will be where you need to start. If you already have Node installed, you will just need to run this in the terminal:</p>\n<pre><code class=\"language-bash\">npm install anvil.js -g\n</code></pre>\n<h3>2. Create a sandbox project to test your plugin in</h3><p>It is usually helpful to sandbox your plugin development just in case something goes terribly wrong. The last thing you want is to run a build and have it wipe out your entire project. These things can happen. Trust me.</p>\n<p>We&#39;ll create a generic project so we can rest easy.</p>\n<pre><code class=\"language-bash\">mkdir anvil-helloworld-sandbox\ncd anvil-helloworld-sandbox/\n</code></pre>\n<h3>3. Create your sandbox build.json file</h3><p>Anvil uses a file called build.json to determine which Anvil plugins will be used and how they will be used. The file will go at the root of our sandbox project directory. It can be as simple as this:</p>\n<pre><code class=\"language-javascript\">{}\n</code></pre>\n<p>In order to run our plugin, we&#39;ll need an extra line to pass in some configuration information. Our build.json will look like this:</p>\n<pre><code class=\"language-javascript\">{\n    &quot;anvil.helloworld&quot;: {\n        &quot;greeting&quot;: &quot;How are you today?&quot;    \n    }\n}\n</code></pre>\n<p>We&#39;ll revisit how to access the greeting we passed in. For the time being, you just need to know that you can use it.</p>\n<h3>4. Create your plugin directory</h3><p>We&#39;ll create a directory called &quot;anvil-helloworld&quot; where our plugin will live during development.</p>\n<pre><code class=\"language-bash\">mkdir anvil.helloworld\ncd anvil.helloworld\n</code></pre>\n<p>So, what does the anvil plugin need to work? Not much, really. A typical Anvil plugin directory would look something like this:</p>\n<pre><code class=\"language-text\">/anvil.helloworld\n    /lib\n        plugin.js\n    /spec\n        plugin.spec.js\n    /src\n        plugin.js\n    build.json\n    package.json\n    README.md\n</code></pre>\n<p>It&#39;s less complicated than it looks. Let&#39;s break it down.</p>\n<h4>build.json</h4><p>We&#39;ll be building our plugin with Anvil, so a build.json file is needed. For our purposes, there is no need for any configuration, so the entire file can just be an empty object:</p>\n<pre><code class=\"language-javascript\">{}\n</code></pre>\n<h4>package.json</h4><p>This is for npm (Node Package Management) to register the plugin. It should look something like this:</p>\n<pre><code class=\"language-javascript\">{\n  &quot;author&quot;: {\n    &quot;name&quot;: &quot;Tyson Cadenhead&quot;,\n    &quot;email&quot;: &quot;tcadenhead@appendto.com&quot;,\n    &quot;url&quot;: &quot;http://appendto.com&quot;\n  },\n  &quot;name&quot;: &quot;anvil.helloworld&quot;,\n  &quot;description&quot;: &quot;An example plugin for anvil&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;repository&quot;: {\n    &quot;type&quot;: &quot;git&quot;,\n    &quot;url&quot;: &quot;git://github.com/tysoncadenhead/anvil.helloworld.git&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;~0.8.15&quot;\n  },\n  &quot;main&quot;: &quot;./lib/plugin.js&quot;,\n  &quot;dependencies&quot;: {\n  },\n  &quot;devDependencies&quot;: {\n    &quot;anvil.js&quot;: &quot;&gt;=0.9.0&quot;\n  },\n  &quot;optionalDependencies&quot;: {},\n  &quot;readme&quot;: &quot;## Anvil Helloworld Plugin\\n\\nThis plugin requires anvil.js version 0.9.* or greater.\\n\\n## Installation\\n\\n\\tanvil install anvil.helloworld&quot;,\n  &quot;_id&quot;: &quot;anvil.helloworld@0.0.1&quot;,\n  &quot;_from&quot;: &quot;anvil.helloworld&quot;\n}\n</code></pre>\n<h4>/lib</h4><p>You won&#39;t need to worry about creating the /lib directory because you can use Anvil to build it from the /src files. One of the cool things about Anvil is that it is a perfect tool for building its own plugins.</p>\n<h4>/spec</h4><p>We won&#39;t focus much on the spec directory here, but it is for your unit tests. I would recommend writing <a href=\"http://visionmedia.github.com/mocha/\">Mocha tests</a> for any Anvil plugins that you create.</p>\n<h4>/src</h4><p>This is where the meat of the plugin is located. Our &quot;Hello World&quot; plugin.js would look like this:</p>\n<pre><code class=\"language-javascript\">var pluginFactory = function( _, anvil ) {\n\n    return anvil.plugin({\n\n        // Name of the plugin\n        name: &quot;anvil.helloworld&quot;,\n\n        // Activity list: &quot;pre-build&quot;, &quot;identify&quot;, &quot;pull&quot;, &quot;combine&quot;, &quot;pre-process&quot;, &quot;compile&quot;, &quot;post-process&quot;, &quot;push&quot;, &quot;test&quot;, &quot;post-build&quot;\n        activity: &quot;post-process&quot;,\n\n        // [ &quot;-h, --helloworld&quot;, &quot;Run this helloworld plugin&quot; ]\n        commander: [],\n\n        // This is to configure the plugin with\n        configure: function( config, command, done ) {\n            done();\n        },\n\n        // This is always called\n        run: function( done ) {\n            console.log(&quot;HELLO WORLD!!!&quot;);\n            done();\n        }\n\n    });\n\n};\n\nmodule.exports = pluginFactory;\n</code></pre>\n<p>Anvil plugins are created using the anvil.plugin() method. Every pluginFactory gets the underscore.js library and anvil passed in as its arguments.</p>\n<h3>5. Run your plugin locally</h3><p>To get anvil to use your plugin as a part of the build process, just navigate into the root of your plugin directory in the terminal and run:</p>\n<pre><code class=\"language-bash\">anvil install .\n</code></pre>\n<p>Now if you go back to your plugin sandbox directory and run anvil, you should see it log &quot;HELLO WORLD!!!&quot; among the other feedback it will give you.</p>\n<h3>6. Get config data in the plugin</h3><p>I told you we were going to talk about how to get our configuration data, didn&#39;t I?</p>\n<p>All of the config information is available in the this.config variable. For example, we can add the greeting that we had in the build.json file like this:</p>\n<pre><code class=\"language-javascript\">run: function( done ) {\n    console.log(&quot;HELLO WORLD!!!! &quot; + this.config.greeting);\n    done();\n}\n</code></pre>\n<p>There is also plenty of helpful configuration information inside of the anvil.config object. I would advise logging the entire object like this so that you can see what is available:</p>\n<pre><code class=\"language-javascript\">run: function( done ) {\n    console.log(anvil.config);\n    done();\n}\n</code></pre>\n<p>Some of the notable parameters are:</p>\n<ul>\n<li><strong>working</strong> - The path to the directory where temporary files are processed</li>\n<li><strong>source</strong> - The path where the original unbuilt project lives</li>\n<li><strong>spec</strong> - The path where unit tests live for the project</li>\n<li><strong>output</strong> - The directory where the files will live once the project is built</li>\n</ul>\n<p>The anvil.fs object also gives you access to the entire file system, which makes it easy to modify the files in your build.</p>\n<h3>7. Publish your Anvil plugin</h3><p>Once you&#39;ve finished writing your plugin, you will want to publish it.  You will need an account at <a href=\"https://npmjs.org/\">npmjs.org</a> in order to publish your plugin.</p>\n<p>After you have an account, you can just navigate to the directory of your plugin and run:</p>\n<pre><code class=\"language-bash\">npm publish\n</code></pre>\n<p>Anvil automatically pulls in any plugins in the anvil namespace, so your plugin will be available if you run &quot;anvil list&quot; in your terminal:</p>\n<pre><code class=\"language-bash\">anvil list\n</code></pre>\n<h3>8. Go make some awesome plugins!</h3><p>The &quot;Hello World&quot; plugin that we just walked through is <a href=\"https://github.com/tysoncadenhead/anvil.helloworld\">available on Github</a> for you to poke around with.</p>\n<p>There is really no limit to what you can do with Anvil plugins, so go fourth and conquer.</p>\n<p>If you use this tutorial to create an awesome Anvil plugin, please let me know. I&#39;d love to hear about it!</p>\n"},"what-is-jquery-map":{"published":true,"title":"What is jQuery.map?","tags":["jQuery","JavaScript"],"category":"code","date":"2-15-2013","thumbnail":"/images/blog/map.png","slug":"what-is-jquery-map"},"getting-the-most-out-of-your-time":{"published":true,"title":"Getting the Most Out of Your Time","tags":["Productivity"],"category":"productivity","date":"2-4-2013","thumbnail":"/images/blog/machine.png","slug":"getting-the-most-out-of-your-time","yield":"<p>A few years ago, I was working for a small startup in the financial industry. We were working against time to get an application finished before the dwindling money supply was depleted. In the end, we were not able to meet our mark. However, during my time there, I became known as &quot;the Machine&quot; because of my intent focus on our work.</p>\n<!-- more -->\n<p>Staying focused on development work can be more difficult than you might think. The very nature of our work demands that we are constantly online, almost always available for chat or quick voice conversations and sometimes even working directly in Facebook and other social networks, which have a nasty tendency to pull us in every direction but productivity.</p>\n<p>Software development is tricky because most of the work is done in your brain. You have to constantly keep track of where you are in your code. You also have to keep track of how the code you are working on relates to the entirety of the application. A distraction that lasts even just thirty seconds can get you off track to a point where it takes fifteen minutes or more to re-familiarize yourself with the code. </p>\n<p>I don&#39;t feel like I deserve a nickname like &quot;the Machine&quot; because I do lose my focus more often than I&#39;d like to admit. It is just as easy for a well oiled machine to lose focus as anyone else. Lately, I&#39;ve been working on developing a list of guidelines that can keep me from going down the dark road of distraction. Here are a few things that keep me on track.</p>\n<h3>Make a list of what you need to get done</h3><p>You could just write a list on a piece of paper each morning. I use <a href=\"http://wunderlist.com\">Wunderlist</a>. The key here is to leave your list in a place where you can easily see it throughout the day. Order your list starting with the things that you need to get done most urgently all the way down to the least important. When you get derailed, you can easily flip back to your list and see where you should be at. When something is finished, check it off the list. Start each day making your fresh list for the day.</p>\n<h3>Don&#39;t waste time on sites and social networks that don&#39;t help you reach your goals for the day</h3><p>It is very easy to justify flipping over to Facebook to see if anyone liked your latest cat photo. The danger is that the newsfeed can suck you in. For me, it is helpful to entirely restrict my access to the sites that I know will tempt me throughout the day. I use <a href=\"http://selfcontrolapp.com/\">Self Control</a> for the Mac, to entirely block my access to sites like Facebook, Twitter, and YouTube for large chunks of time while I&#39;m trying to focus. Checking social networks can become a mindless activity, so it is sometimes necessary to not allow yourself access to them.</p>\n<h3>Schedule social media breaks</h3><p>If you do need to keep up with things like Twitter or Email, it is better to schedule times to check them as well as times to keep them entirely closed. <a href=\"http://www.fourhourworkweek.com/blog/\">Tim Ferriss</a>, the author of the Four Hour Workweek, suggests checking your email and even snail mail as infrequently as once a month. That isn&#39;t practical for most of us who are expected to keep up with clients and coworkers, but it can be helpful to block off once or twice a day for checking social networks and email. That way, you don&#39;t get into the habit of mindlessly checking them throughout the day. It also helps to schedule your tweets and Facebook posts. That serves a dual purpose of allowing you to post at prime-time hours and also allows you use a certain section of the day or week to make them and still give the illusion that you&#39;re an active social media user.</p>\n<h3>Wear headphones</h3><p>Whether you work from home and need to tune out <a href=\"http://pbskids.org/daniel/\">Daniel Tiger&#39;s Neighborhood</a> on the TV in the next room, or you work in a traditional office setting and don&#39;t want to be distracted every time the guy in the next-door cubicle has a rant about Apple computers, keeping some music in your ears to drown out the chatter can be invaluable. It can also be helpful to take the occasional real-life break after a couple hours of focused working. I used to take a walk every day right before lunch. I really need to get back into that habit.</p>\n<h3>Prioritize things that can be done quickly</h3><p>If you have several things on your todo list that can be done in 15 minutes or less, it can sometimes be helpful to do them first. That way, you can build up momentum as you enter into the bigger tasks. Personally, if I feel like I&#39;m really winning in the small things, once I get to the bigger things that I&#39;ve been dreading, they don&#39;t feel as intimidating anymore because I already feel like a winner.</p>\n<h3>Use caffeine</h3><p>I always drink a cup of coffee in the morning and a cup of tea in the afternoon. I find that they help me to focus during the times of day when my mind starts to feel tired and fatigued.</p>\n<h3>Always look forward</h3><p>If you messed up yesterday and watched eight hours of Star Wars fan videos, don&#39;t worry about it. You can&#39;t control the mistakes you made in the past, but you can be more productive in the future. Start each day fresh and do the best you can.</p>\n<p>As an addendum, I was distracted seven separate times while I was writing this. All seven times were real-life distractions that had absolutely nothing to do with the internet. These sorts of distractions can&#39;t always be avoided and luckily, it is much easier to regain context when writing a blog entry than when writing a complex piece of code. The best way to avoid these distractions is to work in a separate space like a private office or a coffee shop where you can be free to completely get lost in your work.</p>\n<p>The thing that motivates me the most when my focus is waining is to think about how I will feel at the end of the day. If I let myself get easily distracted, I will accomplish less, feel less fulfilled and inevitably be exhausted at the end of the day. If I focus to the best of my ability, I will accomplish more, I will feel more fulfilled and though I might be tired at the end of the day, it will a good kind of exhaustion. I would rather feel that way any day.</p>\n<p>What do you do to stay focused and get the most out of your time? Do you use any productivity software that has become an invaluable part of your work-stream?</p>\n"},"hosting-multiple-websites-on-the-same-wordpress-installation":{"published":true,"title":"Hosting Multiple Websites on the Same WordPress Installation","tags":["Wordpress"],"category":"code","date":"1-28-2013","thumbnail":"/images/blog/wordpress.png","yield":"<p>I have several Wordpress websites that I&#39;ve designed and developed. Perhaps a little known secret is that I have all of the sites hosted inside a single Wordpress installation instead of hosting a completely unique installation for each site. Sharing a common code-base for the heavy lifting has some great benefits.</p>\n<!-- more -->\n<ul>\n<li>It takes up less space on my server.  Wordpress isn&#39;t huge considering what it does, but every 12.8 MB counts.</li>\n<li>It makes updates easier.  When there is a new version of Wordpress available, I can update it for all of my sites at once.</li>\n<li>Sharing plugins is nice.  Once you have installed a plugin for one of your sites, it&#39;s also available for all of your other sites without having to download it again for a separate Wordpress installation.</li>\n</ul>\n<p>So how do I host more than one site on the same installation?  I&#39;m glad you asked.</p>\n<p>First things first, you&#39;ll want to set up a local development environment. You&#39;ll use it to view your sites in locally so that you don&#39;t screw things up on your production server.</p>\n<p>If you haven&#39;t done this already, (download the latest version of Wordpress)[<a href=\"http://wordpress.org/download/\">http://wordpress.org/download/</a>] and put it under your /Sites/wordpress directory. Go through the installation process.  For the sake of this tutorial, I will be using <a href=\"http://www.apachefriends.org/en/xampp.html\">XAMPP</a> for Apache and mySQL, but feel free to use whatever Apache installation you like.</p>\n<p>Once you have Apache running and have installed Wordpress, it&#39;s time for the real fun to begin.</p>\n<p>You will need to add a few sites to your host file.  If you&#39;re on a Mac, you can get there by opening your terminal and typing</p>\n<pre><code class=\"language-text\">sudo vim /private/etc/hosts\n</code></pre>\n<p>If you are on Windows, it&#39;s probably somewhere around:</p>\n<pre><code class=\"language-text\">C:\\system32\\drivers\\etc\\hosts\n</code></pre>\n<p>For the sake of this tutorial, we&#39;ll say that we are hosting two Wordpress sites for now.  One of the sites is a blog about my dog, Arthur, so the URL will be <a href=\"http://mydogarthur.com\">http://mydogarthur.com</a> and the other site is about my love of tea and will be hosted at <a href=\"http://teatyson.com\">http://teatyson.com</a>. In order to view these sites locally, we would add these lines to our host file:</p>\n<pre><code class=\"language-text\">127.0.0.1       mydogarthur.loc\n127.0.0.1       teatyson.loc\n</code></pre>\n<p>Now, whenever we go to <a href=\"http://mydogarthur.loc\">http://mydogarthur.loc</a> or <a href=\"http://teatyson.loc\">http://teatyson.loc</a>, it will direct us to our local machine. If you&#39;ve never done anything like this, just be aware that 127.0.0.1 is always your local IP address.</p>\n<p>Once you update your hostfile, restart your Apache server and go to one of the addresses you added. It will probably give you a message telling you that the location is not available. That&#39;s fine, because we still have work to do.</p>\n<p>Now you will need to open your virtual hosts file. If you are using XAMPP, it will be under /xamppfiles/etc/extra/httpd-vhosts.conf. You will need to add a few lines to tell Apache what directory to serve up when your domains are accessed.</p>\n<pre><code class=\"language-text\">&lt;VirtualHost *:80&gt;\n    DocumentRoot &#39;/Users/wordpress/&#39;\n    ServerName mydogarthur.loc\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:80&gt;\n    DocumentRoot &#39;/Users/wordpress/&#39;\n    ServerName teatyson.loc\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>The last configuration you will need to do is in the wp-config.php file directly under the Wordpress root. If you&#39;ve gone through the Wordpress installation process, there should already be a database connection set up. You can copy your database if you go to <a href=\"http://localhost/phpmyadmin\">http://localhost/phpmyadmin</a>. We will make a copy called &quot;mydogarthurs_database&quot; and another copy called &quot;teatysons_database.&quot; Then, we will replace the database connection in wp-config.php with a switch statement like this:</p>\n<pre><code class=\"language-php\">switch($_SERVER[&quot;HTTP_HOST&quot;]) {\n\n    // Development\n\n    case &#39;mydogarthur.loc&#39;:\n        define(&#39;DB_NAME&#39;, &#39;mydogarthurs_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;mydogarthurs_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;mydogarthurs_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n    case &#39;teatyson.loc&#39;:\n        define(&#39;DB_NAME&#39;, &#39;teatysons_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;teatysons_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;teatysons_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n    // Production\n\n    case &#39;mydogarthur.com&#39;:\n        define(&#39;DB_NAME&#39;, &#39;mydogarthurs_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;mydogarthurs_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;mydogarthurs_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n    case &#39;teatyson.com&#39;:\n        define(&#39;DB_NAME&#39;, &#39;teatysons_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;teatysons_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;teatysons_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n}\n</code></pre>\n<p>Finally, restart your Apache server. You should have a different database connection for <a href=\"http://teatyson.loc\">http://teatyson.loc</a> and <a href=\"http://mydogarthur.com\">http://mydogarthur.com</a>. Since everything, including the theme is driven from the database, you can easily serve up completely different content from each domain.</p>\n"},"top-10-backbone-plugins":{"published":true,"title":"Top 5 Backbone Plugins","tags":["Backbone","JavaScript"],"category":"code","date":"1-22-2013","thumbnail":"/images/blog/plugin.png"},"how-can-i-share-ejs-templates-between-the-client-side-and-the-server-side":{"published":true,"title":"How Do I Share EJS Templates Between the Client-side and the Server-side?","tags":["EJS","Templates","Node","JavaScript"],"category":"code","date":"1-15-2013","thumbnail":"/images/blog/sharing.png","yield":"<p>The release of Node.js in 2009 ushered in discussions about the endless possibilities for sharing code between the client-side and the server side. While there are several good examples of entire libraries working very well on both ends, most of the projects that are written in Node tend to shy away from sharing the meat of the application with the browser. I think that the real issue is developers being stuck in our ways. We are trying to write traditional web apps in a language that can actually go beyond what traditional scripting languages were even capable of.</p>\n<!-- more -->\n<p>The way I am going to propose we build a Node web application isn&#39;t a typical MVC setup. However, if we are trying to be purposeful about sharing components, I feel like it really works.</p>\n<p>For the sake of this discussion, I&#39;ll be using <a href=\"http://expressjs.com/\">Express.js</a> and <a href=\"http://underscorejs.org/\">Underscore</a>. I will also assume that you are familiar with Node and have it running locally on your machine.</p>\n<p>This is what our folder structure will look like:</p>\n<pre><code>/app\n   /config\n   /controllers\n   /shema\n/public\n   /css\n   /images\n   /js\n      /models\n      /collections\n      /controllers\n      app.js\n   /templates\nserver.js\n</code></pre><p>We will need to start by creating a project.</p>\n<pre><code>mkdir myProject\ncd myProject\nnpm init\nnpm install express\nnpm install underscore\nnpm install express-ejs-layouts\n</code></pre><p>Now that we&#39;ve create our project and installed our dependencies, we can create our server.js file.</p>\n<pre><code class=\"language-javascript\">var express = require( &#39;express&#39; ),\n    expressEjsLayouts = require(&#39;express-ejs-layouts&#39;),\n    app = express();\n\n// Express EJS views\napp.set(&#39;views&#39;, &#39;./public/templates&quot;&#39;);\napp.set(&#39;view engine&#39;, &#39;ejs&#39;);\napp.set(&#39;layout&#39;, &#39;layout&#39;);\napp.use(expressEjsLayouts);\n\napp.listen(8080);\napp.use(express[&#39;static&#39;](&#39;./public&#39;));\n</code></pre>\n<p>Note that we&#39;re pointing our views to the public templates directory. We are also making the public directory serve up static files. That way, it can be entirely used by the client side.</p>\n<p>Next, we&#39;ll need to create our templates. We&#39;ll throw them into the /public/templates/people directory. We will add an index.ejs file that lists all of the people.</p>\n<pre><code class=\"language-html4strict\">&lt;ul id=&quot;people&quot;&gt;\n   &lt;% people.forEach(person) { %&gt;\n      &lt;%- include show.ejs %&gt;\n   &lt;% }) %&gt;\n&lt;/ul&gt;\n&lt;h1&gt;Add a Person&lt;/h1&gt;\n&lt;form id=&quot;add&quot;&gt;\n   &lt;input id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;\n   &lt;input type=&quot;submit&quot; value=&quot;Add&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The include tag is unique to the server-side implementation of EJS, so we won&#39;t be able to use /people/index.ejs on the client-side.</p>\n<p>Now, we will include a show.ejs in the same directory. It will render the individual people in the list.</p>\n<pre><code class=\"language-html4strict\">&lt;li&gt;&lt;%= person %&gt;&lt;/li&gt;\n</code></pre>\n<p>You may have also noticed that we have a layout listed in our server.js file. We will need to create a  /public/templates/layout.ejs file to provide our layout. The client-side won&#39;t need to use layout.ejs, but it doesn&#39;t hurt anything for it to be public.</p>\n<pre><code class=\"language-html4strict\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;%- body %&gt;\n      &lt;script type=&quot;text/javascript&quot; data-main=&quot;/js/app.js&quot; src=&quot;http://requirejs.org/docs/release/2.1.2/minified/require.js&quot;&gt;&lt;/script&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>If we were going to flesh out the entire folder structure I presented in the beginning, the next part would be split out between a model and a controller. However, we can just add it to the bottom of server.js file for the sake of simplicity. It will take any request to /people and render the index.ejs template with the fake data we pass into it.</p>\n<pre><code class=\"language-javascript\">app.get(&#39;/people&#39;, function (req, res) {\n   var people = [{\n      name: &#39;Pooh&#39;\n   }, {\n      name: &#39;Tigger&#39;\n   }, {\n      name: &#39;Rabbit&#39;\n   }, {\n      name: &#39;Piglet&#39;\n   }];\n   res.render(&#39;people/index&#39;, { people: people });\n});\n</code></pre>\n<p>The last piece is our client-side JavaScript. A real application should split this out into more pieces as well, but we will just put everything in our js/app.js file for this demonstration.</p>\n<pre><code class=\"language-javascript\">requirejs.config({\n   paths: {\n      &#39;jquery&#39;: &#39;http://code.jquery.com/jquery-1.8.3.min.js&#39;,\n      &#39;underscore&#39;: &#39;http://underscorejs.org/underscore-min.js&#39;,\n      &#39;text&#39;: &#39;https://raw.github.com/requirejs/text/latest/text.js&#39;\n   }\n});\n\ndefine([\n   &#39;underscore&#39;,\n   &#39;jquery&#39;,\n   &#39;text!/templates/people/show.ejs&#39;\n], function (_, $, Template) {\n\n   $(&#39;#add&#39;).bind(&#39;submit&#39;, function () {\n\n      var template = _.template(Template),\n          data = { person: {\n             name: $(&#39;#name&#39;).val()\n          }};\n\n      $(&#39;#list&#39;).append(\n         template(data);\n      );\n\n      return false;\n\n   });\n});\n</code></pre>\n<p>As you can see, the above example reuses our template partial to update the display. This is obviously a very simple and contrived example of how templates can be shared, but the concept can be used much more broadly. There is probably no legitimate reason for any sensitive data to be openly viewable in a template, so making all the templates public should never be a problem.</p>\n<p>In the next few weeks, I&#39;m going to expand this discussion to address how this same concept can be applied to create a fully functional Backbone app that also shares models and collections between the client-side and the server-side. The main thing to remember when we are taking this approach is to not include anything that is sensitive in the public folder. If people can read your source code, they probably will.</p>\n<p>Has anyone else experimented with sharing code between the Node and the browser? What are your thoughts on it?</p>\n"},"underscore-fire":{"published":true,"title":"_.fire(): A Plugin for Underscore","tags":["Underscore","JavaScript","Open Source"],"category":"code","date":"1-9-2013","thumbnail":"/images/blog/fire.png","slug":"underscore-fire"},"resolutions-2013":{"published":true,"title":"2013 Resolutions","tags":["Goals"],"category":"productivity","date":"1-1-2013","thumbnail":"/images/blog/setgoals.png","slug":"resolutions-2013"},"off-the-charts-jquery-toastchart-plugin":{"published":true,"title":"Introducing the jQuery ToastChart Plugin","tags":["JQuery","JavaScript","Open Source"],"category":"code","date":"12-9-2012","thumbnail":"/images/blog/charts.png","slug":"off-the-charts-jquery-toastchart-plugin"},"my-new-standup-desk":{"published":true,"title":"My New Standup Desk","tags":["Health"],"category":"health","date":"11-17-2012","thumbnail":"/images/blog/standingdesk.png","slug":"my-new-standup-desk"},"cross-domain-post-delete-and-pu":{"published":true,"title":"Cross-Domain Ajax Using POST, DELETE and PUT Methods","tags":["JavaScript","Ajax"],"category":"code","date":"10-17-2012","thumbnail":"/images/blog/communication.png","yield":"<p>I&#39;ve recently been working on a JavaScript API that interfaces with a REST-based server-side API and handles cross-domain issues while still allowing GET, POST, PUT and DELETE methods to be fired from anywhere on the web.  Due to cross-domain security issues at the browser level, making POST, PUT and DELETE requests can be a lot harder than you might think.</p>\n<!-- more -->\n<p>Let&#39;s say for the sake of argument that you have a domain at foo.com that needs to interact with an API at bar.com.  You can easily get around the cross domain issues using JSONP, but the limitation is that since JSONP is a hack that pretends that the ajax response is just a normal JavaScript file, it only allows for the data to be retrieved through the GET method.</p>\n<p>My first thought on how to get around that issue was that I could use a hidden iframe to pass data into.  The issue with that is that iframes in different domains can&#39;t communicate with each other.  Or at least, they can&#39;t communicate very easily with each other.  In truth, the only control that the parent page has over the child page is the ability to change the child&#39;s url. The child page has absolutely no ability to communicate with a parent in a different domain.  In theory, that would make responding to an ajax call impossible, but the child iframe can render a child iframe inside of itself that can communicate with its grandparent using window.parent.parent</p>\n<p>So you see, we have the ability to do cross-domain iframe communication using a proxy file for the requested domain and a proxy file for the response domain.  In the end, the process comes out looking like this:</p>\n<iframe width=\"560\" height=\"315\" src=\"http://www.youtube.com/embed/lg1Rwddms7U\" frameborder=\"0\" allowfullscreen></iframe>\n\n<p>In order to make the process of cross-domain Ajax calls easier, I&#39;ve written a jQuery plugin that allows you to put an HTML proxy on both your request domain and your response domain.  All of the tricky details are taken care of.  Check out the <a href=\"https://github.com/tysoncadenhead/jquery-ajaxproxy\">GitHub Repo</a> to get started.  I&#39;ve also created a <a href=\"http://sandbox1.tysonlloydcadenhead.com/ajaxproxy/example.html\">live demo</a> of the jQuery Ajax Proxy that shows how you can use GET, POST, PUT and DELETE across domains.  Let me know what you think.</p>\n"},"open-sourcing-some-javascript-libraries":{"published":true,"title":"Open-Sourcing Various JavaScript Libraries","tags":["Goals"],"category":"code","date":"9-7-2012","thumbnail":"/images/blog/confused.png","slug":"open-sourcing-some-javascript-libraries"},"book-review-html5-for-web-designers":{"published":true,"title":"Book Review: HTML5 for Web Designers","tags":["Book","HTML"],"category":"code","date":"1-23-2012","thumbnail":"/images/blog/reading.png","yield":"<p>A few days ago I realized that I read a lot of books and articles about JavaScript and web development and that this would be a good place to share my thoughts about them both for my own reference and maybe even for helping other people out.  In the interest of that revelation, I present to you a quick review of HTML5 for Web Designers by Jeremy Keith of A Book Apart.</p>\n<!-- more -->\n<p>The cool thing about this book is that I was able to get it on store credit at <a href=\"http://mckaybooks.com/locations/nashville/\">McKay</a>, Nashville&#39;s best used book store.  If you&#39;ve ever looked for used books on technology, you know that most of them are over ten years old and haven&#39;t been relevant for almost that long, so a modern book like this was a great find.</p>\n<p>This is a really easy and quick read.  It&#39;s a pretty thin book and I was able to breeze through it in the course of a couple of days.  It&#39;s a very basic overview of what you can do with HTML5, so I wouldn&#39;t expect anything as expansive and heavy as the 900 page HTML5 spec, which is probably a good thing considering that it&#39;s not fun or easy to read something that long.</p>\n<p>You get a taste of everything from video and audio and their current limitations to the canvas and the new HTML5 input types and attributes.  This book made me excited to be in the web development space because there is so much growth happening and there is sure to be a lot more to come soon.  It wasn&#39;t terribly heavy on JavaScript, which is always disappointing to me, but there are some examples of how to accomplish backwards compatibility for native HTML5 behavior using my favorite scripting language.</p>\n<p>I would recommend this book to any front-end developer wanting to cut their teeth on some more cutting-edge experiences.  It made me want to go out and write a JavaScript library to ensure backwards compatibility so we can use more HTML5 form types now, and in my book, anything that makes me want to write JavaScript was worth my time.  Unfortunately, that means that everything is worth my time.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=FFFFFF&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=qf_sp_asin_til&amp;asins=0984442502\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>","slug":"book-review-html5-for-web-designers"},"writing-a-good-api":{"published":true,"title":"Writing a Good API","tags":["JavaScript"],"category":"code","date":"12-17-2011","thumbnail":"/images/blog/api.png","slug":"writing-a-good-api"},"detecting-javascript-popup-blockers":{"published":true,"title":"Detecting JavaScript Popup Blockers","tags":["JavaScript"],"category":"code","date":"10-10-2011","thumbnail":"/images/blog/popup.png","yield":"<p>Most of us can agree that spawning popups with JavaScript is usually a user experience FAIL.  We&#39;ve all been to websites that opened several popup ads. That is always something to avoid.  Malicious and ad-happy sites have made it necessary for browser plugins and some browsers to block JavaScript popups altogether.</p>\n<!-- more -->\n<p>But there are some examples where popups are actually necessary. The main thing to remember when it does become necessary is to make the popup window a response to a user action.  Usually a popup should be triggered by a clicking a link or a button rather than opening it on page load.  That way the popup is not instantly perceived as an ad and closed by your user.</p>\n<p>When using a popup does become necessary and you have exhausted every other options including more attractive modal windows and nothing works for the user interaction, the next concern becomes what to do when the popup is inevitable blocked.</p>\n<p>The answer may look very similar to a progressive enhancement technique, but I wouldn&#39;t consider it one since the browsers with a popup blocker enabled are often more advanced than those without.</p>\n<p>We&#39;ll start out making a very normal-looking link that targets a blank window to open the site inside of.  That should look something like this:</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;http://google.com&quot; id=&quot;googleLink&quot; target=&quot;_blank&quot;&gt;Go To Google!&lt;/a&gt;\n</code></pre>\n<p>The link will totally work on its own without the aid of JavaScript, it will just open in a new window instead of a popup.  Now let&#39;s add the JavaScript.  The event listener is written in jQuery, but feel free to rewrite it using your library of choice or none at all.</p>\n<pre><code class=\"language-javascript\">$(&#39;#googleLink&#39;).bind(&#39;click&#39;, function () {\n   var popUp = window.open($(this).attr(&#39;href&#39;), &#39;googleWindow&#39;, \n   &#39;width=600, height=300, scrollbars, resizable&#39;);\n   if (!popUp || typeof(popUp) === &#39;undefined&#39;) {\n      return true; \n   } else {   \n     popUp.focus();\n     return false;\n   }\n});\n</code></pre>\n<p>Popup blockers work by redefining the window.open() function.  Part of the beauty of Javascript is that you can redefine literally any variable or object.  If you even wanted to redefine the document object or the window object, you actually could.  So the popup blockers will typically make the window.open() function return either null or undefined, which means that we can create the popup as a variable and then test to see if the variable actually returns as anything.  If it does, we can assume that the popup opened and return false so that the link doesn&#39;t fire off.  If it doesn&#39;t, we can return true to let the link do its work.</p>\n<p>Here is a working example of the code above:</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;http://google.com&quot; id=&quot;googleLink&quot; target=&quot;_blank&quot;&gt;Go To Google!&lt;/a&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n$(&#39;#googleLink&#39;).bind(&#39;click&#39;, function () {\n   var popUp = window.open(&#39;http://google.com&#39;, &#39;googleWindow&#39;, \n   &#39;width=600, height=300, scrollbars, resizable&#39;);\n   if (!popUp || typeof(popUp) === &#39;undefined&#39;) {\n      return true; \n   } else {   \n     popUp.focus();\n     return false;\n   }\n});\n&lt;/script&gt;\n</code></pre>\n<p>As you can see, it&#39;s fairly easy to detect popup blockers and react to them.  Be careful with your new-found power.  If I haven&#39;t made myself clear, there&#39;s nothing worse than a site with a bunch of popups.</p>\n"},"do-javascript-libraries-need-an-abstraction-layer":{"published":true,"title":"Do JavaScript Libraries Need an Abstraction Layer?","tags":["JavaScript"],"category":"code","date":"1-21-2011","thumbnail":"/images/blog/abstract.jpg","slug":"do-javascript-libraries-need-an-abstraction-layer","yield":"<p>This is something that I have been trying to make up my mind on over the past year and a half at least.  The question?  Do JavaScript libraries need an abstraction layer?</p>\n<p>Just to clear the air a little before we jump into the discussion, if you are making a small website, this doesn&#39;t apply.  I&#39;m talking about large, scalable JavaScript applications.</p>\n<!-- more -->\n<p>An abstraction layer is basically code that extends the functions that do the heavy lifting.  It is used so that you don&#39;t call the code that is doing the work directly.  For example, if you are using jQuery, and you want to make an Ajax call, instead of firing the $.ajax() function, you would call a different function, like <code>myApplication.ajax()</code> which turns around and calls <code>$.ajax()</code>.</p>\n<p>There are obviously some drawbacks to this approach, but there are also benefits.  Here are the benefits as I see them:</p>\n<ul>\n<li>Your JavaScript modules become dumb to the JavaScript library you are using.  For all your modules know, you could be using jQuery or you could be using YUI, and frankly, they don&#39;t care.  All they care about is that they are calling <code>myApplication.ajax()</code> and they expect to do an Ajax call.</li>\n<li>Since the modules don&#39;t know what library is being used, you can easily switch out the library that you are using.  Is Prototype not cutting it for you?  Just switch out the code in the abstraction layer and you are suddenly using jQuery... and your modules are never the wiser!</li>\n<li>You get more control over individual library functions.  Let&#39;s say that the jQuery DOM manipulation is exactly what you need, but you need something a little different for Ajax calls.  You could even use the abstraction layer to point to your own homespun solutions.</li>\n<li>This approach makes your code more loosely coupled, which is typically a good thing.</li>\n</ul>\n<p>However, with the benefits come the drawbacks.  Here are some of the drawbacks I&#39;ve though of:</p>\n<ul>\n<li>In a way, JavaScript libraries are already an abstraction themselves for the native JavaScript.  How deep does it need to go?  We could be getting into a ridiculous Russian doll situation here...</li>\n<li>Speed is always a concern.  Every time you create a function, it takes another fraction of a second to execute.  That&#39;s why you should never instantiate a function inside of a loop.  This probably isn&#39;t a huge concern when it comes to JavaScript library abstraction layers.  It may not even be worth mentioning, but when you are adding a function to call another function, it raises these sorts of thoughts.</li>\n<li>There is always the chance that things will get messy.  When you write your code, you may know that myApplication.save() does an Ajax call to save the information inside a form to the server, but what about the developers who come after you?  Also, without proper training, other developers will just write code the &quot;normal&quot; way on top of yours, making you have an ugly mixture of abstracted code and direct calls to the library functions.</li>\n<li>What is the chance that you are actually going to replace your library?  It does sometimes happen, but people who write in jQuery usually stay in jQuery.  The ability to switch out the underlying library one piece at a time is pretty awesome, but it causes one to wonder how often it is really a concern.  This same sort of dilemma happens on the client-side when Coldfusion companies decide to switch to .NET, but there&#39;s no way to facilitate the change so easily as you can with a JavaScript library abstraction layer.  Is it really even necessary on the client-side</li>\n</ul>\n<p>What do you think?  Do JavaScript libraries need an abstraction layer?  You tell me.</p>\n"},"parsing-coldfusion-json-on-the-client-side":{"published":true,"title":"Parsing Coldfusion JSON on the Client-side","tags":["JavaScript","Coldfusion"],"category":"code","date":"8-6-2011","thumbnail":"/images/blog/eskimo.png","slug":"parsing-coldfusion-json-on-the-client-side"},"fat-models-and-skinny-controllers-in-javascript":{"published":true,"title":"Fat Models and Skinny Controllers in JavaScript","tags":["JavaScript","Architecture"],"category":"code","date":"7-14-2011","thumbnail":"/images/blog/controller.png","slug":"fat-models-and-skinny-controllers-in-javascript","yield":"<p>I&#39;ve recently been thinking about what it would mean to emulate the MVC best practice of skinny controllers that started in the confines of server-side development within the much more glamorous language and beautiful JavaScript. For those of you who haven&#39;t read some of my previous posts, I am a huge advocate of using Model View Controller architecture in client-side code as well as on the server-side. I&#39;ve written in depth about what MVC looks like on the client-side, so I won&#39;t bother to delve into that explanation here.</p>\n<!-- more -->\n<p>The basic idea of skinny controllers is that the models in the MVC architecture should really do more heavy lifting than they traditionally handel because the models are more reusable than the controllers, which should really be serving their proper role of directing traffic, or in the case of client-side controllers, listening for events and responding to them.</p>\n<p>Following the fat model, skinny controller mantra to its logical place in client-side code, the places where the model should do the heavy lifting are:</p>\n<ul>\n<li>Validation in the case of CRUD functionality and post methods.</li>\n<li>Type-conversions and data manipulation.</li>\n<li>Storing data in memory or in HTML5 databases to minimize server hits.</li>\n</ul>\n<p>The benefit of all of these being in the model layer rather than the controller layer, or worse yet, in the views, is that multiple events in the controller can easily tap into the same functionality, which cuts down on duplicate code and lowers the risk of making variations in type-conversion or validation.</p>\n<p>For example, if a view is hitting a JSON datasource to get information about a user, the JSON might look something like this:</p>\n<pre><code class=\"language-javascript\">{\n   &#39;id&#39;: 1112,\n   &#39;firstname&#39;: &#39;Darth&#39;,\n   &#39;lastname&#39;: &#39;Vader&#39;,\n   &#39;birthday&#39;: 1256953732\n}\n</code></pre>\n<p>and our JavaScript model, which uses jQuery to make Ajax calls, might look something like this:</p>\n<pre><code class=\"language-javascript\">myApp.Model.User = {\n\n    /**\n    * @function\n    * @param {Object} params\n    * @param {Function} success\n    * @param {Function} error\n    */\n    find: function(params, success, error) {\n\n        // This assumes that you are using a getter / setter to save data to memory\n        if (myApp.get(&#39;user_&#39; + data.id)) {\n            success(myApp.get(&#39;user_&#39; + data.id));\n\n        // Get the data via Ajax if it&#39;s not in memory\n        } else {\n\n            $.ajax({\n                url: &#39;/myapp/user/get&#39;,\n                data: params,\n                dataType: &#39;json&#39;,\n                type: &#39;get&#39;, \n                success: function(data) {\n\n                    // Here, we do a little data manipulation so that \n                    // we don&#39;t have to do this in the controller or the view\n\n                    data.name = data.firstname + &#39; &#39; + data.lastname;\n                    data.birthday = new Date(data.birthday);\n\n                    // Use some type of getter / setter to save the data to memory\n                    myApp.set(&#39;user_&#39; + data.id, data);\n\n                    // Fire off the success function after the data manipulation\n                    success(data);\n\n                },\n                error: error\n            });\n\n        }\n    }\n\n};\n</code></pre>\n<p>The model above is much larger than it could be, but all of the type-conversion and storing to local memory are now happening at the data level where it should be rather than being misplaced in the controller or the view.</p>\n<p>I have to admit, I&#39;ve only been thinking this direction for a few days when it comes to the client-side, but it has radically changed my viewpoint on what I think the model should actually be doing in an Ajax application.</p>\n"},"making-browser-specific-css-less-intrusive-with-sass":{"published":true,"title":"Making Browser-Specific CSS Less Intrusive with SASS","tags":["CSS","SASS"],"category":"code","date":"5-30-2011","thumbnail":"/images/blog/browsers.png"},"writing-javascript-for-speed":{"published":true,"title":"Writing JavaScript for Speed","tags":["JavaScript"],"category":"code","date":"4-9-2011","thumbnail":"/images/blog/running.jpg"},"jquery-event-listening":{"published":true,"title":"jQuery Event Listening","tags":["JavaScript"],"category":"code","date":"4-1-2011","thumbnail":"/images/blog/listening.jpg","slug":"jquery-event-listening"},"writing-markup-for-future-enhancement":{"published":true,"title":"Writing Markup for Future Enhancement","tags":["HTML"],"category":"code","date":"3-24-2011","thumbnail":"/images/blog/robot.png","slug":"writing-markup-for-future-enhancement"},"what-does-a-successful-ajax-application-need":{"published":true,"title":"What Does a Successful JavaScript Application Need?","tags":["JavaScript"],"category":"code","date":"3-11-2011","thumbnail":"/images/blog/success.jpg","slug":"what-does-a-successful-ajax-application-need"},"web-developers-and-health":{"published":true,"title":"Web Developers and Health","tags":["Apps","Health"],"category":"health","date":"3-6-2011","thumbnail":"/images/blog/weights.jpg"},"replacing-href-attributes-with-onclick-events-with-regex":{"published":true,"title":"Replacing href attributes with onClick events with Regex","tags":["JavaScript","Regex"],"category":"code","date":"2-23-2011","thumbnail":"/images/blog/onclick.jpg","slug":"replacing-href-attributes-with-onclick-events-with-regex"},"dont-be-a-user-interface-hoarder":{"published":true,"title":"Dont Be a User Interface Hoarder","tags":["User Interface"],"category":"design","date":"2-19-2011","thumbnail":"/images/blog/hoarder.jpg","yield":"<p>For some reason, I keep watching episodes of a television show called &quot;Hoarders.&quot;  If you haven&#39;t seen it, it&#39;s about people who collect stuff.  Collecting stuff is one thing, but these people have no organizational system for the items that they collect.  They literally have piles of so much useless junk that their houses become essentially unlivable.  Many of them don&#39;t even have a single walkway to navigate through their homes.  They could lead better lives, but they are unwilling to let go of their material possessions.</p>\n<!-- more -->\n<p>I think that is exactly what happens in technology when a good user interface goes bad.  I know that there are user interfaces that are legitimately bad to start with, but that&#39;s beyond the point of this discussion.</p>\n<p>As designers and developers, we make interfaces that provide wonderful user experiences.  After which our clients and sometimes even end-users will come back with items that simply have to be added to the interface.</p>\n<p>Sometimes the additions really are necessary and sometimes they aren&#39;t.  For the sake of discussion let&#39;s say that the additions actually are necessary.</p>\n<p>What happens when you have an interface that doubles or triples in visual complexity?  Practically speaking, it will make the user lose focus.  It will make them unsure of what they are supposed to do and how they are supposed to do it.  Simple tasks will take them longer.  In the worst case, they will give up on your interface and move on to something else.</p>\n<p>The people creating the software or making the decisions about the software may feel like everything they are adding is needed.  However, in the end, you have to let some things go.  Otherwise you are just another user interface hoarder.</p>\n<p>Here are some valuable questions to ask if you&#39;re planning to add something to an existing interface:</p>\n<h3>Is this really needed?</h3><p>Some additions are important and others are not.  Something that is flashy or &quot;cool&quot; may not necessarily be something that will make life easier or better for your user.</p>\n<h3>Will this improve the user experience?</h3><p>In many cases, the client is going to want to get as much information about the user as possible.  Information is valuable.   The more we know about our users, the more we can improve their experience in the long run.  The problem comes when asking questions to the user gets in the way of their current experience.  If you can, find ways to get to know the user without making them fill our lengthy forms.  Nobody likes filling out forms.  Forms are even worse on mobile devices without an external keyboard. If you want your user to submit a form, a basic rule is to make it short.</p>\n<h3>Does everything need to be shown at once?</h3><p>If you determine that everything you&#39;re adding is important, perhaps you can make the interface a little easier by not showing the user everything at once. Forms are often easier to complete in short steps where the user can focus on one question at a time.  This also makes it easier for the user to react to form validation, because the problematic fields will be fresh in their minds.</p>\n<h3>Emphasize the things that are of the highest import</h3><p>I&#39;m not here to give a lesson on graphic design, but if something is important, like a call to action, it should stand out.  The user needs to be drawn to it.  Once you start emphasizing what is extremely important, you may find that some of the less important things can be cut.</p>\n<p>Nobody is going to leave you interface or website because it is too simple.  However, if your interface is too hard too use, it will probably only take a few short seconds for your users to leave and never return.  If you want to give your users a rewarding experience with your application, you just may have to clean your house.</p>\n"},"jquery-mobile-vs-sencha-touch":{"published":true,"title":"jQuery Mobile vs. Sencha Touch","tags":["Mobile","jQuery Mobile","Sencha Touch"],"category":"code","date":"2-17-2011","thumbnail":"/images/blog/mugs.jpg","slug":"jquery-mobile-vs-sencha-touch"},"javascript-variable-casing-best-practices":{"published":true,"title":"JavaScript Variable Casing Best Practices","tags":["JavaScript"],"category":"code","date":"2-8-2011","thumbnail":"/images/blog/casing.jpg","slug":"javascript-variable-casing-best-practices"},"script-loaders":{"published":true,"title":"Script Loaders","tags":["JavaScript"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/loader.jpg"},"putting-ext-mvc-on-hold":{"published":true,"title":"Putting EXT MVC on Hold","tags":["EXT","Architecture"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/stop.jpg","slug":"putting-ext-mvc-on-hold"},"mvc-and-extjs--2-config":{"published":true,"title":"Configuration For EXTJS MVC Applications","tags":["EXT","Architecture"],"category":"code","date":"11-1-2010","thumbnail":"/images/blog/2.png","slug":"mvc-and-extjs--2-config"},"mvc-and-extjs-1-introduction":{"published":true,"title":"Getting Started with MVC and EXTJS","tags":["EXT","Architecture"],"category":"code","date":"10-20-2010","thumbnail":"/images/blog/1.png","slug":"mvc-and-extjs-1-introduction"},"sencha-loading-in-the-iphone-4g":{"published":true,"title":"Sencha Loading in the iPhone 4","tags":["Sencha Touch"],"category":"code","date":"10-19-2010","thumbnail":"/images/blog/loading.png","slug":"sencha-loading-in-the-iphone-4g"},"javascript-variables-accessibility":{"published":true,"title":"Javascript Variables' Accessibility","tags":["JavaScript"],"category":"code","date":"8-24-2010","thumbnail":"/images/blog/wheelchair.png","slug":"javascript-variables-accessibility"},"sencha-application-event-listening":{"published":true,"title":"Sencha Application Event Listening","tags":["Sencha Touch","EXT"],"category":"code","date":"7-17-2010","thumbnail":"/images/blog/senchalistening.png"},"should-i-use-a-javascript-framework":{"published":true,"title":"Should I Use a JavaScript Framework?","tags":["JavaScript"],"category":"code","date":"6-12-2010","thumbnail":"/images/blog/framework.png","slug":"should-i-use-a-javascript-framework"},"seo-safe-links-with-an-ajax-callback":{"published":true,"title":"SEO-Safe Links with an Ajax Callback","tags":["JavaScript","HTML","jQuery"],"category":"code","date":"4-8-2010","thumbnail":"/images/blog/seosafe.png","slug":"seo-safe-links-with-an-ajax-callback"},"javascriptmvc":{"published":true,"title":"Getting Started with JavaScript MVC","tags":["JavaScript","JavaScriptMVC"],"category":"code","date":"3-30-2010","thumbnail":"/images/blog/mvc.png"},"javascript-architecture":{"published":true,"title":"Javascript Architecture","tags":["JavaScript","Architecture"],"category":"code","date":"3-11-2010","thumbnail":"/images/blog/architecture.png","slug":"javascript-architecture"},"links-and-user-experience":{"published":true,"title":"Links and User Experience","tags":["User Experience","Design"],"category":"design","date":"2-21-2010","thumbnail":"/images/blog/links.png"},"what-is-user-experience-user-interface":{"published":true,"title":"What is UI / UX?","tags":["Design","UI","UX"],"category":"design","date":"2-11-2010","thumbnail":"/images/blog/uiux.png"},"what-google-looks-for":{"published":true,"title":"Search Engine Optimization 101","tags":["SEO"],"category":"code","date":"1-29-2010","thumbnail":"/images/blog/search.png","slug":"what-google-looks-for"},"code-seperation":{"published":true,"title":"Code Separation","tags":["Architecture"],"category":"code","date":"1-28-2010","thumbnail":"/images/blog/seperation.png","yield":"<p>A couple of years ago, if you had asked me what my take on design patterns for internet applications was, I would have probably given you a blank, questioning stare.  You see, as sad as it is, proper design and architectural patterns aren&#39;t exactly the norm in the web development world.  Today, I&#39;m going to give you a quick overview on what architectural design patterns are and why they&#39;re important and then focus in on MVC.</p>\n<!-- more -->\n<h3>I like to have all of my code in one file.  Isn&#39;t that the best way?</h3><p>When I first started making websites, I was 13 years old.  This was just when the internet was becoming something more than a place for email and messaging groups.  I set up my first website, which was a Star Wars fan page on Geocities and I was very satisfied with it.  The problem was that within about a week, I  wanted to change my neon-green typefaces to red.  The problem was that I had hard-coded each of my headers to be shown in that brilliant neon-green.  I couldn&#39;t just flip a switch or re-write a single line of code and change my beautiful comic-sans typography, I had to go through every single page and change every single hexadecimal value.  This took hours.  It took so long, in fact, that by the time that I was done, I had changed my mind and decided that I would prefer a blue typeface instead.  This was before I knew anything about external style sheets, and in all actuality, I&#39;m not entirely certain that my early version of Internet Explorer would have even supported them.</p>\n<p>Fast forward ten years.  By this point I&#39;ve learned the importance of having separation in my client-side code.  I have all of my Javascript, CSS, flash, images and media sitting in their own tidy folders and I&#39;ve even gotten a master page and includes.  Let&#39;s even say for the sake of argument that I&#39;ve been able to stay away from writing inline queries to my database and I even have a code-behind file doing the actual work for each of my pages.  I&#39;m doing pretty good, right?  Wrong.  The code still isn&#39;t all that separated.  My code-behind file is a jumble of actions that the page is supposed to perform, queries to the database, whether inline or through a function, and display logic.  When you have an entire development team working to decipher and update code under these circumstances, you end up with confusion that hasn&#39;t been rivaled since the tower of Babel.  There has to be a better and cleaner way to create code, right?  I&#39;m glad you asked.  Enter architectural patterns.</p>\n<h3>What are architectural patterns?  Why do I care?</h3><p>There are a large number of architectural patterns out there for development.  Some of the big important ones are:</p>\n<ul>\n<li>Model View Controller</li>\n<li>Model View ViewModel</li>\n<li>Model View Presenter</li>\n<li>Presentation Abstraction Control</li>\n</ul>\n<p>The basic idea behind all of these is to separate the coding logic into bite size pieces that can be easily found and manipulated and that link to the other related pieces correctly.  If you&#39;re a developer, these patterns will help you easily manipulate your own code and it will help anyone who comes after you as well.  If you are hiring a developer, it will save you money because instead of wrestling to get a project working, your developers will be dancing with the project.</p>\n<h3>What is MVC?</h3><p>MVC is an acronym for <em>Model-View-Controller</em>.  In this design pattern, every page is associated with a model, a view and a controller, which can all be found in appropriately labeled folders.</p>\n<h4>Controller</h4><p>When someone goes to a page, the controller is accessed.  It essentially acts as a traffic director, telling the browser what to do.  The controller will look to the model and to the view.</p>\n<h4>Model</h4><p>The model handles all of domain-specific data.  If your application uses a database, the model interacts with the database and builds objects that can be accessed in the view and in the controller.  It passes the objects back to them.</p>\n<h4>View</h4><p>The view is the display.  The view accesses any objects that are built in the model or in the controller.  Think of this as the display.</p>\n<p>This is just the very basic beginning point to understanding code separation and MVC.  For further reading on this and many other exciting subjects, subscribe to our RSS feeds and stay tuned.</p>\n","slug":"code-seperation"},"killing-ie6":{"published":true,"title":"Killing IE6","tags":["Browsers"],"category":"code","date":"1-27-2010","thumbnail":"/images/blog/ie6.png"}};
</script>

<div class="span8">

<article>

    <div class="well span2 left thumbnail  thumbnail-main">
      <img src="/images/blog/anvil.png" />
    </div>

    <h1>How Do You Write an Anvil.js Plugin?</h1>

    

    <h5><span class="label label-info"><a href="/?category=code">code</a></span> | 2-21-2013</h5>

    <p><a href="http://anviljs.com">Anvil.js</a> is a powerful &quot;Convention over configuration&quot; build tool that was built by <a href="http://twiiter.com/a_robson">Alex Robson</a> and sponsored by <a href="http://appendto.com">appendTo</a>, which is incidentally where I work now.</p>
<!-- more -->
<p>One of the most powerful things about Anvil is that it has an intentionally light core. It was meant to be primarily run by plugins. Authoring Anvil plugins is a pretty painless ordeal. Today, I&#39;m going to walk you through the process of creating an Anvil plugin. Once you see how simple it is, you&#39;ll probably find yourself writing plugins to make your own build more efficient. Let&#39;s get started.</p>
<h3>1. Install Anvil</h3><p>If you haven&#39;t installed <a href="http://anviljs.com">anvil</a> yet, that will be where you need to start. If you already have Node installed, you will just need to run this in the terminal:</p>
<pre><code class="language-bash">npm install anvil.js -g
</code></pre>
<h3>2. Create a sandbox project to test your plugin in</h3><p>It is usually helpful to sandbox your plugin development just in case something goes terribly wrong. The last thing you want is to run a build and have it wipe out your entire project. These things can happen. Trust me.</p>
<p>We&#39;ll create a generic project so we can rest easy.</p>
<pre><code class="language-bash">mkdir anvil-helloworld-sandbox
cd anvil-helloworld-sandbox/
</code></pre>
<h3>3. Create your sandbox build.json file</h3><p>Anvil uses a file called build.json to determine which Anvil plugins will be used and how they will be used. The file will go at the root of our sandbox project directory. It can be as simple as this:</p>
<pre><code class="language-javascript">{}
</code></pre>
<p>In order to run our plugin, we&#39;ll need an extra line to pass in some configuration information. Our build.json will look like this:</p>
<pre><code class="language-javascript">{
    &quot;anvil.helloworld&quot;: {
        &quot;greeting&quot;: &quot;How are you today?&quot;    
    }
}
</code></pre>
<p>We&#39;ll revisit how to access the greeting we passed in. For the time being, you just need to know that you can use it.</p>
<h3>4. Create your plugin directory</h3><p>We&#39;ll create a directory called &quot;anvil-helloworld&quot; where our plugin will live during development.</p>
<pre><code class="language-bash">mkdir anvil.helloworld
cd anvil.helloworld
</code></pre>
<p>So, what does the anvil plugin need to work? Not much, really. A typical Anvil plugin directory would look something like this:</p>
<pre><code class="language-text">/anvil.helloworld
    /lib
        plugin.js
    /spec
        plugin.spec.js
    /src
        plugin.js
    build.json
    package.json
    README.md
</code></pre>
<p>It&#39;s less complicated than it looks. Let&#39;s break it down.</p>
<h4>build.json</h4><p>We&#39;ll be building our plugin with Anvil, so a build.json file is needed. For our purposes, there is no need for any configuration, so the entire file can just be an empty object:</p>
<pre><code class="language-javascript">{}
</code></pre>
<h4>package.json</h4><p>This is for npm (Node Package Management) to register the plugin. It should look something like this:</p>
<pre><code class="language-javascript">{
  &quot;author&quot;: {
    &quot;name&quot;: &quot;Tyson Cadenhead&quot;,
    &quot;email&quot;: &quot;tcadenhead@appendto.com&quot;,
    &quot;url&quot;: &quot;http://appendto.com&quot;
  },
  &quot;name&quot;: &quot;anvil.helloworld&quot;,
  &quot;description&quot;: &quot;An example plugin for anvil&quot;,
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;repository&quot;: {
    &quot;type&quot;: &quot;git&quot;,
    &quot;url&quot;: &quot;git://github.com/tysoncadenhead/anvil.helloworld.git&quot;
  },
  &quot;engines&quot;: {
    &quot;node&quot;: &quot;~0.8.15&quot;
  },
  &quot;main&quot;: &quot;./lib/plugin.js&quot;,
  &quot;dependencies&quot;: {
  },
  &quot;devDependencies&quot;: {
    &quot;anvil.js&quot;: &quot;&gt;=0.9.0&quot;
  },
  &quot;optionalDependencies&quot;: {},
  &quot;readme&quot;: &quot;## Anvil Helloworld Plugin\n\nThis plugin requires anvil.js version 0.9.* or greater.\n\n## Installation\n\n\tanvil install anvil.helloworld&quot;,
  &quot;_id&quot;: &quot;anvil.helloworld@0.0.1&quot;,
  &quot;_from&quot;: &quot;anvil.helloworld&quot;
}
</code></pre>
<h4>/lib</h4><p>You won&#39;t need to worry about creating the /lib directory because you can use Anvil to build it from the /src files. One of the cool things about Anvil is that it is a perfect tool for building its own plugins.</p>
<h4>/spec</h4><p>We won&#39;t focus much on the spec directory here, but it is for your unit tests. I would recommend writing <a href="http://visionmedia.github.com/mocha/">Mocha tests</a> for any Anvil plugins that you create.</p>
<h4>/src</h4><p>This is where the meat of the plugin is located. Our &quot;Hello World&quot; plugin.js would look like this:</p>
<pre><code class="language-javascript">var pluginFactory = function( _, anvil ) {

    return anvil.plugin({

        // Name of the plugin
        name: &quot;anvil.helloworld&quot;,

        // Activity list: &quot;pre-build&quot;, &quot;identify&quot;, &quot;pull&quot;, &quot;combine&quot;, &quot;pre-process&quot;, &quot;compile&quot;, &quot;post-process&quot;, &quot;push&quot;, &quot;test&quot;, &quot;post-build&quot;
        activity: &quot;post-process&quot;,

        // [ &quot;-h, --helloworld&quot;, &quot;Run this helloworld plugin&quot; ]
        commander: [],

        // This is to configure the plugin with
        configure: function( config, command, done ) {
            done();
        },

        // This is always called
        run: function( done ) {
            console.log(&quot;HELLO WORLD!!!&quot;);
            done();
        }

    });

};

module.exports = pluginFactory;
</code></pre>
<p>Anvil plugins are created using the anvil.plugin() method. Every pluginFactory gets the underscore.js library and anvil passed in as its arguments.</p>
<h3>5. Run your plugin locally</h3><p>To get anvil to use your plugin as a part of the build process, just navigate into the root of your plugin directory in the terminal and run:</p>
<pre><code class="language-bash">anvil install .
</code></pre>
<p>Now if you go back to your plugin sandbox directory and run anvil, you should see it log &quot;HELLO WORLD!!!&quot; among the other feedback it will give you.</p>
<h3>6. Get config data in the plugin</h3><p>I told you we were going to talk about how to get our configuration data, didn&#39;t I?</p>
<p>All of the config information is available in the this.config variable. For example, we can add the greeting that we had in the build.json file like this:</p>
<pre><code class="language-javascript">run: function( done ) {
    console.log(&quot;HELLO WORLD!!!! &quot; + this.config.greeting);
    done();
}
</code></pre>
<p>There is also plenty of helpful configuration information inside of the anvil.config object. I would advise logging the entire object like this so that you can see what is available:</p>
<pre><code class="language-javascript">run: function( done ) {
    console.log(anvil.config);
    done();
}
</code></pre>
<p>Some of the notable parameters are:</p>
<ul>
<li><strong>working</strong> - The path to the directory where temporary files are processed</li>
<li><strong>source</strong> - The path where the original unbuilt project lives</li>
<li><strong>spec</strong> - The path where unit tests live for the project</li>
<li><strong>output</strong> - The directory where the files will live once the project is built</li>
</ul>
<p>The anvil.fs object also gives you access to the entire file system, which makes it easy to modify the files in your build.</p>
<h3>7. Publish your Anvil plugin</h3><p>Once you&#39;ve finished writing your plugin, you will want to publish it.  You will need an account at <a href="https://npmjs.org/">npmjs.org</a> in order to publish your plugin.</p>
<p>After you have an account, you can just navigate to the directory of your plugin and run:</p>
<pre><code class="language-bash">npm publish
</code></pre>
<p>Anvil automatically pulls in any plugins in the anvil namespace, so your plugin will be available if you run &quot;anvil list&quot; in your terminal:</p>
<pre><code class="language-bash">anvil list
</code></pre>
<h3>8. Go make some awesome plugins!</h3><p>The &quot;Hello World&quot; plugin that we just walked through is <a href="https://github.com/tysoncadenhead/anvil.helloworld">available on Github</a> for you to poke around with.</p>
<p>There is really no limit to what you can do with Anvil plugins, so go fourth and conquer.</p>
<p>If you use this tutorial to create an awesome Anvil plugin, please let me know. I&#39;d love to hear about it!</p>


    <br /><br />

    <div class="bio">
      <div class="span2">
        <img src="/images/about/tyson5.jpg" class="lazy" />
      </div>
      <div class="span5">
        <h3><a href="/about">About the Author</a></h3>
        <p><strong>Tyson Cadenhead</strong> is a Senior JavaScript Developer at <a href="http://aloompa.com">Aloompa</a>. He lives in the greater Nashville area. His specialty is writing large, scalable JavaScript applications on the client and server side. His passions are for good design, usability, and clean, reusable code.</p>
      </div>
    </div>

    <h5>Tags: 
    
        <span class="label">
            <a href="/?tag=Anvil">Anvil</a>
        </span>
    
        <span class="label">
            <a href="/?tag=Build">Build</a>
        </span>
    
    </h5>

</article>

<div class="share">
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
</div>

<h3>Related Posts:</h3>

<div class="span12 related-posts">

  <div class="span2 well thumbnail">
    
    <a href="/blog/the-business-case-for-having-an-all-remote-organization"><img src="/images/blog/the-business-case-for-having-an-all-remote-organization.jpg" /></a>
    <h5>
      <a href="/blog/the-business-case-for-having-an-all-remote-organization">The Business Case For Having An All-Remote Organization</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/unit-testing-with-thrill-js"><img src="/images/blog/thrill.png" /></a>
    <h5>
      <a href="/blog/unit-testing-with-thrill-js">Unit Testing with Thrill.js</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/authentication-in-meteor"><img src="/images/blog/meteor-authentication.png" /></a>
    <h5>
      <a href="/blog/authentication-in-meteor">Authentication in Meteor</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/compound-js-presentation-in-nashville"><img src="/images/blog/testtubes.png" /></a>
    <h5>
      <a href="/blog/compound-js-presentation-in-nashville">Compound JS Presentation in Nashville</a>
    </h5>
  </div>

</div>

<div class="google-things">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-5130799763611680"
       data-ad-slot="1525472392"
       data-ad-format="auto"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  </div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'tysoncadenhead';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

<div class="well span3 right overflow-auto">

  <h3>Don't Miss Anything!</h3>
  <h5>Sign Up For My Email Newsletter</h5>

  <!-- Begin MailChimp Signup Form -->
  <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
  <style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
  </style>
  <div id="mc_embed_signup">
  <form action="//tysoncadenhead.us9.list-manage.com/subscribe/post?u=97e25799111f2cec4dc714a43&amp;id=501ae643d4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <div style="position: absolute; left: -5000px;"><input type="text" name="b_97e25799111f2cec4dc714a43_501ae643d4" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
      </div>
  </form>
  </div>

  <!--End mc_embed_signup-->

  <h3>I Wrote a Book!</h3>

  <iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//ws-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&OneJS=1&Operation=GetAdHtml&MarketPlace=US&source=ac&ref=tf_til&ad_type=product_link&tracking_id=tysolloycade-20&marketplace=amazon&region=US&placement=B016QFJVZ2&asins=B016QFJVZ2&linkId=KNSB4DOAIGOWDCDD&show_border=false&link_opens_in_new_window=true&price_color=333333&title_color=115D5A&bg_color=EFEEEE"></iframe>

  <h3>Popular Posts</h3>

  <div id="popular-posts"></div>

</div>

                    
                
            </div>
        </div>
        <script data-main="/js/app.js" src="/js/vendor/require.js"></script>
        <div class="footer">
            <div class="container">
                <div class="addthis_default_style span12 addthis_32x32_style">
                    <a class="addthis_button_facebook_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_twitter_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_linkedin_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_google_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_youtube_follow" addthis:userid="tysoncadenhead"></a>
                    <a href="http://tysoncadenhead.deviantart.com/gallery/" title="Deviant Art" target="_blank" class="deviant-art"></a>
                    <a class="addthis_button_flickr_follow" addthis:userid="tysonlloydcadenhead"></a>
                    <a class="addthis_button_instagram_follow" addthis:userid="tysoncadenhead"></a>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            window.tysonJS = {
                slug: ''
            };
        </script>
    </body>
</html>
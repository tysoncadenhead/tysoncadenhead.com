<!DOCTYPE html>
<!--[if IE 6]>
    <html id="ie6" lang="en-US">
<![endif]-->
<!--[if IE 7]>
    <html id="ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
    <html id="ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 6) | !(IE 7) | !(IE 8)  ]><!-->
    <html lang="en-US">
<!--<![endif]-->
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0;">
        <meta name="google-site-verification" content="AeV4w7EOhEv3lU1OT8KOM7jRS0C6jDAsZyMaG38t1g4" />
        <meta property="og:image" content="http://www.tysoncadenhead.com/images/blog/weights.jpg"/>
        <meta property="og:title" content="Web Developers and Health"/>
        <meta property="og:url" content="http://www.tysoncadenhead.com"/>
        <meta property="og:site_name" content="Tyson Cadenhead"/>
        <meta property="og:description" content="The Art Of Elegant JavaScript Applications" />
        <title>Web Developers and Health</title>
        <link rel="shortcut icon" href="/images/favicon.ico" /> 
        <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/css/app.css" />
        <link rel="alternate" type="application/rss+xml" title="Web Developers and Health The Art Of Elegant JavaScript Applications" href="http://www.tysoncadenhead.com/feed.xml" />
        
    </head>
    <body>
        <script type="text/javascript">

          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-19696495-1']);
          _gaq.push(['_trackPageview']);
        
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        
        </script>
        <div id="fb-root"></div>
        <div class="container">
            <div class="header" id="top">
                <div class="span12">
                    <div class="span4 left">
                        <h1 id="logo"><a href="/"><img src="/images/logo-new.png" /></a></h1>
                    </div>
                    <div id="nav-toggle">
                        <span></span>
                    </div>
                    <div class="span6 right">
                        <div class="navbar navbar-inverse">
                            <div class="navbar-inner right">
                                <ul class="nav right">
                                  <li><a href="/">Blog</a></li>
                                  <li><a href="/presentations">Presentations</a></li>
                                  <li><a href="/videos">JavaScript Vignettes</a></li>
                                  <li><a href="/about">About Me</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="span12">
                
                    
                    
                        
                        

<script type="text/javascript">
var posts = {"avoid-using-lodash-defer":{"published":true,"title":"Avoid Using _.defer()","tags":["javascript"],"category":"code","date":"1/18/2016","thumbnail":"/images/blog/avoid-using-lodash-defer.jpg","yield":"<p>We&#39;ve all be there. You&#39;re trying to get a certain block of code to execute after everything else is done. If it executes too soon, you won&#39;t get it to do the thing you want it to. Lodash.defer() to the rescue! Just wrap the code that you want to execute last in an <code>_.defer()</code> method and it will wait until everything on the current call stack has completed and then execute your desired code. Problem solved. Or was it?</p>\n<!-- more -->\n<p>You see, when a <code>_.defer()</code> appears in your code, it is usually a code smell. It means that you are putting the code you want to execute too early.</p>\n<p>Take this block as an example:</p>\n<pre><code>doFirstThing();\n\n_.defer(() =&gt; {\n    doThirdThing();\n});\n\ndoSecondThing();\n</code></pre><p>Obviously, it will execute the first thing, then the second thing and finally the third thing, but it could have more easily been written as:</p>\n<pre><code>doFirstThing();\ndoSecondThing();\ndoThirdThing();\n</code></pre><p>This makes sense when we are just executing a bunch of functions in order, but it&#39;s not always as straightforward as that when we&#39;re using an api that someone else wrote with specific lifecycle hooks. Take this example using React lifecycle hooks:</p>\n<pre><code>componentWillUpdate () {\n    _.defer(() =&gt; {\n        this.setState({\n            name: &#39;MyName&#39;\n        });\n    })l\n}\n\nrender () {\n    return (\n        &lt;div&gt;{this.state.name}\n    );\n}\n</code></pre><p>Using the <code>_.defer</code> here makes the <code>setState</code> execute after <code>render</code> is executed, but if we had used the correct lifecycle hook, this could have been avoided:</p>\n<pre><code>componentDidUpdate () {\n    this.setState({\n        name: &#39;MyName&#39;\n    });\n}\n\nrender () {\n    return (\n        &lt;div&gt;{this.state.name}\n    );\n}\n</code></pre><p>You will get better performance from avoiding tacking functions onto the end of the call stack, but it also makes it more clear to see what is getting executed at which point. The pressure, of course, falls on library and framework authors to expose methods at key points in the lifecycle of components and utilities so that we can avoid defer, but it should always raise an eyebrow if we see a <code>_.defer()</code> and if there is a way to avoid it, which there often is, you will be a much happier developer.</p>\n","slug":"avoid-using-lodash-defer"},"use-object-dot-keys-to-loop-over-objects":{"published":true,"title":"Use Object.keys() To Loop Over Objects","tags":["javascript"],"category":"code","date":"1/4/2016","thumbnail":"/images/blog/use-object-dot-keys-to-loop-over-objects.jpg","slug":"use-object-dot-keys-to-loop-over-objects","yield":"<p>One thing I&#39;ve been doing over the past few months that has both made my object traversal more readable and less lengthy is using <code>Object.keys()</code> to get an array of the keys on my object and then looping with the array.</p>\n<!-- more -->\n<p>In the olden days, I would typically use a <code>for in</code> loop like this:</p>\n<pre><code>const obj = {\n    name: &#39;Gandalf&#39;,\n    job: &#39;Wizard&#39;,\n    nicknames: [\n        &#39;The Gray&#39;,\n        &#39;The White&#39;\n    ]\n};\n\nfor (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n        console.log(obj[key]);\n    }\n}\n</code></pre><p>Not the best, but not the worst. The silly part was that I had to wrap each iteration of the loop an <code>if</code> statement because it was possible that I might be looping over a key on the object prototype and not on the object itself.</p>\n<p>Luckily, with a combination of <code>forEach()</code> and <code>Object.keys()</code>, looping over keys in an object can be much nicer:</p>\n<pre><code>Object.keys(obj).forEach((key) =&gt; {\n    console.log(obj[key]);\n});\n</code></pre><p>You see, <code>Object.keys()</code> creates an array of the object keys, and then we can loop over the keys or do any array operations on it we like. It&#39;s also nice to be able to take a more functional approach when dealing with iterations over an object.</p>\n<p>For example, we could use this methodology to filter out on the keys on the object that contain a string type and map the results into an array:</p>\n<pre><code>const strings = Object.keys(obj).filter((key) =&gt; {\n    return typeof obj[key] === &#39;string&#39;;\n}).map((key) =&gt; {\n    return obj[key];\n});\n\nconsole.log(strings); // [&#39;Gandalf&#39;, &#39;Wizard&#39;];\n</code></pre><p>That is much more readable than using a for in loop:</p>\n<pre><code>let strings = [];\nfor (let key in obj) {\n    if (obj.hasOwnProperty(key)) {\n        if (typeof obj[key] === &#39;string&#39;) {\n            strings.push(obj[key]);\n        }\n    }\n}\n</code></pre><p>As you can see, it&#39;s almost always preferable to make an array of keys for iterating over an object. It makes code a lot more maintainable and readable.</p>\n"},"what-will-2016-hold-for-tyson-cadenhead":{"published":true,"title":"What Will 2016 hold for tysoncadenhead.com?","tags":["javascript"],"category":"code","date":"1/1/2016","thumbnail":"/images/blog/what-will-2016-hold-for-tyson-cadenhead.jpg","slug":"what-will-2016-hold-for-tyson-cadenhead"},"private-methods-in-javascript":{"published":true,"title":"Private Methods In JavaScript","tags":["javascript","es6"],"category":"code","date":"12/21/2015","thumbnail":"/images/blog/private-methods-in-javascript.jpg","yield":"<p>There are many reasons to not expose certain methods to the outside world in your JavaScript code. Your APIs will be cleaner and easier to reason about when there are fewer options available and you aren&#39;t exposing your internals. Sometimes it is important to hide implementation details for the sake of privacy. Whatever your reason, there will be times when you want to use private methods in your JavaScript code. Here are a few ways to accomplish that.</p>\n<!-- more -->\n<h2>The Revealing Module Pattern</h2><p>The revealing module pattern is a time-tested way to handle privacy in JavaScript functions. The idea is that you call a function that returns an object with all of the functions that are publicly available from within the parent function. Everything inside the parent function that is not returned is simply not accessible to the outside world. This definitely works to keep private functions private and is a great approach when you are doing purely functional programming.</p>\n<pre><code>function coffeeMachine () {\n\n    var cup = {};\n\n    function addGrounds () {\n        cup.grounds = true;\n    }\n\n    function addWater () {\n        cup.water = true;\n    }\n\n    function brew () {\n        cup.brewed = true;\n    }\n\n    return {\n        makeCoffee: function () {\n            addGrounds();\n            addWater();\n            brew();\n\n            return cup;\n        }\n    };\n}\n</code></pre><h2>The Revealing Module Pattern In An ES5 &quot;Class&quot;</h2><p>The same approach that we saw above can also be used in an ES5 &quot;Class&quot;. We can create a new instance of the CoffeeMachine and only the methods attached to <code>this</code> will be accessible. The problem is that when we add methods to the prototype of the class, they can&#39;t access any of the private functions that we defined in our constructor and it would be pretty hacky to write all of our methods inside our constructor.</p>\n<pre><code>function CoffeeMachine () {\n\n    var cup = {};\n\n    function addGrounds () {\n        cup.grounds = true;\n    }\n\n    function addWater () {\n        cup.water = true;\n    }\n\n    function brew () {\n        cup.brewed = true;\n    }\n\n    this.makeCoffee = function () {\n        addGrounds();\n        addWater();\n        brew();\n\n        return cup;\n    };\n}\n</code></pre><h2>Using Underscores To Denote &quot;Private&quot; Methods</h2><p>A common practice in the JavaScript world is to prefix methods that are meant to be &quot;private&quot; with an underscore. This informs the users of an API that the methods are not to be used by the outside world. There are a few problems with this approach. For one, not every developer is aware of this standard, so when they need a method and they find it prefixed with an underscore, they may just used it in ignorance. For another, we aren&#39;t able to achieve real privacy this way. The methods are still available on the public API and can be accessed by anyone with a JavaScript console.</p>\n<pre><code>class CoffeeMachine {\n\n    constructor () {\n        this._cup = {};\n    }\n\n    _addGrounds () {\n        this._cup.grounds = true;\n    }\n\n    _addWater () {\n        this._cup.water = true;\n    }\n\n    _brew () {\n        this._cup.brewed = true;\n    }\n\n    makeCoffee () {\n        this._addGrounds();\n        this._addWater();\n        this._brew();\n\n        return this._cup;\n    }\n\n}\n</code></pre><h2>Using Symbols As Private Method Names</h2><p>The ES6 <code>Symbol</code> gives us an interesting way to create private methods in ES6 classes. The Symbol is a function that you call that returns a random unguessable type that you can use as a name for things that you don&#39;t want to keep private. The only way to access a key that is named from a symbol is to use the symbol variable itself. This creates a private method, but you will have a few funny looking methods when you log your class. In my opinion, this is the best way to add a private method to a class in JavaScript at the moment.</p>\n<pre><code>const addGrounds = Symbol();\nconst addWater = Symbol();\nconst brew = Symbol();\nconst cup = Symbol();\n\nclass CoffeeMachine {\n\n    constructor () {\n        this[cup] = {};\n    }\n\n    [ addGrounds ] () {\n        this[cup].grounds = true;\n    }\n\n    [ addWater ] () {\n        this[cup].water = true;\n    }\n\n    [ brew ] () {\n        this[cup].brewed = true;\n    }\n\n    makeCoffee () {\n        this[addGrounds]();\n        this[addWater]();\n        this[brew]();\n\n        return this[cup];\n    }\n\n}\n</code></pre><h2>Proposal For Private Methods In ESNext</h2><p>So at this point, you are probably wondering why JavaScript doesn&#39;t have a <code>private</code> keyword for methods on classes. After all, most programming languages do. Of course, it&#39;s still early days for real JavaScript classes and we can expect more useful things to get added to the spec as time goes on. One <a href=\"https://github.com/zenparsing/es-private-fields\">interesting proposal</a> is to use a hashtag to denote private methods. I personally like the idea of using a character to denote privacy rather than prefixing <code>private</code> to a method name because it would be less typing.</p>\n<pre><code>class CoffeeMachine {\n\n    #cup = {};\n\n    #addGrounds () {\n        this.#cup.grounds = true;\n    }\n\n    #addWater () {\n        this.#cup.water = true;\n    }\n\n    #brew () {\n        this.#cup.brewed = true;\n    }\n\n    makeCoffee () {\n        this.#addGrounds();\n        this.#addWater();\n        this.#brew();\n\n        return this.#cup;\n    }\n\n}\n</code></pre><p>Those are some of the best ways to create or simulate private methods in JavaScript right now. What is your preference? How are you hoping the API will look in ES7?</p>\n"},"unit-testing-react-components-with-mocha":{"published":true,"title":"Unit Testing React Components With Mocha","tags":["react","javascript","testing","mocha"],"category":"code","date":"12/13/2015","thumbnail":"/images/blog/unit-testing-react-components-with-mocha.jpg","slug":"unit-testing-react-components-with-mocha","yield":"<p>I have recently been thinking through the best way to unit test React components. The interesting thing about React components is that they are a container for a combination of state and rendering logic. This should make them easier to test than most view layers in other frameworks because we can easily change the state of a component and make assertions based on what we expect the state changes to do to modify the rendered output.</p>\n<!-- more -->\n<p>Luckily, React has a really nice add-on called <a href=\"http://facebook.github.io/react/docs/test-utils.html\">React Test Utils</a>. The team at Facebook uses Jest for testing, but since the test utilities are provided modularly, we can just as easily use any other testing framework in its place.</p>\n<p>Let&#39;s start by installing the test utils:</p>\n<p><code>npm install react-addons-test-utils</code></p>\n<p>Now, let&#39;s take a simple component as an example:</p>\n<pre><code>const React = require(&#39;react&#39;);\n\nclass App extends React.Component {\n\n    constructor () {\n        super();\n\n        this.state = {\n            timesClicked: 0\n        };\n    }\n\n    incrementTimesClicked () {\n        const { timesClicked } = this.state;\n\n        timesClicked++;\n\n        this.setState({\n            timesClicked\n        });\n    }\n\n    pluralizeTimes () {\n      if (this.state.timesClicked === 1) {\n          return &#39;times&#39;;\n      }\n\n      return &#39;time&#39;;\n    }\n\n    render () {\n        const times = this.pluralizeTimes();\n\n        return (\n            &lt;button onClick={this.incrementTimesClicked.bind(this)}&gt;\n                You clicked me {this.state.timesClicked} {times}\n            &lt;/button&gt;\n        );\n    }\n\n}\n\nmodule.exports = App;\n</code></pre><p>This basically just renders a message with the number of times the button has been clicked.</p>\n<p>So, how do we test an implementation like this that relies so heavily on the state of the display changing? That&#39;s where the React Test Utils come in.</p>\n<p>We will need to make a new file for our Mocha tests. The wrapper will basically just be something like this:</p>\n<pre><code>const Component = require(&#39;/path/to/App.jsx&#39;);\nconst assert = require(&#39;assert&#39;);\nconst React = require(&#39;react&#39;);\nconst ReactTestUtils = require(&#39;react-addons-test-utils&#39;);\n\ndescribe(&#39;The fake application&#39;, () =&gt; {\n    // Our tests will go here\n});\n</code></pre><p>Great, now to write actual tests.</p>\n<p>React Test Utils comes with a <code>createRenderer()</code> method that allows us to render our component output to a json object that we can use without a browser. This is great for checking the children or classNames to make sure they are rendered correctly. We can use the renderer to render our little component and dive into the rendered output to make sure that it is rendering what we would expect. Since we haven&#39;t yet mutated the state of the component, it should say that we haven&#39;t clicked the button yet. The <code>children</code> off of the props will either be an array or if we are directly rendering some text instead of elements inside the component, it will be a simple string.</p>\n<pre><code>describe(&#39;When we render the initial state&#39;, () =&gt; {\n   it(&#39;Should have not have been clicked&#39;, () =&gt; {\n       const renderer = ReactTestUtils.createRenderer();\n\n       renderer.render(\n           React.createElement(Component)\n       );\n\n       const { children } = renderer.getRenderOutput().props;\n\n       assert.equal(children, &#39;You clicked me 0 times&#39;);\n   });\n});\n</code></pre><p>This is awesome, right? We can test rendered output without a DOM. That means we can run our tests in Node and leave browser testing out of our unit tests. But what about simulating user interactions in our component?</p>\n<p>The test util come with a <code>Simulate</code> object that allows us to specify a type of user even we want to simulate (click, change, keyDown, etc). We pass our target element in with the event and React Test Utils will simulate the user interaction without the need of a DOM.</p>\n<pre><code>describe(&#39;When we click the button once&#39;, () =&gt; {\n   it(&#39;Should use a singular message&#39;, () =&gt; {\n       const renderer = ReactTestUtils.createRenderer();\n\n       renderer.render(\n           React.createElement(Component)\n       );\n\n       ReactTestUtils.Simulate.click(renderer);\n\n       const { children } = renderer.getRenderOutput().props;\n\n       assert.equal(children, &#39;You clicked me 1 time&#39;);\n   });\n});\n</code></pre><p>There are a few other methods that come with the React test utils, but I&#39;ve found that the renderer and simulate are hands down the most useful for checking the rendered state of a component and simulating user interactions.</p>\n<p>Have you used Mocha for testing React Components? What has been your experience?</p>\n"},"handling-clicks-outside-an-element":{"published":true,"title":"Handling Clicks Outside An Element","tags":["javascript"],"category":"code","date":"11/28/2015","thumbnail":"/images/blog/handling-clicks-outside-an-element.png","slug":"handling-clicks-outside-an-element","yield":"<p>Sometimes you find yourself solving the same problem over and over again. Usually when that happens, it&#39;s a good time to step back and think about a way to have a single reusable solution.</p>\n<p>That was exactly what was happening when we were building out a library of custom components in React. For good usability, many of our components needed to have an action occur when a user clicked outside the component. This was the case for many components such as modals, comboboxes, etc...</p>\n<!-- more -->\n<p>Our answer to the outside click event was to create a small module to make it easy to subscribe to clicks occurring outside a passed-in element.</p>\n<p>Our module is called &quot;outside-click&quot; available on <a href=\"https://github.com/Aloompa/outside-click\">GitHub</a> and <a href=\"https://www.npmjs.com/package/outside-click\">NPM</a>.</p>\n<p>The original code for this was written by <a href=\"https://github.com/lomteslie\">Tom Leslie</a>, though the api has gone through a few tweaks and updates over the past couple of months. He should definitely get all of the credit for originating the module and writing it in a clean extendable way.</p>\n<p>The idea is that we pass in an element and an event to occur when any element outside of the passed-in element is clicked.</p>\n<p>Here is an example usage with React:</p>\n<pre><code>const outsideClick = require(&#39;outside-click&#39;);\n\nclass MyViewComponent extends React.Component {\n\n    componentDidMount () {\n        const element = React.findDOMNode(this);\n\n        // Add the listener\n        this.outsideClick = outsideClick(element, this.close.bind(this));\n    }\n\n    componentWillUnmount () {\n        // Remove the listener\n        this.outsideClick.off();\n    }\n\n}\n</code></pre><p>The API is simple and there is honestly not much code happening, but it is a really useful tool with solid tests behind it.</p>\n"},"pro-tip-use-consistent-spacing-between-variable-names-to-avoid-merge-conflicts":{"published":true,"title":"Pro-Tip: Use Consistent Spacing Between Variable Names to Avoid Merge Conflicts","tags":["javascript"],"category":"code","date":"11/13/2015","thumbnail":"/images/blog/merge.png","slug":"pro-tip-use-consistent-spacing-between-variable-names-to-avoid-merge-conflicts","yield":"<p>To use a single space between variable names or to line them up, that is the question. This is something I&#39;ve never had a strong opinion on either way, but I have recently formed a strong opinion as a reaction to the error of my ways.</p>\n<!-- more -->\n<p>So let&#39;s take a few variables defined at the top of our module:</p>\n<pre><code>const react = require(&#39;react&#39;);\nconst moment = require(&#39;moment&#39;);\nconst $ = require(&#39;jquery&#39;);\n</code></pre><p>Wouldn&#39;t it be more pleasing to the eye if the value of the constants were lined up neatly like this?</p>\n<pre><code>const react =  require(&#39;react&#39;);\nconst moment = require(&#39;moment&#39;);\nconst $ =      require(&#39;jquery&#39;);\n</code></pre><p>It does look a little nicer and so, not having a solid opinion on it, we went ahead and made all of our <code>let</code>s and <code>const</code>s use that nice formatting. To make matters easier, <a href=\"https://atom.io/\">Atom</a> is my current editor of choice and there is a handy package called <a href=\"https://github.com/Freyskeyd/atom-alignment\">atom-alignment</a> that lets you select all of the lines of variables, lets, or constants you want to line up and hold down <code>Cmd+Shift+A</code> to do it automatically. All was well in our world until the day when we started making multiple pull requests that affected the same file.</p>\n<p>For example, if we add underscore in one commit:</p>\n<pre><code>const react =      require(&#39;react&#39;);\nconst moment =     require(&#39;moment&#39;);\nconst $ =          require(&#39;jquery&#39;);\nconst underscore = require(&#39;underscore&#39;);\n</code></pre><p>and Falcor in a different commit:</p>\n<pre><code>const react =  require(&#39;react&#39;);\nconst moment = require(&#39;moment&#39;);\nconst $ =      require(&#39;jquery&#39;);\nconst Falcor = require(&#39;falcor&#39;);\n</code></pre><p>We will get a merge conflict spanning the entire block of constant declarations:</p>\n<pre><code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;\nconst react =      require(&#39;react&#39;);\nconst moment =     require(&#39;moment&#39;);\nconst $ =          require(&#39;jquery&#39;);\nconst underscore = require(&#39;underscore&#39;);\n=======\nconst react =  require(&#39;react&#39;);\nconst moment = require(&#39;moment&#39;);\nconst $ =      require(&#39;jquery&#39;);\nconst Falcor = require(&#39;falcor&#39;);\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n</code></pre><p>Git will just look at the lines and it will determine that all of the lines have changed since we updated the spacing. It will be unable to tell which of the two versions are correct and so there will be a merge conflict. I&#39;ve dealt with this just about enough, which is why going forward, I will always just put one space after any variable declaration. It may not look quite as pretty, but it can help avoid a lot of headaches when you are managing a large code base.</p>\n<p>So learn from my mistakes and <em>never</em> do this. Do you agree? Disagree? I&#39;d love to hear about it in the comments section below.</p>\n"},"where-should-i-put-javascript-unit-tests":{"published":true,"title":"Where Should I Put JavaScript Unit Tests?","tags":["javascript","architecture","testing","mocha"],"category":"code","date":"11/7/2015","thumbnail":"/images/blog/where-should-i-put-javascript-unit-tests.jpg","slug":"where-should-i-put-javascript-unit-tests"},"how-to-organize-component-based-code":{"published":true,"title":"How To Organize a Component-Based Application","tags":["javascript","architecture","react"],"category":"code","date":"11/1/2015","thumbnail":"/images/blog/how-to-organize-component-based-code.jpg","slug":"how-to-organize-component-based-code","yield":"<p>Like nothing else out there, React has gotten me thinking of my code as a series of modules that are glued together to make a larger application. This has always been an ideal to reach for, but their focus on unidirectional data-flow has forced me to rethink the way I structure my code in a really positive way. It&#39;s no wonder that even Angular 2.0 is using a similar component-based architecture for rendering UI. It just makes sense! Today, I&#39;m going to walk through how I have been organizing my components. This approach makes each module easy to find when I need it.</p>\n<!-- more -->\n<h2>We&#39;re Just Talking About Components</h2><p>I want to make it clear from the beginning that this is not a post on how I organize my data models. I feel that this is way outside of the scope of this article.</p>\n<h2>A Place For Everything and Everything In Its Place</h2><p>Keeping an organized code base is not unlike organizing a room in real-life. The secret is to have a place where every type of thing goes. If I know that my keys go in a bowl on my dresser and my clothes go in the closet, I don&#39;t have to deal with the cognitive overhead of figuring out where to put them each time I need to set down my keys or put away my clothes.</p>\n<p>In the same way, if I know that components of one type go in a certain folder and components of a different type go in a different folder, I don&#39;t have to guess where they go every time I write a new component. For a large application, we should also avoid the temptation to just make a big catch-all folder called something like &quot;components&quot; where we throw everything. That would be like saying that I organize my room by throwing all of my stuff in a pile. There are different types of components with different jobs and if we can distinguish between them, life will be much better.</p>\n<h2>So, What Folders Do I Actually Have?</h2><p>In addition to directories for data modeling, routing and utilities, I have split my code into 5 distinct component directories. Inside each of these directories, each of my components is a folder that looks something like this:</p>\n<pre><code>/Person\n   _Person.scss\n   index.js\n   Person.jsx\n</code></pre><p>All of our component folders contain an <code>index.js</code> file that does nothing but require the related <code>.jsx</code> file. This makes it look nicer when we require a file from a different component. We can require something like <code>components/Person</code> instead of <code>components/Person/Person.jsx</code>, but we still have the benefit of having the fully-named <code>.jsx</code> for quick reference in our text editors.</p>\n<p>We use WebPack, so we are able to require CSS files inside our modules. This makes it easier to bundle stylesheets and components together since they are related to each other.</p>\n<p>Some components will need other components nested inside them. If the nested component is only used by the parent component, we make it a sub-directory of the parent. We only let the children go one level deep, which means that if a child component contains a component, it will be a sibling in the folder structure. If a component is a child of two separate components, it is always moved up to the top level so that we never require a <code>.jsx</code> file that is outside the component folder.</p>\n<p>Here are the basic directories that have worked for our particular project:</p>\n<h3>/ui</h3><p>We actually keep UI in a completely separate repository so that these components can be shared across projects. These are the lowest-level components possible. They are typically stateless, or dumb components that render based on the props that are passed down into them. They can also trigger callbacks from the props the receive if needed. These components should contain no business logic to the point where we could actually open-source each component if needed.</p>\n<h3>/components</h3><p>These typically sit on top of the UI components and pass data into them and respond to callbacks from them. They typically do contain state. As often as possible, they should not need to render anything except the UI components underneath them. This level of separation keeps the business logic out of the UI components and the rendering logic out of the components on top of them.</p>\n<h3>/pages</h3><p>Pages are actual routes that can be navigated to. These are typically composed of multiple components from the <code>/components</code> directory. They may pass some state down to the components. They are typically just concerned with laying out the components in a certain order and instantiating them with props.</p>\n<h3>/layouts</h3><p>These are classes that are meant to be extended by the pages, they wrap the pages and rely on the page to render the majority of the display. For example, a listing layout might expect the page to pass in the data and layout information for a list of things and then render a table with the list in hand. The layouts should never be aware of what data or types of data are being passed in, you can think of them as the base class for the pages.</p>\n<h3>/modals</h3><p>Modals turned out to be different enough from other types of components to warrant their own directory. They are not unlike pages in that they typically arrange components and pass props down into them, but there are not routes to modal windows, so they are not technically pages, so it seemed natural to give them their own directory.</p>\n<p>Our current architecture could definitely be tweaked, but it is certainly a marked improvement from the strict MVC approach I have taken in the past with client-side application development. How are you organizing your modules? Is there anything that you would do differently?</p>\n"},"what-is-es6-destructuring":{"published":true,"title":"What Is ES6 Destructuring?","tags":["javascript","es6"],"category":"code","date":"10/25/2015","thumbnail":"/images/blog/what-is-es6-destructuring.jpg","slug":"what-is-es6-destructuring"},"what-are-arrow-functions":{"published":true,"title":"What Are Arrow Functions?","tags":["javascript","es6"],"category":"code","date":"10/20/2015","thumbnail":"/images/blog/what-are-arrow-functions.jpg","slug":"what-are-arrow-functions"},"react-with-es6-classes":{"published":true,"title":"React With ES6 Classes","tags":["react","es6"],"category":"code","date":"08/03/2015","thumbnail":"/images/blog/react-es6-classes.png","slug":"react-with-es6-classes","yield":"<p>With v0.13 of React, we got native support for using ES6 classes. This may not seem like a huge deal since ES6 classes are basically just syntactical sugar over the more laborious inheritance of yesteryears JavaScript. However, it is clear that there was a problem since practically every framework or helper library added their own kind of classical inheritance, often with a different implementation. The unified class syntax for ES6 gives us an easy way to do inheritance that will one day be native to every browser and JavaScript engine. Looking forward to the future, React now gives us the ability to call React.Component as a native class.</p>\n<!-- more -->\n<h3>But isn&#39;t ES6 the future, not the present?</h3><p>It is true that most browsers today don&#39;t support a lot of the awesome new ES6 features, but with a compiler like <a href=\"http://www.typescriptlang.org/\">TypeScript</a> or <a href=\"babeljs.io\">Babel</a>, you can write in ES6 syntax and get it compiled down to plain old ES5 that will run on any browser out there. Personally, I would highly recommend Babel. I&#39;m using it currently and it is totally awesome.</p>\n<h3>How can I use the React ES6 class?</h3><p>If you&#39;re already familiar with the ES6 class syntax and the React component methods, you&#39;re pretty well-equiped to use ES6 react components. There are a handful of changes, but they&#39;re pretty quick to get the hang of.</p>\n<p>A JSX file for your component will look something like this:</p>\n<pre><code>var React = require(&#39;react&#39;);\n\nclass Profile extends React.Component {\n\n    constructor () {\n        this.state = {\n            // Set the initial state here instead of using the\n            // old setInitialState() method\n        };\n    }\n\n    render () {\n        return (\n            &lt;div className=&quot;profile&quot;&gt;\n                &lt;h3&gt;Profile&lt;/h3&gt;\n                &lt;p&gt;{this.props.firstName} {this.props.lastName}&lt;/p&gt;\n            &lt;/div&gt;\n        );\n    }\n\n}\n\nmodule.exports = Profile;\n</code></pre><p>Most of the old methods like <code>setState()</code> and lifecycle callbacks like <code>componentWillMount()</code> and <code>componentWillUnmount()</code> are still available, so there won&#39;t be a huge new API to learn.</p>\n<h3>Why even bother?</h3><p>There are plenty of good reasons to start using ES6 classes in your React applications today. While there may or may not ever come a day when Facebook totally deprecates the <code>React.createClass</code> function, it can be safely assumed that ES6 classes will become the primary syntax going forward. You will probably find more and more code examples online written this way, so it will be easier to follow examples if you are using the same class-based syntax.</p>\n<p>Beyond that, it makes your applications slightly less dependent on React. If some new cool framework comes out in the future, chances are it will use ES6 classes as well, so you would probably just need to modify the render method and some of the component lifecycle to get the component running on your new framework of choice.</p>\n<p>I am fully confident that most React will be written with ES6 classes as time goes on. Why not jump on the train now?</p>\n"},"what-will-javascript-be-like-in-2015":{"published":true,"title":"What Will JavaScript Be Like In 2015?","tags":["javascript"],"category":"code","date":"01/03/2015","thumbnail":"/images/blog/what-will-javascript-be-like-in-2015.png","slug":"what-will-javascript-be-like-in-2015"},"angular-promises":{"published":true,"title":"A Crash Course On Angular Promises","tags":["angular","promises"],"category":"code","date":"12/22/2014","thumbnail":"/images/blog/angular-promises.png","yield":"<p>Writing complex behaviors in an asynchronous language like JavaScript can be a bit of a challenge. If you aren&#39;t careful, you can make some pretty ugly nested code in order to get things to work like you expect. To solve the problem of illegible nested callbacks, we have promises. If you are writing applications in Angular, you are in luck because Angular ships with a great promise library called &quot;Q&quot;. Today, we&#39;re going to look at a few approaches to making more readable and maintainable Angular applications with the help of the built in Q promise library.</p>\n<!-- more -->\n<p><img src=\"http://cdn.meme.am/instances/500x/54391964.jpg\" width=\"50%\" alt=\"\"></p>\n<h3>What Are Promises?</h3><p>In the distant past, I have been guilty of writing things like this:</p>\n<pre><code>myModels.getPerson({ id: 1 }, function (person) {\n   myModels.getDad(person, function (dad) {\n        myModels.getPet(dad, function (pet) {\n            myModels.getPetColor(pet, function (color) {\n                // ...\n            });\n        });\n   });\n});\n</code></pre><p>It looks really ugly, but there were instances where I needed to make one asynchronous operation, then based on the data that I got back from the operation, I would need to make another operation and the tunnel of madness would begin. Promises are an answer to that problem.</p>\n<p>Whether you know it or not, you&#39;ve probably been exposed to promises inside of libraries like jQuery when you tack a <code>then()</code> method on after a function.</p>\n<p>The way it works is that the function returns a &quot;promise&quot; instead of a result. Inside the function, the promise can be resolved at some point and the <code>then()</code> method is fired which continues the chain of methods you are building.</p>\n<p>Taking our contrived example above, if we were using promises, it might look more like this:</p>\n<pre><code>myModels\n    .getPerson({\n        id: 1\n    })\n    .then(myModels.getDad)\n    .then(myModels.getPet)\n    .then(myModels.getPetColor)\n    .done(function (data) {\n        // ...\n    });\n</code></pre><p>Now we&#39;ve got an API that is readable and maintainable. Life is good again.</p>\n<p><img src=\"http://www.quickmeme.com/img/01/015f8f78101fcf7e97a3b9492a1aee81f7ed3958b5356eee14cf8391a98d2888.jpg\" width=\"50%\" /></p>\n<h3>What Is <code>Q</code>?</h3><p>There are numerous promise libraries out there, but Angular ships with one called <a href=\"https://github.com/kriskowal/q\">Q</a>. It is a really nice library and I&#39;ve used it for some of my non-Angular and even some of my Node projects in the past. Angular can inject <code>$q</code> directly, but some of the services, such as the <code>$resource</code> service already use it under the hood.</p>\n<p><img src=\"http://ct.fra.bz/ol/fz/sw/i59/5/9/27/frabz-One-does-Not-Simply-give-a-promise-then-pretend-it-never-happen-2d0ebe.jpg\" width=\"50%\" /></p>\n<h3>Deferring A Promise</h3><p>The syntax for deferring a promise is pretty straightforward. You need to instantiate a new <code>$q.defer()</code> and then return the promise off of the object that it returns. When you&#39;re done doing what you&#39;re doing, you just need to resolve the deferred object. If you have any data that you want to pass into the resolve function, you can pass it as the first argument.</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .service(&#39;Wait&#39;, Wait);\n\nWait.$inject = [&#39;$q&#39;, &#39;$window&#39;];\n\nfunction Wait ($q, $window) {\n\n    var service = {};\n\n    service.waitFor = waitFor;\n\n    function waitFor (ms) {\n        var deferred = $q.defer();\n\n        $window.setTimeout(function () {\n            deferred.resolve();\n        }, ms);\n\n        return deferred.promise;\n    }\n\n    return service;\n\n}\n</code></pre><p>The service above could be used like this:</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyController&#39;, MyController);\n\nMyController.$inject = [&#39;Wait&#39;];\n\nfunction MyController (Wait) {\n    Wait\n        .waitFor(1000)\n        .then(function () {\n            alerted(&#39;I already waited for a second! I\\&#39;m bored!&#39;);\n        });\n}\n</code></pre><p><img src=\"http://djebbz.github.io/async-paris-js/images/why-so-asynchronous.jpg\" width=\"50%\" /></p>\n<h3>Waiting For Multiple Promises</h3><p>Sometimes, you have multiple promise you want to resolve, but it doesn&#39;t necessarily matter what order the functions are executed in. You just want to execute multiple asynchronous operations and get notified when they are done. For that, we have <code>$q.all</code>. The &quot;all&quot; method takes an array of functions and gives you a callback when they are all completed.</p>\n<p>Using <code>$q.all</code> looks something like this:</p>\n<pre><code>angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyController&#39;, MyController);\n\nMyController.$inject = [&#39;$q&#39;, &#39;$window&#39;];\n\nfunction MyController ($q, $window) {\n\n    $q.all([\n        $q(firstThing()),\n        $q(firstSecond()),\n        $q(thirdThing())\n    ])\n    .then(function (data) {\n        // ...\n    });\n\n    function firstThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 1000);\n\n        return deferred.promise;\n    }\n\n    function secondThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 2000);\n\n        return deferred.promise;\n    }\n\n    function thirdThing () {\n        var deferred = $q.defer();\n\n        $window\n            .setTimeout(deferred.resolve, 3000);\n\n        return deferred.promise;\n    }\n\n}\n</code></pre><p>Note that the each function you are passing into the array that is the first argument of <code>$q.all</code> method needs to be wrapped in a <code>$q</code>. That might seem a little tedious, but it keeps the functions from executing without a proper callback and in turn breaking the chain.</p>\n<p>There might be a little learning curve with Angular promises, but it is well worth the effort. Promises can go a long way to make cleaner more maintainable code and I&#39;ve found that the implementation in Angular is very solid.</p>\n","slug":"angular-promises"},"angular-controller-as":{"published":true,"title":"Ditching $scope For ControllerAs In Angular Apps","tags":["angular"],"category":"code","date":"11/29/2014","thumbnail":"/images/blog/angular-controller-as.jpeg","yield":"<p>At the ng-europe conference in Paris this year, the Angular team made several revelations about what Angular 2.0 will look like once it is complete. Several of the current features of Angular will be put to rest, but one of the more notable ones is the controller <code>$scope</code>. As developers prepare to eventually migrate their applications to Angular 2.0, it is important to do what we can currently in order to prepare for the easiest migration. One thing we already know we can do is to stop using the angular $scope entirely in our controllers. This is how you can do exactly that.</p>\n<!-- more -->\n<h3>What&#39;s Wrong With <code>$scope</code>?</h3><p>The current implementation of the Angular $scope is an artifact of the earlier days of Angular when many of the big questions about how to build high-quality single page applications were still being figured out and debated. The issue with injecting a <code>$scope</code> into a controller is that the there is no way to distinguish where a parameter is coming from in a template. Take this as an example:</p>\n<pre><code class=\"language-js\">&lt;div ng-controller=&quot;MyFirstController&quot;&gt;\n    &lt;div ng-controller=&quot;MySecondController&quot;&gt;\n        {{myProperty}}\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>In the example above, there is no way to determine whether the first controller or the second controller sets the <code>myProperty</code> binding. It could actually be either one, since the scope is inherited up the chain.</p>\n<p>Because of the ambiguity along with the unnecessary verbosity of creating a unique scope inside of every controller, as the Angular 2.0 project has been progressing, it has been determined that a much better approach is to treat the controller itself as the scope.</p>\n<h3>What Can I Do To Stop Using <code>$scope</code>?</h3><p>Fortunately, we can already stop injecting a <code>$scope</code> into our controllers by using the <code>controllerAs</code> syntax in the current version of Angular. The controllerAs syntax is fairly straightforward and will probably look more familiar to developers who cut their teeth in traditional object oriented JavaScript before learning Angular. When we use <code>controllerAs</code>, <code>this</code> becomes what we would refer to as the scope of the controller.</p>\n<p>That means that instead of this:</p>\n<pre><code class=\"language-js\">angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstController&#39;, MyFirstController);\n\nMyFirstController.$inject = [&#39;$scope&#39;];\n\nfunction MyFirstController ($scope) {\n    $scope.myAttr = &#39;myAttribute&#39;;\n    $scope.myMethod = function () {}\n}\n</code></pre>\n<p>A controller would look more like this:</p>\n<pre><code class=\"language-js\">angular\n    .module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstController&#39;, MyFirstController);\n\nMyFirstController.$inject = [];\n\nfunction MyFirstController () {\n    var vm = this;\n    vm.myAttr = &#39;myAttribute&#39;;\n    vm.myMethod = function () {}\n}\n</code></pre>\n<h3>Okay, But How Do I Bind That?</h3><p>Ultimately, you&#39;ll want to try to bind your controllers outside of your the template that is bound to. That way, you could reuse templates as needed. I won&#39;t be doing that in this example, because everything is in a single template, but I just wanted to make that clear. To bind your new controller, you&#39;ll just need to do something like this:</p>\n<pre><code class=\"language-js\">&lt;div ng-controller=&quot;MyFirstController as myFirstCtrl&quot;&gt;\n    &lt;div ng-click=&quot;myFirstCtrl.myMethod()&quot;&gt;{{myFirstCtrl.myAttr}}&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Now everything related to the controller that you have bound is namespaced to it. This avoids the confusion of nested scopes and lets you easily distinguish where everything is coming from.</p>\n<h3>Can I Bind The Controller In The Route?</h3><p>Whenever possible, it is best to bind your controller in the route itself rather than inside your templates. That will look something like this:</p>\n<pre><code class=\"language-js\">function appConfig($routeProvider) {\n    $routeProvider\n        .when(&#39;/myRoute/:id&#39;, {\n            templateUrl: &#39;/templates/myTemplate.html&#39;,\n            controller: &#39;MyFirstController&#39;,\n            controllerAs: &#39;myFirstCtrl&#39;\n        });\n}\n</code></pre>\n<p>This functionally works the same as setting the controller in the template. Everything in the <code>this</code> context of the controller is namespaced to <code>myFirstCtrl</code>.</p>\n<p>I can say from my own personal experience that I ditched the use of <code>$scope</code> a few weeks ago and I haven&#39;t missed it at all. I feel good knowing that I&#39;m working towards an easier migration once Angular 2.0 is ready and my applications have honestly been much easier to read and debug.</p>\n","slug":"angular-controller-as"},"testing-angular-controllers-with-karma":{"published":true,"title":"Testing Angular Controllers With Karma","tags":["angular","karma","unit testing"],"category":"code","date":"10/10/2014","thumbnail":"/images/blog/testing-angular-controllers-with-karma.jpeg","slug":"testing-angular-controllers-with-karma","yield":"<p>In my opinion, one of the coolest things about Angular as a JavaScript framework is its rich testing story. With Angular, you can easily create rich and complex interfaces that separate the concerns of DOM interaction and actual code to the point where you can write tests against everything.</p>\n<!-- more -->\n<p>Unfortunately, when I was getting started with Angular, I did run into a little bit of a learning curve. I had heard that dependency injection was a key concept for making unit testing easier, but there were several things I had to get my head around to make that stand up in practice.</p>\n<p>Today, I&#39;m going to demonstrate how I wrote unit tests for my controllers. I may follow this up with future explorations of how to test providers, services and directives, but I thought controllers would be a good place to start.</p>\n<p><img src=\"http://louisearmstrong.com/wordpress/wp-content/uploads/2014/01/Karma.jpg\" width=\"200px\" /></p>\n<h3>Getting Karma Running</h3><p>I have been really happy with the <a href=\"https://karma-runner.github.io/0.8/index.html\">Karma</a> test runner for Angular applications. Karma was written for Angular, although you can use it to test anything. You can run it with their CLI tool or add to your Grunt or Gulp build process.</p>\n<p>You can install the CLI tool by running this:</p>\n<pre><code class=\"language-bash\">npm install karma -g\n</code></pre>\n<p>Once it is installed, just run <code>karma init</code> to generate a <code>karma.conf.js</code> file for your project. Karma will use that file to determine which directories to load your JavaScript files from, the testing framework you want to use and which browsers you want to run your tests against.</p>\n<p>Typically, I&#39;ll write my tests using Mocha and use PhantomJS as my browser. That way, my tests can run completely in the terminal without needing to invoke a graphical browser.</p>\n<p>Once you&#39;ve got Karma installed and it is including both your application and test files, you are ready to write a test for your controller.</p>\n<p><img src=\"https://img0.etsystatic.com/000/1/6449810/il_570xN.265505392.jpg\" width=\"200px\" /></p>\n<h3>A Simple Controller</h3><p>Writing a test for your controller is actually a pretty simple process. Let&#39;s look at a contrived example of what an Angular controller might look like:</p>\n<pre><code class=\"language-js\">// The application\nangular.module(&#39;myApp&#39;, []);\n\n// The controller\nangular.module(&#39;myApp&#39;)\n    .controller(&#39;MyFirstThingCtrl&#39;, [&#39;$scope&#39;, function($scope) {\n\n        $scope.things = [];\n\n        $scope.addThing = function (thing) {\n            $scope.things.push(thing);\n        };\n\n        $scope.removeThing = function (i) {\n            $scope.things.splice(i);\n        };\n\n    }]);\n</code></pre>\n<p>Basic stuff, right? We are exposing an array to the <code>$scope</code> along with a method to add and a method to remove items from the array.</p>\n<p>So, let&#39;s get started writing our tests.</p>\n<p><img src=\"http://www.stannsacademy.com/images/wed_cr_chairs.jpg\" width=\"200px\" /></p>\n<h3>Setting Up The Tests</h3><p>When you are testing angular modules, the first thing you will need to do is inject your own scope into it. With Mocha, we can use the <code>beforeEach</code> method and pass in your application like this:</p>\n<pre><code class=\"language-js\">beforeEach(module(&#39;myApp&#39;));\n</code></pre>\n<p>Next, we need to grab our controller using the <code>inject</code> method. To use inject, you will need to add <a href=\"https://github.com/angular/bower-angular-mocks\">Angular Mocks</a> to your <code>karma.conf.js</code> files array. Trust me, it will make unit testing Angular a lot easier.</p>\n<p>The inject method will allow us to accept any params that we would use if we were injecting into any other angular module. Since there is no reason to minify the code for unit tests, we can safely inject without worrying about wrapping the function in an array to deal with the issues we might see when we minify our other code.</p>\n<p>We will inject the <code>$rootScope</code>, which we can use to create a new scope to pass into our controller, and <code>$controller</code>, which will give us access to the controller we created previously.</p>\n<p>We can expose the scope globally to all of the methods inside the controller test suite, so that we can access it when we need to.</p>\n<pre><code class=\"language-js\">describe(&#39;The First Thing Controller&#39;, function(){\n\n    var scope;\n\n    beforeEach(module(&#39;myApp&#39;));\n\n    beforeEach(inject(function ($rootScope, $controller) {\n        scope = $rootScope.$new();\n        $controller(&#39;MyFirstThingCtrl&#39;, {\n            $scope: scope\n        });\n    }));\n\n    ...\n\n});\n</code></pre>\n<p>This may seem like a lot of setup, but it is all you need to do to easily add and modify things withing the scope of your Angular controller</p>\n<p><img src=\"http://us.talentlens.com/wp-content/uploads/accountant-adj.jpg\" width=\"200px\" /></p>\n<h3>Writing the Tests</h3><p>With the suite set up and ready to go, we just need to write our unit tests. If you are familiar with Mocha and the <code>assert</code> library, this should all look pretty familiar to you and it probably doesn&#39;t need much explanation:</p>\n<pre><code class=\"language-js\">describe(&#39;The First Thing Controller&#39;, function(){\n\n    var scope;\n\n    beforeEach(module(&#39;myApp&#39;));\n\n    beforeEach(inject(function ($rootScope, $controller) {\n        scope = $rootScope.$new();\n        $controller(&#39;MyFirstThingCtrl&#39;, {\n            $scope: scope\n        });\n    }));\n\n    describe(&#39;when we add a thing&#39;, function () {\n        it(&#39;should update the array of things&#39;, function () {\n            scope.addThing({\n                name: &#39;My First Thing&#39;    \n            });\n            assert.equal(scope.things[0].name, &#39;My First Thing&#39;);\n        });\n    });\n\n    describe(&#39;when we remove a thing&#39;, function () {\n        it(&#39;should update the array of things&#39;, function () {\n            scope.things = [{\n                name: &#39;My First Thing&#39;\n            }];\n            scope.removeThing(1);\n            assert.ok(!scope.things.length);\n        });\n    });\n\n});\n</code></pre>\n<p>Since the scope is available everywhere inside our test suite, we can easily access it and write tests against it. To run your tests, just use:</p>\n<pre><code class=\"language-bash\">karma start\n</code></pre>\n<p>Or kick it off with the build tool of your choice.</p>\n<p>In my opinion, unit testing is where dependency injection in Angular really shines through. If you have spent much time writing JavaScript tests for applications using a framework other than Angular, you probably know how much better this approach is. Happy testing!</p>\n"},"new-job-at-aloompa":{"published":true,"title":"My New Job At Aloompa","tags":["jobs","life"],"category":"life","date":"9-24-2014","thumbnail":"/images/blog/aloompa.png","slug":"new-job-at-aloompa","yield":"<p>I am excited to announce that next Monday, I will be starting a new job as a Senior JavaScript Developer at <a href=\"http://aloompa.com\">Aloompa</a>!</p>\n<!-- more -->\n<p><img src=\"http://images4.fanpop.com/image/photos/21600000/Goodbye-Michael-gif-the-office-21672830-300-169.gif\" alt=\"\"></p>\n<h3>Goodbye to AppendTo</h3><p>Over the past two years, I have been working at <a href=\"http://appendto.com\">appendTo</a>. AppendTo is an awesome company that focuses on consulting, training and custom development for web and mobile applications. One thing that sets appendTo apart is that they are a 100% remote organization with no home office. </p>\n<p>While I&#39;ve been at appendTo, I&#39;ve worked with some of the best JavaScript developers in the world. At appendTo, I&#39;ve learned, developed and grown more than in any other time in my life. I have made many great friends and I have experienced many great animated gifs in our company <a href=\"http://slack.io\">Slack</a> chat rooms.</p>\n<p><img src=\"http://media.giphy.com/media/27WZGLOwXG2zu/giphy.gif\" alt=\"\"></p>\n<h3>Hello to Aloompa</h3><p>Aloompa is a company based here in Nashville that primarily focuses on facilitating native apps for festivals like <a href=\"http://www.bonnaroo.com/\">Bonnaroo</a> and the <a href=\"http://www.cmaworld.com/cma-music-festival/\">CMA festival</a>. They have an awesome team and a really cool product that I&#39;m excited to be a part of.</p>\n<p>I know this is weird to say, but I can&#39;t wait to start working on Monday!</p>\n"},"getting-started-with-react":{"published":true,"title":"Getting Started With React","tags":["react"],"category":"code","date":"9-08-2014","thumbnail":"/images/blog/react.png","slug":"getting-started-with-react","yield":"<p>I had been meaning to start playing around with React for quite a while now. There is a lot of buzz around React and I really wanted to see what it was all about. I had looked at a little code written with React and JSX and I was frankly a little taken aback by the syntax. But last week, I was at devLink and I saw a presentation by <a href=\"https://twitter.com/ifandelse\">Jim Cowart</a> on the React framework and several things clicked for me. I&#39;ve started playing around with it this week and I thought I&#39;d write an introductory post to cover what I&#39;ve learned so far.</p>\n<!-- more -->\n<h3>What Is React?</h3><p>React is a client-side JavaScript framework created by Facebook and Instagram. React takes a radically different approach to many problems than other client-side frameworks, which makes it interesting to learn.</p>\n<p>The React library only focuses on the UI and it has even been implemented as the <code>view</code> layer for many MV* frameworks.</p>\n<p>Here are a few things that set React apart.</p>\n<h3>JSX</h3><p>React works best when it is paired with a language extension to JavaScript called JSX. At first glance, JSX may look a little strange. Here is an example:</p>\n<pre><code>var HelloMessage = React.createClass({\n  render: function() {\n    return &lt;div&gt;Hello {this.props.name}&lt;/div&gt;;\n  }\n});\nReact.renderComponent(&lt;HelloMessage name=&quot;John&quot; /&gt;, mountNode);\n</code></pre><p>You might notice the markup inside the JavaScript code. That took me aback at first too. What is really interesting is that the markup is actually not a string. It&#39;s also not even HTML. It gets compiled to look like this:</p>\n<pre><code class=\"language-js\">var HelloMessage = React.createClass({displayName: &#39;HelloMessage&#39;,\n  render: function() {\n    return React.DOM.div(null, &quot;Hello &quot;, this.props.name);\n  }\n});\nReact.renderComponent(HelloMessage({name: &quot;John&quot;}), mountNode);\n</code></pre>\n<h3>One-Way Binding</h3><p>If you are accustomed to writing Angular or Knockout applications, you&#39;re probably pretty familiar with the concept of two-way binding. Two-way binding is a central tenant of MVVM frameworks. It means that any data changes in the model are immediately propagated to the view or views and any changes that occur on the view are immediately propagated back to the underlying model.</p>\n<p>The approach with React is to bind the view to the model and then push data back into the model as needed. For more light on the subject of why React uses one-way binding instead of two-way binding, check out this discussion by <a href=\"https://www.youtube.com/watch?v=h3KksH8gfcQ\">Pete Hunt</a>.</p>\n<p>Instead of data being automatically sent back to the model, you have to do the work yourself using event listeners in the JSX &quot;markup&quot;. Here is an example of submitting a form using the <code>handleSubmit</code> event:</p>\n<pre><code>var CommentForm = React.createClass({\n    handleSubmit: function (e) {\n      e.preventDefault();\n      var author = this.refs.author.getDOMNode().value.trim(),\n          text = this.refs.text.getDOMNode().value.trim();\n      this.refs.author.getDOMNode().value = &#39;&#39;;\n      this.refs.text.getDOMNode().value = &#39;&#39;;\n      return;\n    },\n    render: function () {\n      return (\n        &lt;form className=&quot;commentForm&quot; onSubmit={this.handleSubmit}&gt;\n          &lt;input type=&quot;text&quot; placeholder=&quot;Your name&quot; ref=&quot;author&quot; /&gt;\n          &lt;input type=&quot;text&quot; placeholder=&quot;Say something...&quot; ref=&quot;text&quot; /&gt;\n          &lt;input type=&quot;submit&quot; value=&quot;Post&quot; /&gt;\n        &lt;/form&gt;\n      );\n    }\n});\n</code></pre><h3>Flux Application Architecture</h3><p>Instead of the traditional data flow that you will see in MVC applications, React works best when paired with a <a href=\"https://github.com/facebook/flux\">Flux</a> architecture.</p>\n<p>The flow of a traditional MVC application would look something like this:</p>\n<pre><code class=\"language-text\">Controller --&gt; Model --&gt; View\n</code></pre>\n<p>Whereas the flow of a Flux application would look like this:</p>\n<pre><code class=\"language-text\">Action --&gt; Dispatcher --&gt; Store --&gt; View\n</code></pre>\n<p>Using Flux, an action comes into the system and gets passed into the dispatcher. The dispatcher acts as a sort of traffic controller, it ensures that until the current state is rendered, another action cannot be passed into the system. The store is a data layer that updates when you get a new action, and the view, which re-render whenever the stores say something has changes. The view can throw another action into the system and restart the rendering process.</p>\n<p>Using one-way binding, the Flux architecture makes a lot more sense because everything is flowing in a single direction without any cascading effects</p>\n<h3>Virtual DOM</h3><p>React is very quick and responsive. It uses the virtual DOM to create a diff with the current DOM, so only the things that change are updated. There is no needless re-rendering. React can also be rendered on the server-side using Node.js.</p>\n<h3>My Thoughts</h3><p>React is a really cool concept. It tends to create faster and more responsive interfaces than most of the other libraries I&#39;ve worked with.</p>\n<p>On the other side of the coin, React isn&#39;t as fully featured as something like Angular. Here is a comparison of the amount of code each one requires to create a <a href=\"http://www.benmccann.com/blog/todo-mvc-angular-vs-react/\">TODO MVC application</a>. Obviously, Angular is a complete library for managing front-end applications and React on focuses on the view, but it is important to note that if you use React by itself, you will end up writing more boilerplate code to glue the application together. When paired with Flux or any MV* framework, you will see the amount of boilerplate drastically reduced.</p>\n<p>I&#39;m definitely looking forward to using React and Flux more in the future. It&#39;s a really cool and interesting approach and I&#39;ve been really impressed by the responsiveness it provides. What have been your experiences with React?</p>\n<p><em>edit - Many thanks to <a href=\"https://twitter.com/ifandelse\">Jim Cowart</a> for pointing out some things I said that didn&#39;t make sense. Hopefully some of the changes I made will make this a better introduction.</em></p>\n"},"automatically-refresh-your-browser-when-your-code-changes-with-bowsersync":{"published":true,"title":"Automatically Refresh Your Browser When Your Code Changes With BrowserSync","tags":["browsers","browsersync"],"category":"code","date":"9-03-2014","thumbnail":"/images/blog/browsersync.png","yield":"<p>When I first started writing client-side applications, the process was terrible. I had to save my file and then flip over to my browser to check my results. As a result, I was clicking two buttons every time I wanted to save a file. To make matters worse, I had to repeat the process to test my application in multiple browsers. To test a minimum of Chrome, Firefox and a single version of Internet Explorer, I was clicking 4 buttons. To repeat that flow over and over again to test incremental changes was soul killing.</p>\n<!-- more -->\n<p><img src=\"/images/blog/auqaman.png\" alt=\"\"></p>\n<h3>LiveReload</h3><p>A few years ago, a solution called <a href=\"http://livereload.com/\">LiveReload</a> was introduced to address this problem. Using LiveReload, I could tell my computer to watch a certain directory for changes. When a change occurred in one of my files, it would refresh the browser. My workflow with LiveReload was much easier, but the setup was a pain. Anytime I&#39;d set up a new project, I found myself spending an inordinate amount of time setting up a grunt task to watch certain files and keep my browser up to date. Ultimately, I found myself slipping back into the old flow of development on smaller projects because it was too much of a pain to get working.</p>\n<p><img src=\"/images/blog/superman.png\" alt=\"\"></p>\n<h3>Enter BrowserSync</h3><p>A few days ago, I tried out <a href=\"http://www.browsersync.io/\">BrowserSync</a> for the first time. BrowserSync is available as a Grunt or Gulp plugin, but it is also really simple to run as a process in the terminal.</p>\n<p>BrowserSync runs with NodeJS, so if you already have Node installed, you just need to install the <code>browser-sync</code> package like this:</p>\n<pre><code class=\"language-bash\">npm install -g browser-sync\n</code></pre>\n<p>Once BrowserSync is installed, you can use it to watch static files or you can create a proxy for a dynamic site. For example, if I have a SailsJS application, I could watch the files in the <code>public</code> directory like this:</p>\n<pre><code class=\"language-bash\">browser-sync start --proxy &quot;localhost:3117&quot; --files &quot;public/**/*&quot;\n</code></pre>\n<p>BrowserSync will create a proxy to serve the site through and open a browser window pointing to that proxy. Now, anytime I change a file in my <code>public</code> directory, the browser window will be refreshed and I will see the latest code.</p>\n<p>BrowserSync doesn&#39;t care what backend technology you are using. I typically write in Node, but if I was using PHP or Ruby, it would work exactly the same.</p>\n<p>I have been really impressed with BrowserSync so far. Try it out, you may find yourself in a happier place.</p>\n","slug":"automatically-refresh-your-browser-when-your-code-changes-with-bowsersync"},"how-to-upload-remote-images-with-sails-js":{"published":true,"title":"How To Upload Remote Images With SailsJS","tags":["sailsjs","amazons3"],"category":"code","date":"8-18-2014","thumbnail":"/images/blog/how-to-upload-remote-images-with-sails-js.png","yield":"<p>I have been burning the midnight oil working on a Sails application. I&#39;ll be giving a more formal announcement when I launch it, but the basic idea is that you can surf the internet and add recipes for any meals using a handy bookmarklet. Once the recipe is in the database, you can generate a meal plan with any recipes you have added. You can then print off a shopping list based on the contents of your weekly meal plan.</p>\n<!-- more -->\n<p>While the concept is pretty simple, there have been a few gotchas. For example, I wanted to be able automatically to grab a photo of the recipe, download it to my server and resize it so that it would load quickly. The idea was pretty simple, but it took a little bit of research to find the right libraries to get the flow working.</p>\n<p>Sails ships with a file upload handler called <a href=\"https://github.com/balderdashy/skipper\">Skipper</a>, but that is for uploading files, not grabbing files off other websites and downloading them to our server.  I quickly realized, I was going to be working outside of the standard Sails workflow. Luckily, Sails is super-flexible and it can handle it.</p>\n<h3>Downloading Remote Images</h3><p><img src=\"https://c2.staticflickr.com/4/3064/2999268596_24ce077c58.jpg\" alt=\"\"></p>\n<p>You could definitely download images from remote websites using the Node <code>http</code> module. However, I ran across the <a href=\"https://github.com/mikeal/request\">request</a> NPM module, which makes the task a ton easier. You can download request by running:</p>\n<pre><code class=\"language-bash\">npm install request\n</code></pre>\n<p>Once that is done, you can move on to create an image service. In Sails applications, services are a way to share code that can be used in any controller. The service that we will create will go in <code>/api/services/images.js</code>.</p>\n<p>We can start out by providing a &quot;downloadFile&quot; method using request to grab the image and write it to the server.</p>\n<pre><code class=\"language-js\">var request = require(&#39;request&#39;);\n\nmodule.exports = {\n    downloadFile: function (uri, fileName, done) {\n        request.head(uri, function(err, res, body){\n            request(uri).pipe(fs.createWriteStream(fileName)).on(&#39;close&#39;, done);\n        });\n    }\n};\n</code></pre>\n<p>You can try access the &quot;downloadFile&quot; method from any controller. Try it out like this:</p>\n<pre><code class=\"language-js\">image.downloadFile(\n    &#39;http://www.google.com/intl/en_ALL/images/srpr/logo11w.png&#39;,\n    &#39;./tmp/upload/googlelogo.png&#39;,\n    function (data) {\n        res.send(data);\n    });\n</code></pre>\n<h3>Resizing the Image</h3><p><img src=\"http://www.dagami.com/wp-content/uploads/2011/08/big-dog-little-dog.jpg\" alt=\"\"></p>\n<p>Since a user could download an image from anywhere, there was a really real possibility that the images could be huge. I wanted make all of the images have the same (small) width so that the application would load faster. To do that, I found a library called &quot;GraphicsMagick.&quot; There is a little but of work required to get graphics magic running. You will need to use homebrew to install install it on your machine:</p>\n<pre><code class=\"language-bash\">brew install graphicsmagick\n</code></pre>\n<p>Personally, several of my permissions had to be updated in order to install GraphicsMagick. The error trail was easy to follow, but just be aware that it may not be as easy as you might hope. After the brew package is installed, you can install the NPM package:</p>\n<pre><code class=\"language-bash\">npm install gm\n</code></pre>\n<p>Finally, you can add a resize method to your &quot;image&quot; service:</p>\n<pre><code class=\"language-js\">var gm = require(&#39;gm&#39;),\n    fs = require(&#39;fs&#39;),\n    request = require(&#39;request&#39;);\n\nmodule.exports = {\n\n    downloadFile: function (uri, fileName, done) {\n        request.head(uri, function(err, res, body){\n            request(uri).pipe(fs.createWriteStream(fileName)).on(&#39;close&#39;, done);\n        });\n    },\n\n    resize: function (srcPath, dstPath, width, done) {\n        gm(srcPath)\n            .options({imageMagick: true})\n            .resize(width)\n            .write(dstPath, done);\n    }\n\n};\n</code></pre>\n<h3>Putting It All Together</h3><p><img src=\"https://farm1.staticflickr.com/179/394669949_34d59f1e86.jpg\" alt=\"\"></p>\n<p>Now that we have a downloadFile method and a resize method, we can create a third method that accesses both of them to download and resize the image that we pass in. We&#39;ll call this method <code>process</code>.</p>\n<pre><code class=\"language-js\">var gm = require(&#39;gm&#39;),\n    fs = require(&#39;fs&#39;),\n    request = require(&#39;request&#39;);\n\nmodule.exports = {\n\n    downloadFile: function (uri, fileName, done) {\n        request.head(uri, function(err, res, body){\n            request(uri).pipe(fs.createWriteStream(fileName)).on(&#39;close&#39;, done);\n        });\n    },\n\n    resize: function (srcPath, dstPath, width, done) {\n        gm(srcPath)\n            .options({imageMagick: true})\n            .resize(width)\n            .write(dstPath, done);\n    },\n\n    process: function (uri, fileName, done) {\n        var self = this;\n        this.downloadFile(uri, fileName, function () {\n            self.resize(fileName, fileName, 200, done);\n        });\n    }\n\n};\n</code></pre>\n<p>Now, inside of any controller, we can call <code>image.process()</code> method. For example, we could download and resize the Google logo like this:</p>\n<pre><code class=\"language-js\">image.process(\n    &#39;http://www.google.com/intl/en_ALL/images/srpr/logo11w.png&#39;,\n    &#39;./tmp/upload/googlelogo.png&#39;,\n    function (data) {\n        res.send(data);\n    });\n</code></pre>\n<p>Thanks to GraphicsMagick and the request module, downloading and resizing an image from any website using nothing more than a URL is actually not that difficult. Who would have thought?</p>\n","slug":"how-to-upload-remote-images-with-sails-js"},"communicating-between-controllers-in-angular":{"published":true,"title":"Communicating Between Controllers In Angular","tags":["angular","pubsub"],"category":"code","date":"8-11-2014","thumbnail":"/images/blog/communicating-between-controllers-in-angular.jpg","yield":"<p>In Angular, there are times when you will want one controller to be able to communicate with other controllers. For example, if you want your user to be able to click a button and for a different controller to be aware of the UI change.</p>\n<!-- more -->\n<p>Take this markup as an example:</p>\n<pre><code class=\"language-html\">&lt;div ng-app=&quot;myApp&quot;&gt;\n    &lt;div ng-controller=&quot;Ctrl1&quot;&gt;\n        The current number is: {{number}}\n    &lt;/div&gt;\n    &lt;div ng-controller=&quot;Ctrl2&quot;&gt;\n        &lt;button ng-click=&quot;buttonClick()&quot;&gt;Click Me&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>It&#39;s a very basic contrived example, but we have a controller called &quot;Ctrl1&quot; that has a number in its scope. We also have a totally separate controller called &quot;Ctrl2&quot; that has a button with a click event on it.</p>\n<p>Our entire application might look like this:</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.number = 1;\n}]);\n\nmyApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, function ($scope) {\n    $scope.buttonClick = function () {\n        console.log(&#39;button was clicked&#39;);\n    };\n}]);\n</code></pre>\n<p>We obviously don&#39;t want to reference <code>Ctrl2</code> in <code>Ctrl1</code>. That is what we call &quot;tight coupling&quot; and it is a sure recipe for building an app that will  fall apart when changes are made. What we want to do is broadcast an event to let any controllers in the application know that there has been a change. That way, the controllers that are interested will react to the event, but no controller is directly communicating with any other controller. In other words, all <code>Ctrl1</code> knows is that it is broadcasting an event. All that <code>Ctrl2</code> knows is that it is listening for an event. They are completely unaware of the existence of one another.</p>\n<p>First of, we will need to modify <code>Ctrl1</code> to listen for an event. Angular gives us the ability to listen for and emit events on any module, but it won&#39;t do any good to listen for an event on the <code>$scope</code> of <code>Ctrl1</code> itself because <code>Ctrl2</code> can&#39;t send an event to it. It doesn&#39;t know that it exists. Instead, we will need to inject the $rootScope into our controller. The $rootScope is the application itself.</p>\n<p>Using the $rootScope and the <code>$on</code> method, we can listen for any events that are broadcast to the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">var myApp = angular.module(&#39;myApp&#39;, []);\n\nmyApp.controller(&#39;Ctrl1&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.number = 1;\n    $rootScope.$on(&#39;buttonClicked&#39;, function () {\n        $scope.number++;\n    });\n}]);\n</code></pre>\n<p>The <code>$on</code> event that is triggered has two arguments, the context of the event and the data that is being broadcast. This means that you could actually pass an object of data with the event.</p>\n<p>Last of all, we will need to update <code>Ctrl2</code> to broadcast an event when the button is clicked. Again, this will need to happen on the <code>$rootScope</code>.</p>\n<pre><code class=\"language-js\">myApp.controller(&#39;Ctrl2&#39;, [&#39;$scope&#39;, &#39;$rootScope&#39;, function ($scope, $rootScope) {\n    $scope.buttonClick = function () {\n        $rootScope.$broadcast(&#39;buttonClicked&#39;);\n    };\n}]);\n</code></pre>\n<p>As you can see, sending messages between controllers is actually pretty simple. If you&#39;d like to see this all together, I&#39;ve created a <a href=\"http://jsfiddle.net/63KWh/\">Fiddle</a> that you can try out. For more advanced messaging, I would recommend checking out Jonathan Creamer&#39;s article, &quot;<a href=\"http://jonathancreamer.com/an-angular-event-bus-with-postal-js/\">An angular.js event bus with postal.js</a>&quot; where he shows how do this same thing using Postal. His approach requires another library, but it does provide a more robust API to work with.</p>\n<p>How are you handling communication between modules and controllers in Angular? I&#39;d love to hear your thoughts.</p>\n","slug":"communicating-between-controllers-in-angular"},"the-state-of-javascript-a-shift-from-imperative-to-declarative":{"published":true,"title":"The State Of JavaScript - A Shift From Imperative To Declarative","tags":["javascript"],"category":"code","date":"8-04-2014","thumbnail":"/images/blog/the-state-of-javascript-a-shift-from-imperative-to-declarative.jpg","slug":"the-state-of-javascript-a-shift-from-imperative-to-declarative","yield":"<p>JavaScript has seen a ton of development even in the past 5 years. The changes haven&#39;t been so much in the language itself, but in how the language is being used. This has been a product of the host of libraries and frameworks that have been created that allow developers to consume them and do just about anything. Need a library to build robots to assist you in your evil plot to take over the world? It probably already exists.</p>\n<!-- more -->\n<p>If I had to pinpoint the biggest shift in the JavaScript world in the past few years, it would be the transition from imperative to declarative.</p>\n<p><img src=\"http://i.dailymail.co.uk/i/pix/2009/03/16/article-1162451-03BD9EBE000005DC-863_468x286.jpg\" alt=\"\"></p>\n<h3>Imperative JavaScript</h3><p>Back in the day, all we had was jQuery and a handful of UI plugins. Creating a well-structured app was a very difficult task. Sure, there were well-written applications before the slew of MV* frameworks came on the scene, but for the most part, JavaScript applications were like a big bowl of jQuery spaghetti code with little or no separation between the data and the UI.</p>\n<p>I have to admit to writing code like this when I was first learning JavaScript:</p>\n<pre><code class=\"language-js\">$(&#39;.my-buttons&#39;).click(function (e) {\n    $.ajax({\n        url: &#39;some/url&#39;,\n        data: {\n            id: $(e.target).id()\n        },\n        success: function (data) {\n            $(&#39;#my-list&#39;).append(&#39;&lt;li id=&quot;&#39; + data.id + &#39;&quot;&gt;&#39; + data.name + &#39;&lt;/li&gt;&#39;);\n        }\n    })\n});\n</code></pre>\n<p>I could spend an entire post critiquing the code in the snippet above, but its probably enough to say that the root of the problem is that there is no persistent model layer. All of the data is managed in the DOM itself. Because this is the case, it makes it really hard to keep the state of the DOM in sync with the data that is saved to the server. Worse yet, the JavaScript code is not testable without testing the elements in the DOM.</p>\n<p>Even closer to the root of the problem is the imperative nature of the code. Imperative programing is when your code specifies not just <em>what</em> you want to happen, but <em>how</em> you want it to happen. In other words, imperative programming means that you are dealing with many internals to make your code function properly.</p>\n<p>In the code example above, we are essentially saying &quot;when someone clicks on one of my buttons, I want to make an Ajax request to <code>some/url</code> passing in the ID of my targeted element. When the Ajax request comes back successfully, I want to update my UI by appending an item to my list with the data that is returned from my Ajax request.&quot;</p>\n<p>The process is very fragile. What if the name of the list element changes? What if we need to do something else with the data in addition to our current DOM manipulation? What if other parts of the UI need to be updated as a result of the button being clicked? How can we make the application aware of the data at a higher level? These are all important questions that could take us down a rabbit hole of complex UI changes, deeply nested callbacks and the terrible feeling of anxiety and depression each time someone wants us to update the application.</p>\n<p>There has to be a better way!</p>\n<p><img src=\"http://machoarts.com/wp-content/uploads/2012/08/The+Cingularity+cg+robot.jpg\" alt=\"\"></p>\n<h3>Declarative JavaScript</h3><p>Fortunately, there is a better way. In contrast to imperative, with declarative programming you only describe <em>what</em> you want to happen, and leave the question of <em>how</em> it will happen up to your framework of choice.</p>\n<p>Certain frameworks do a better job of managing the internals than others, but I have found that <a href=\"https://angularjs.org/\">Angular</a>, <a href=\"http://knockoutjs.com/\">Knockout</a>, <a href=\"http://emberjs.com/\">Ember</a> and <a href=\"https://facebook.github.io/react/\">React</a> all do a good job of it thanks to their various concepts of two-way binding.</p>\n<p>With the framework of your choice, you should be able to update the data in a model layer and have the UI automatically update without ever writing any code to change anything in the DOM. Make no mistake, all of these frameworks are changing the DOM, but that has been abstracted away to the point where you should never have to manipulate it directly or with jQuery.</p>\n<p>The above example written in Angular might look something like this:</p>\n<pre><code class=\"language-js\">var myServices = angular.module(&#39;myServices&#39;, [&#39;ngResource&#39;]);\n\nmyServices.factory(&#39;List&#39;, [&#39;$resource&#39;, function ($resource) {\n    return $resource(&#39;some/url&#39;);\n}])\n\nvar myControllers = angular.module(&#39;myControllers&#39;, []);\n\nmyControllers.controller(&#39;MyAwesomeCtrl&#39;, [&#39;$scope&#39;, &#39;List&#39;, function ($scope, List) {\n    $scope.list = List.query();\n    $scope.buttonClick = function () {\n        $scope.list = List.query();\n    }\n}]);\n</code></pre>\n<p>The binding of the data to the DOM is done directly in the template. Everything is totally testable and best of all we are no longer writing imperative code. Our application doesn&#39;t need to know how the elements are being updated in the DOM. The controller doesn&#39;t even care whether or not anything in the DOM is bound to it, only that data is being set in the its scope.</p>\n<p>This is the big shift that has been occurring in JavaScript application development over the past few years and it is making JavaScript a much better environment to write in. As a JavaScript developer, I think the next few years will be an exciting renaissance as we continue to move complex internals into our libraries and frameworks, which will make life for the everyday developer a lot easier.</p>\n"},"using-knockout-for-progressive-enhancement-on-lists":{"published":true,"title":"Progressive Enhancement With the Knockout Foreach Binding","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-28-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement-on-lists.jpg","slug":"using-knockout-for-progressive-enhancement-on-lists","yield":"<p>In my <a href=\"/blog/using-knockout-for-progressive-enhancement\">previous blog post</a>, I talked about how you can use Knockout to enhance forms that are rendered from the server. This led to my next challenge - creating lists that are rendered from the server and then managed with Knockout on the client-side in instances where JavaScript is enabled.</p>\n<!-- more -->\n<p><img src=\"http://elitedaily.com/wp-content/uploads/2013/04/pote2.jpg\" alt=\"\"></p>\n<h3>One Potential Approach</h3><p>Okay, let&#39;s say for example that you have a list of animals that are being rendered from the server-side like this:</p>\n<pre><code class=\"language-html\">&lt;ul&gt;\n    &lt;li&gt;Dog&lt;/li&gt;\n    &lt;li&gt;Cat&lt;/li&gt;\n    &lt;li&gt;Goldfish&lt;/li&gt;\n    &lt;li&gt;Chicken&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>The problem with binding that list with a Knockout <code>foreach</code> is that there are multiple items inside the list that the server is rendering and a foreach would typically only require a single list item to represent everything in an observable array like this:</p>\n<pre><code class=\"language-html\">&lt;ul data-bind=&quot;foreach: animals&quot;&gt;\n    &lt;li data-bind=&quot;text: name&quot;&gt;&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>If our goal is to to create a single list that can even be used when JavaScript is disabled, but enhanced with Knockout, what we need to do involves creating a custom binding that loops over the existing elements inside the <code>&lt;ul&gt;</code> and applies the data in it to an observable array. Once our data is in the array, we can replace the <code>&lt;li&gt;</code> elements that came back from the server with our own Knockout template, which can re-render the list items from the client-side.</p>\n<pre><code class=\"language-js\">ko.bindingHandlers.initialForEach = {\n    init: function (element, valueAccessor, allBindings) {\n        var $el = $(element);\n        $el.children().each(function () {\n            if (allBindings().foreach) {\n                allBindings().foreach.push(JSON.parse($(this).attr(&#39;data-options&#39;)));\n            }\n        });\n        $el.html(valueAccessor().template);\n    }\n};\n</code></pre>\n<p><img src=\"http://www.allure.com/beauty-trends/blogs/daily-beauty-reporter/2013/05/23/sunscreen-being-applied-to-child.jpg\" alt=\"\"></p>\n<h3>Applying My Approach</h3><p>Applying our new binding would look something like this:</p>\n<pre><code class=\"language-html\">&lt;ul data-bind=&#39;initialForEach: {\n    template: forEachTemplate\n}, foreach: animals&#39;&gt;\n    &lt;li data-options=&#39;{ &quot;id&quot;: 1, &quot;type&quot;: &quot;Mammal&quot;, &quot;name&quot;: &quot;Dog&quot; }&#39;&gt;Dog&lt;/li&gt;\n    &lt;li data-options=&#39;{ &quot;id&quot;: 2, &quot;type&quot;: &quot;Mammal&quot;, &quot;name&quot;: &quot;Cat&quot; }&#39;&gt;Cat&lt;/li&gt;\n    &lt;li data-options=&#39;{ &quot;id&quot;: 3, &quot;type&quot;: &quot;Fish&quot;, &quot;name&quot;: &quot;Goldfish&quot; }&#39;&gt;Goldfish&lt;/li&gt;\n    &lt;li data-options=&#39;{ &quot;id&quot;: 5, &quot;type&quot;: &quot;Bird&quot;, &quot;name&quot;: &quot;Chicken&quot; }&#39;&gt;Chicken&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>You might notice that I&#39;m passing all of the data for each list item into a <code>data-options</code> attribute. I&#39;ve been thinking long and hard about how to accomplish this by looking inside the list elements and grabbing the content inside of each element, but there may be any number of properties that you&#39;ll want to pass into your observable array and to be able to keep this binding reusable and generic, passing in a string of JSON seems the most efficient.</p>\n<p>I&#39;ll go ahead and put a viewModel behind the template. The animals observableArray will hold all of the data we need. I added another animal to demonstrate how the client-side and server-side data can be merged together. We also have a string template that will replace the server-rendered list items with the ones coming from the client. Just for fun, I additionally added a click event that tells us which animal was clicked.</p>\n<pre><code class=\"language-js\">var viewModel = {\n    animals: ko.observableArray([{\n        id: 4,\n        type: &#39;Mammal&#39;,\n        name: &#39;Mouse&#39;\n    }]),\n    clickAnimal: function (animal) {\n        alert(&#39;Name: &#39; + animal.name + &#39;, Type: &#39; + animal.type);\n    },\n    forEachTemplate: &#39;&lt;li data-bind=&quot;text: name, click: $parent.clickAnimal&quot;&gt;&lt;/li&gt;&#39;\n};\n</code></pre>\n<p>If you want to see this in action, I&#39;ve created a <a href=\"http://jsfiddle.net/QPrPW/\">JSFiddle</a> that combines all of the steps together.</p>\n<p><img src=\"http://petapixel.com/assets/uploads/2009/07/7motivated-critique.jpg\" alt=\"\"></p>\n<h3>Criticizing My Approach</h3><p>This approach is far from perfect. For one thing, you are rendering everything in the list twice. It may not be the end of the world for a short list, but if you have a ton of items complete with images or other media, you may take a performance hit. Another issue is the awkwardness of needing to write a template for the <code>&lt;li&gt;</code> tags for the server and the client. There could certainly be more room for mistake when you have to write basically the same functionality twice.</p>\n<p>If you have a better approach, I&#39;d be interested to hear it. This is the best I could come up with, but its far from ideal.</p>\n"},"using-knockout-for-progressive-enhancement":{"published":true,"title":"Using Knockout For Progressive Enhancement","tags":["knockout","progressive-enhancement"],"category":"code","date":"7-14-2014","thumbnail":"/images/blog/using-knockout-for-progressive-enhancement.jpg","slug":"using-knockout-for-progressive-enhancement","yield":"<p>One of the great things about all of the best MV* frameworks is that they allow you to hardly render any templates on the server-side. That means that you only need to hit the server for data. Of course, that is great if your users have JavaScript enabled, but what if they don&#39;t?</p>\n<!-- more -->\n<p>Lately, I have been thinking about how a framework like Knockout might perform for progressive enhancement. I&#39;ve been wondering if it is possible to make a page with robust client-side validation, for example, that will work on some level whether JavaScript is enabled or not.</p>\n<p>The real challenge is with how Knockout data-bindings work. It is a very different paradigm than the old &quot;get HTML from the server and render it&quot; mentality.</p>\n<p><img src=\"http://i2.cdnds.net/11/41/618_movies_rocky_10.jpg\" alt=\"\"></p>\n<h3>Let&#39;s Knock It Out</h3><p>Let&#39;s start off with a plain form. Something like this:</p>\n<pre><code class=\"language-html\">&lt;form action=&quot;#&quot;&gt;\n    &lt;div&gt;\n        &lt;label&gt;Name&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;couch&quot; name=&quot;name&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Size&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;big&quot; name=&quot;size&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Width&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;6&quot; name=&quot;width&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Height&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;2&quot; name=&quot;hegiht&quot; /&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The form already has some values set on each field as if we are on an editing page. Our mission is to use Knockout to enhance the form and maintain the current values.</p>\n<p>A well structured Knockout application typically separates the model layer from the viewModel layer, so you might have a model that looks something like this:</p>\n<pre><code class=\"language-js\">var Chair = function (obj) {\n    if (typeof obj === &#39;object&#39;) {\n        this.name(obj.name);\n        this.type(obj.type);\n        this.width(obj.width);\n        this.height(obj.height);\n    }\n};\n\n_.extend(Chair.prototype, {\n    name: ko.observable(&#39;&#39;),\n    type: ko.observable(&#39;&#39;),\n    width: ko.observable(0),\n    height: ko.observable(0)\n});\n</code></pre>\n<p>To complete our tiny little application, we might have a viewModel that looks something like this:</p>\n<pre><code class=\"language-js\">var ChairView = function () {\n    this.chair = new Chair();\n};\n\n_.extend(ChairView.prototype, {\n    submit: function () {\n        console.log(&#39;submitted the form&#39;, this.chair);\n    }\n});\n\nko.applyBindings(new ChairView(), document.body);\n</code></pre>\n<p>In a typical application, you would get the model data through an ajax or websocket request. For the sake of our example application, that would be redundant because we already have the data passed in with the server-side template. It would also slow down the application because it wouldn&#39;t really work with our enhancements until the xhr request returns.</p>\n<p>This means that there are two ways we can get the data into the model to manipulate it.</p>\n<p><img src=\"http://static.indianexpress.com/m-images/Fri%20Sep%2006%202013,%2014:38%20hrs/M_Id_417124_Planet_Earth.jpg\" alt=\"\"></p>\n<h3>Global Data Variable</h3><p>The first way is to create a global variable from the server-side template that basically provides all of the data as an object. Something like this might work:</p>\n<pre><code class=\"language-html\">&lt;script type=&quot;text/javaScript&quot;&gt;\nwindow.chairData = {\n    &#39;name&#39;: &#39;couch&#39;,\n    &#39;size&#39;: &#39;big&#39;,\n    &#39;width&#39;: 6,\n    &#39;height&#39;: 2\n};\n&lt;/script&gt;\n</code></pre>\n<p>Then we would just modify the model instantiation in the viewModel like this:</p>\n<pre><code class=\"language-js\">var ChairView = function () {\n    this.chair = new Chair(window.chairData);\n};\n</code></pre>\n<p>Finally, we will need to modify our template to accept the new bindings:</p>\n<pre><code class=\"language-html\">&lt;form action=&quot;#&quot; data-bind=&quot;submit: submit&quot;&gt;\n    &lt;div&gt;\n        &lt;label&gt;Name&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;couch&quot; name=&quot;name&quot; data-bind=&quot;value: chair.name&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Size&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;big&quot; name=&quot;size&quot; data-bind=&quot;value: chair.size&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Width&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;6&quot; name=&quot;width&quot; data-bind=&quot;value: chair.width&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Height&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;2&quot; name=&quot;hegiht&quot; data-bind=&quot;value: chair.height&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n&lt;script type=&quot;text/javaScript&quot;&gt;\n    window.chairData = {\n        &#39;name&#39;: &#39;couch&#39;,\n        &#39;size&#39;: &#39;big&#39;,\n        &#39;width&#39;: 6,\n        &#39;height&#39;: 2\n    };\n&lt;/script&gt;\n</code></pre>\n<p>It works, but we&#39;re stuck with using a global variable, which is something we generally want to avoid as JavaScript developers. We also have to include inline JavaScript to get our data into the viewModel. There has to be a better way!</p>\n<p><img src=\"http://images.blog.autoshopper.com/270_125-Anonymous.jpg\" alt=\"\"></p>\n<h3>Using a Custom Binding</h3><p>It finally hit me that a custom binding would make a ton of sense for this problem. If we know that the original data is in the DOM, we just need to use a binding to extract it out and apply it to the observable. Something like this should work:</p>\n<pre><code class=\"language-js\">ko.bindingHandlers.initialValue = {\n    init: function(element, valueAccessor, allBindings) {\n        var bindings = allBindings();\n        if (bindings.value) {\n            bindings.value($(element).val());\n        }\n    }\n};\n</code></pre>\n<p>As you can see, we&#39;re looking to see if there is a &quot;value&quot; binding applied to the element. If there is, we are using that binding accessor to push in the current value of the element.</p>\n<p>Applying this to our template will look something like this:</p>\n<pre><code class=\"language-html\">&lt;form action=&quot;#&quot; data-bind=&quot;submit: submit&quot;&gt;\n    &lt;div&gt;\n        &lt;label&gt;Name&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;couch&quot; name=&quot;name&quot; data-bind=&quot;initialValue, value: chair.name&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Size&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;big&quot; name=&quot;size&quot; data-bind=&quot;initialValue, value: chair.size&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Width&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;6&quot; name=&quot;width&quot; data-bind=&quot;initialValue, value: chair.width&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;Height&lt;/label&gt;\n        &lt;input type=&quot;text&quot; value=&quot;2&quot; name=&quot;hegiht&quot; data-bind=&quot;initialValue, value: chair.height&quot; /&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>It looks pretty unobtrusive in the markup and it get the job done without needing to hit the server to get the data that is already available. That&#39;s pretty good mileage for a 3-line custom binding!</p>\n<p>If you want to see it in action, I put together a <a href=\"http://jsfiddle.net/UT73F/1/\">fiddle</a> showing how it works.</p>\n<p>What do you think? Is it even worth optimizing for people who have JavaScript turned off? Is there a better approach to pass non-Ajax server-side data into a client-side model? Leave a comment and tell me what you think.</p>\n"},"how_to_not_be_a_cyborg_when_you_work_on_computers":{"published":true,"title":"How To Not Be A Cyborg When You Work On Computers","tags":["productivity","working-from-home","work-life-balance"],"category":"productivity","date":"7-03-2014","thumbnail":"/images/blog/cyborg.png","slug":"how_to_not_be_a_cyborg_when_you_work_on_computers","yield":"<p>When I was a kid, we had a family desktop computer that we kept in the living room. Since I had a brother and two sisters in addition to my parents, we had to ration our computer time to allow everyone to get on our amazing dailup connection and do whatever we liked to do. Because of that, we were limited to two hours of computer time a day.</p>\n<!-- more -->\n<p>It was sometimes difficult to see my siblings doing things on the computer that I thought were a waste of time. Things like looking up statistics on sports teams or browsing the online American Girl catalog. I&#39;ll leave which of my siblings were doing each activity up to the imagination! When I was on the computer, it was my time to learn and to create. I was learning how to manipulate images, make 3D animations and write HTML. I was producing movies, graphic designs and static websites. They were all horrible and I would be ashamed of anything I made in high-school, but the point was that I was trying to maximize my scarce resource of time to produce something that would last. This came in the form of self-education and finished projects.</p>\n<p>In order to maximize my time, I would do as much as I could in preparation of my time on the computer. I would makes lists of the things I planned to accomplish when I finally got my turn. If I was working on an animation, I would storyboard it out by hand. If I was making a website, I would sketch it out on paper so I had a good idea of where my tables would span. I don&#39;t layout web pages in tables anymore, but it was the late 90s and tables were all we had at that point. I didn&#39;t realize it at the time, but one of the reasons I was so productive was that my time on the computer was a scarce resource that I couldn&#39;t afford to waste.</p>\n<p>Now, I have my own personal laptop. Taking care of adult responsibilities and children aside, I could literally be on it 24/7. Working in computer programming, it&#39;s actually an expectation of my job that I spend 8 hours each working day on the computer. However, I have found several hacks to keep me from being on the computer all the time.</p>\n<p>The great thing about limiting my time on devices is that it gives me more balance between work and the rest of my life. When I&#39;m not always on the computer, I have more time to prepare for when I do get on the computer by planning my workday, thinking more clearly, and clearing my mind so that I am fresh when I do get on.</p>\n<p>Being a human, I don&#39;t always perfectly follow these guidelines, but when I do, I&#39;ve found that they really help me to get the most out of my time. When I get the most out of my time, I can concentrate on the things that really matter, like my family.</p>\n<p>So, without further ado, here are my guidelines for not being a cyborg:</p>\n<h3>Plan Your Day Before You See a Screen</h3><p><img src=\"http://www.onlineuniversities.com/wp-content/uploads/2011/08/career-planning-sm.jpeg\" alt=\"\"></p>\n<p>Before I start my work for the day, I like to list out the things I want to accomplish. If there are more than 3 items on my list, I move the less urgent items to a list for the next day. Throughout the day, I can refer to my list to determine if I&#39;m getting the things done that I set out to do. The added benefit of getting to check items off the list is a reward unto itself.</p>\n<h3>Have Work Hours</h3><p><img src=\"http://i.investopedia.com/inv/articles/slideshow/delusions-working-from-home/reduced-hours.jpg\" alt=\"\"></p>\n<p>This one is a little harder for me because I work from home and our oldest son has autism and our youngest son is a baby, so I often need to help my wife during the day. However, this is one of the best ways to protect a balance between work and life outside of work. The trick here is to set a schedule for when you will be working and when you will not be working. This schedule should include breaks. It is unrealistic to think you can work at a computer for 8 or more hours straight without needing a break. </p>\n<p>If you have kids or animals inside, or if you have a chatty co-worker in the next cubicle, you have to be flexible. There will be some distractions. The key is to minimize distractions as much as possible. It is no secret that anytime you are torn out of a focused state of work, it can take as much as 15 minutes to get yourself back to the place you were at before the distraction.</p>\n<h3>Read Books, Not RSS Feeds</h3><p><img src=\"http://static.guim.co.uk/sys-images/guardian/Pix/pictures/2012/1/9/1326108641720/A-woman-reading-a-book-007.jpg\" alt=\"\"></p>\n<p>This is something I have recently been trying to get better at. The temptation at the end of a day is to open my RSS reader on my smartphone and get the quick and easy satisfaction of reading several blog posts and articles rather than reading a book. The benefit of reading a book is that it is on paper, or at least on a Kindle that reads like paper. For someone who spends a lot of time looking at a monitor, it is important to save your eyes whenever you can.</p>\n<p>There is also the benefit of getting a better  education on a given topic. Most blog posts are concise by design and while they give you a quick look into a concept or idea, the length of a book is more ideal for fleshing it out.</p>\n<p>Articles and blog posts also limit you to the ideas of people from one time in history, namely today. This can be an advantage or a disadvantage. The advantage with blog posts comes when we are learning about things that are current and not timeless. For example, reading about a new technology makes more sense from a blog than a book, because tech is constantly evolving.</p>\n<h3>Give Up the Smartphone Nervous Tick</h3><p><img src=\"http://www.biologyoftechnology.com/wp-content/uploads/2012/02/smartphones_people.jpg\" alt=\"\"></p>\n<p>Have you ever forgotten to bring your phone when you went to pick up some fast food? It&#39;s crazy to look around at all of the people with their noses in their devices. It&#39;s almost awkward to not have a phone to look at. The sad thing is that you can miss out on the world around you if you are immersed in the digital world while you walk around from place to place.</p>\n<p>Try leaving your phone in the car when you meet your friends. At least you will be engaged in the conversation even if they aren&#39;t.</p>\n<h3>Write Things On Paper</h3><p><img src=\"https://c2.staticflickr.com/8/7061/6880096005_fe6a7eefac_z.jpg\" alt=\"\"></p>\n<p>Writing on paper is becoming a thing of the past, but there are tools like <a href=\"http://evernote.com\">Evernote</a> that make it easy to get your scribbles into a digital format if you need to.</p>\n<p>I don&#39;t write blog posts on paper, but I tend to take notes in my sketchbook along with my sketches. It&#39;s interesting to me to see how the things that I&#39;m taking notes about and the sketches that I draw tend to line up. I am a visual thinker, so an illustration is often easier for me to understand than words.</p>\n<p>I&#39;m sure there are a ton of things you could do in addition to this to be able to live a full life and still work on a computer, but these were just some thoughts I had on the topic.</p>\n<p>Do you think it is important to create a separation between work and non-work activities? What do you do to maintain that separation?</p>\n"},"syncing-angular-with-sails":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":7,"lastPart":true,"title":"Syncing Angular With Sails","tags":["sailsjs","angular"],"category":"code","date":"6-30-2014","thumbnail":"/images/blog/syncing-angular-with-sails.png","yield":"<div class=\"series-placement\">\n\n    This is part 7 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/sails-models\">Previous Post In This Series</a></h4>\n\n</div>\n\n<p>Now that we&#39;ve gotten our server-side API set up, we can us it to get data into the Angular portion of our application. We&#39;ll be using the $http service that Angular gives us out of the box. The point of this is to quickly get the application running and not necessarily best practice, so please be forgiving.</p>\n<!-- more -->\n<p>We&#39;ll start off by adding the <code>$http</code> service to our controller in <code>assets/js/controllers/ListCtrl.js</code>.</p>\n<pre><code class=\"language-js\">define(function () {\n    return [&#39;$scope&#39;, &#39;$http&#39;, function($scope, $http) {\n        $scope.description = &#39;&#39;;\n        $scope.items = [...];\n    }];\n});\n</code></pre>\n<p>We also added a description to the scope for managing new items in our list. We&#39;ll get back to that in a second.</p>\n<p>Previously, we were passing an array to <code>$scope.items</code>. Now that we have an api to hit, we can get the data from the server:</p>\n<pre><code class=\"language-js\">$http.get(&#39;/list/find&#39;).success(function(data) {\n  for (var i = 0; i &lt; data.length; i++) {\n    data[i].index = i;\n  }\n  $scope.items = data;\n});\n</code></pre>\n<p>We can also flesh out the adding and removing of items from our list:</p>\n<pre><code class=\"language-js\">$scope.addItem = function () {\n    $http.get(&#39;/list/create?description=&#39; + $scope.description).success(function(data) {\n      $scope.items.push(data);\n    });\n};\n\n$scope.removeItem = function (data) {\n    $http[&#39;delete&#39;](&#39;/list/&#39; + data.id).success(function() {\n      $scope.items.splice(data.index, 1);\n    });\n};\n</code></pre>\n<p>Last of all, we&#39;ll add a method to trigger when an item in the list is checked:</p>\n<pre><code class=\"language-js\">$scope.itemCheck = function (data) {\n    $http.get(&#39;/list/update?id=&#39; + data.id + &#39;&amp;completed=&#39; + ((data.completed) ? 0: 1));\n};\n</code></pre>\n<p>Now, we just need to make a few updates to our <code>/views/list/index.ejs</code> template:</p>\n<pre><code class=\"language-html\">&lt;div ng-controller=&quot;ListCtrl&quot;&gt;\n    &lt;ul class=&quot;checklist&quot;&gt;\n        &lt;li ng-repeat=&quot;item in items&quot;&gt;\n            &lt;input type=&quot;checkbox&quot; ng-model=&quot;item.completed&quot; ng-click=&quot;itemCheck(item)&quot; /&gt; &lt;span ng-bind=&quot;item.description&quot;&gt;&lt;/span&gt; &lt;button class=&quot;btn btn-sm btn-danger&quot; ng-click=&quot;removeItem(item)&quot;&gt;x&lt;/button&gt;&lt;br /&gt;&lt;br /&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;input type=&quot;text&quot; ng-model=&quot;description&quot; /&gt; &lt;button class=&quot;btn btn-primary&quot; ng-click=&quot;addItem()&quot;&gt;Add&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>That will do it. Angular and Sails should now be communicating with each other and your data is being saved correctly to the database.</p>\n<p>If you are following along with the Github repo, <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/75d83433e1deffee62542af877a8e7dc31a3031c\">this is the place that we&#39;ve gotten to</a>.</p>\n<p>Thanks for following along with this series! Now that it is over, we can get back to normal one-off posts.</p>\n","slug":"syncing-angular-with-sails"},"sails-models":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":6,"title":"Sails Models","tags":["sailsjs"],"category":"code","date":"6-27-2014","thumbnail":"/images/blog/sails-models.png","slug":"sails-models","yield":"<div class=\"series-placement\">\n\n    This is part 6 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/angular-controllers-with-sails-app\">Previous Post In This Series</a> | <a href=\"/blog/syncing-angular-with-sails\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>In the last few posts, we have been building an application using Sails, Angular and RequireJS. We&#39;ve got a basic UI in place now, so we should be able to get it to a point where we can actually send and receive data from the server.</p>\n<!-- more -->\n<p>The first thing to do is to open our <code>/api/models/List.js</code> file that we generate earlier. There shouldn&#39;t be much in it at this point. We can go ahead and a few attributes:</p>\n<pre><code class=\"language-js\">module.exports = {\n\n  attributes: {\n    &quot;description&quot;: {\n        &quot;type&quot;: &quot;string&quot;,\n        &quot;required&quot;: true\n    },\n    &quot;completed&quot;: {\n        &quot;type&quot;: &quot;boolean&quot;,\n        &quot;defaultsTo&quot;: false\n    }\n  }\n\n};\n</code></pre>\n<p>Now, we have a &quot;completed&quot; boolean for each record that defaults to false and a &quot;description&quot; that is required.</p>\n<h3>Sails Blueprints</h3><p>Sails makes creating an API really easy by providing something called &quot;blueprints&quot;. The basic idea is that if you have a controller and model with the same name, Sails will automatically create REST and CRUD endpoints that you can easily hit with Ajax.</p>\n<p>By default, all of the paths route to the root of the root of the domain, but if we edit the <code>config/controllers.js</code> file, we can change the path that the blueprints point to so that it doesn&#39;t interfere with the rest of our application. We just need to find the option called &quot;prefix&quot; and add our own prefix like this:</p>\n<pre><code class=\"language-js\">{\n  ...\n  prefix: &#39;/api&#39;,\n  ...\n}\n</code></pre>\n<p>Now our routes should look something like this:</p>\n<ul>\n<li>POST /api/list - Inserts a record</li>\n<li>PUT: /api/list/:id - Updates the record</li>\n<li>DELETE: /api/list/:id - Deletes a record</li>\n<li>GET: /api/list/find - Returns all of the records</li>\n<li>GET: /api/list/find/:id - Returns a specific record</li>\n</ul>\n<p>The really cool thing is that we barely did anything to make all of this possible. It simply works.</p>\n<p>If you want to write your own methods for the API, you can add them to your controller and map them with the route config, but 90% of the time, the blueprints will give you everything you need if you have a well-written model layer.</p>\n<p>That should be enough to get us to the next post where I will talk about using Angular services to communicate with the Sails api we just created.</p>\n<p>If you are following the Github repo, we are currently at <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/89eec077b278ed12c4a18eb369e36e544e60cc84\">this point</a> in the application.</p>\n"},"angular-controllers-with-sails-app":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":5,"title":"Angular Controllers","tags":["angular"],"category":"code","date":"6-12-2014","thumbnail":"/images/blog/angular-controllers-with-sails-app.png","yield":"<div class=\"series-placement\">\n\n    This is part 5 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/adding-dependencies\">Previous Post In This Series</a> | <a href=\"/blog/sails-models\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>In the past few posts, I&#39;ve been laying the groundwork for building an Angular application on top of Sails. Now that everything is in place, we can jump right in to adding Angular views.</p>\n<!-- more -->\n<h3>Create the List Route</h3><p>First, we will generate a new controller and model called &quot;list&quot;:</p>\n<pre><code class=\"language-bash\">sails generate list\n</code></pre>\n<p>Next, we will add a link to the list page in our layout.ejs file:</p>\n<pre><code class=\"language-html\">&lt;li class=&quot;&lt;% if (title === &#39;List&#39;) { %&gt;active&lt;% } %&gt;&quot;&gt;\n  &lt;%- link_to(&#39;List&#39;, &#39;/list&#39;) %&gt;\n&lt;/li&gt;\n</code></pre>\n<p>Now, if we open our <code>/api/controllers/ListController.js</code> file, we can add a method to render the index page:</p>\n<pre><code class=\"language-js\">module.exports = {\n  index: function (req, res) {\n    res.view(null, {\n        title: &#39;List&#39;\n    });\n  },\n  _config: {}\n};\n</code></pre>\n<p>Finally, we will create a view for the lists in <code>/views/list/index.ejs</code>:</p>\n<pre><code class=\"language-html\">&lt;ul class=&quot;checklist&quot;&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; checked /&gt; Do a thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do another thing\n    &lt;/li&gt;\n    &lt;li&gt;\n        &lt;input type=&quot;checkbox&quot; /&gt; Do a third thing\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;button class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\n&lt;button class=&quot;btn btn-danger&quot;&gt;Remove&lt;/button&gt;\n</code></pre>\n<h3>Add the Angular Controller</h3><p>Now that we&#39;ve got the view rendering for our list, we can add an Angular controller to it.</p>\n<p>We will update the markup for the <code>views/list/index.ejs</code> template to use Angular:</p>\n<pre><code class=\"language-html\">&lt;div ng-controller=&quot;ListCtrl&quot;&gt;\n    &lt;ul class=&quot;checklist&quot;&gt;\n        &lt;li ng-repeat=&quot;item in items&quot;&gt;\n            &lt;input type=&quot;checkbox&quot; ng-checked=&quot;item.completed&quot; /&gt; &lt;span ng-bind=&quot;item.description&quot;&gt;&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n\n    &lt;button class=&quot;btn btn-primary&quot; ng-click=&quot;addItem&quot;&gt;Add&lt;/button&gt;\n    &lt;button class=&quot;btn btn-danger&quot; ng-click=&quot;removeItems&quot;&gt;Remove&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n<p>The Angular bindings to take note of are the <code>ng-controller</code>. That will bind everything inside of it to the context of the controller we specified. Next, there is the <code>ng-repeat</code>, which loops over items in the scope.</p>\n<p>Now that we&#39;ve added the controller to the markup, we need to actually create the controller in JavaScript. Let&#39;s look at our <code>/assets/js/app.js</code> file. We&#39;ll need it to update it to look like this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;,\n  &#39;controllers&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, [\n    &#39;controllers&#39;\n  ]);\n\n  return app;\n\n});\n</code></pre>\n<p>Basically, we are requiring a JavaScript file which we haven&#39;t created yet called <code>controllers.js</code>. We are also adding a &quot;controllers&quot; module to our application.</p>\n<p>Now that we&#39;ve got that in place, let&#39;s create the <code>/assets/js/controllers.js</code> file:</p>\n<pre><code class=\"language-js\">define(function (require) {\n\n  var angular = require(&#39;angular&#39;),\n      Controllers = angular.module(&#39;controllers&#39;, []);\n\n  Controllers.controller(&#39;ListCtrl&#39;, require(&#39;controllers/listCtrl&#39;));\n\n  return Controllers;\n\n});\n</code></pre>\n<p>The great thing about the way we&#39;ve set up this file is that anytime we need to add a new controller, it&#39;s as simple as adding one new line. This will require the controller and initialize it.</p>\n<p>Now, we&#39;ll need to create a new directory at <code>/assets/js/controllers</code>. Inside our new folder, we&#39;ll make a file named <code>listCtrl.js</code>. The listCtrl.js file should look like this:</p>\n<pre><code class=\"language-js\">define(function () {\n    return [&#39;$scope&#39;, function($scope) {\n        $scope.addItem = function () {\n            console.log(&#39;addItem&#39;);\n        };\n        $scope.removeItems = function () {\n            console.log(&#39;removeItems&#39;);\n        };\n        $scope.items = [{\n            description: &#39;Do a thing&#39;,\n            completed: true\n        }, {\n            description: &#39;Do another thing&#39;,\n            completed: false\n        }, {\n            description: &#39;Do a third thing&#39;,\n            completed: false\n        }];\n    }];\n});\n</code></pre>\n<p>So there we go. Each of our controller AMD modules will just return an array with the dependencies as the items in the array and a function as the last item, just like a regular Angular controller except the controller is being initialized in the controller.js file, not on an individual module basis.</p>\n<p>We are adding an array of &quot;items&quot; to the <code>$scope</code>. We also went ahead and stubbed out a couple of methods for the buttons. They&#39;ll just do a console.log for now, but we&#39;ll get them working soon.</p>\n<p>Now we have Angular controllers on top of our Sails app. At this point, the app should look something like this:</p>\n<p><img src=\"/images/blog/angular-controllers-with-sails-app2.png\" alt=\"\"></p>\n<p>Next time we&#39;ll start getting real data on the app.</p>\n<p>If you want to see the point our sample app should be at by now, check out the Github repo <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/12d1e1860f0c1ae5acead7f6011059ce6b637375\">at this point</a>.</p>\n","slug":"angular-controllers-with-sails-app"},"adding-dependencies":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":4,"title":"Adding Dependencies","tags":["sailsjs","angular"],"category":"code","date":"5-30-2014","thumbnail":"/images/blog/adding-the-dependencies.png","yield":"<div class=\"series-placement\">\n\n    This is part 4 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/server-side-views\">Previous Post In This Series</a> | <a href=\"/blog/angular-controllers-with-sails-app\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>As I promised at the beginning of this series, we are going to be using <a href=\"http://requirejs.org/\">RequireJS</a> to manage our client-side modules. If you haven&#39;t used RequireJS or a similar AMD loader before, let me just say that you are really missing out. RequireJS lets you write your code in small modules that only expose the parts of the API that you want to show and as an added bonus, it uses JavaScript to load your JavaScript modules.</p>\n<!-- more -->\n<p><img src=\"http://bower.io/img/bower-logo.png\" width=\"250px\" /></p>\n<h4>We Can Use Bower, Right?</h4><p>Before we get started, I wanted to give a quick rant about why using bower in a Sails project hasn&#39;t worked very well for me. <a href=\"http://bower.io\">Bower</a> is a package manager for client-side JavaScript much like <a href=\"http://www.npmjs.com/\">NPM</a> is for server-side JavaScript. Typically, I would use bower to manage my dependencies for any project. The issue is that Sails doesn&#39;t run your assets right out of the folder you create them in. Instead, it packages them up with Grunt and runs them out of <code>.tmp/public</code>. That approach is really helpful if you have a compilation step such as converting SASS or LESS stylesheets to CSS or minifying your JavaScript. The issue is that it if you have a ton of files in your assets directory, as is often the case when you have installed bower packages, you will inevitably either get errors complaining about the number of files being processed or it will be painfully slow. Either way, I&#39;ve come to the painful conclusion that using Bower with Sails is more trouble than it is worth.</p>\n<p>My compromise is typically to load my vendor files from a CDN whenever there is one instead of junking up my project with code that I didn&#39;t write.</p>\n<p><img src=\"http://ianreah.com/img/requirejs-logo.png\" alt=\"RequireJS\"></p>\n<h4>RequireJS</h4><p>There is actually some debate about whether or not RequireJS has value in an Angular project. Angular has a dependency injection concept that makes running the code itself pretty modular. However, it doesn&#39;t load specific files for you out of the box. There are a few ways to leverage the Angular library to load your files for you. To me, though, it seems simpler to follow a set standard like what RequireJS provides by closely following the AMD spec. That way, developers in the future will have a clearer idea of where the code is coming from and how it is being loaded.</p>\n<p>So, let&#39;s get RequireJS working.</p>\n<p>Let&#39;s open the layout.ejs file and add a line to instantiate our Angular application. We will replace the body tag with this:</p>\n<pre><code class=\"language-html\">&lt;body ng-app=&quot;todoIt&quot;&gt;\n</code></pre>\n<p>The name of the app can be whatever you want to call your application, but just be aware that you will be referencing it later in your javaScript.</p>\n<p>Next, we need to go to the bottom of the layout.ejs file and replace all of the JavaScript files with this:</p>\n<pre><code class=\"language-html\">&lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/require.js/2.1.11/require.min.js&quot; data-main=&quot;/js/main&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>That will load the require.min.js file from a CDN and then immediately require your <code>/js/main.js</code> file. Don&#39;t have a main.js file yet? No problem. Let&#39;s go ahead and build that.</p>\n<pre><code class=\"language-js\">window.name = &#39;NG_DEFER_BOOTSTRAP!&#39;;\n\nrequire.config({\n  &#39;baseUrl&#39;: &#39;/js&#39;,\n  &#39;paths&#39;: {\n    &#39;angular&#39;: &#39;//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular&#39;,\n    &#39;jquery&#39;: &#39;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min&#39;,\n    &#39;bootstrap&#39;: &#39;//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min&#39;\n  },\n  &#39;shim&#39;: {\n    &#39;angular&#39;: {\n      &#39;exports&#39;: &#39;angular&#39;\n    },\n    &#39;bootstrap&#39;: {\n      &#39;deps&#39;: [&#39;jquery&#39;]\n    },\n    &#39;socket.io&#39;: {\n      &#39;exports&#39;: &#39;io&#39;\n    },\n    &#39;sails.io&#39;: {\n      &#39;deps&#39;: [&#39;socket.io&#39;],\n      &#39;exports&#39;: &#39;io&#39;\n    }\n  }\n});\n\nrequire([\n  &#39;angular&#39;,\n  &#39;app&#39;,\n  &#39;bootstrap&#39;\n], function (angular, app) {\n\n  angular.element(document.getElementsByTagName(&#39;html&#39;)[0]);\n\n  angular.element().ready(function() {\n    angular.resumeBootstrap([app.name]);\n  });\n\n});\n</code></pre>\n<p>Notice at the top where we set the <code>window.name</code> to &quot;NG_DEFER_BOOTSTRAP!&quot;. That will keep angular from initializing until we tell it to. Near the bottom after everything is loaded, we call angular.resumeBootstrap(). That is where angular picks back up and finishes initializing.</p>\n<p>The socket.io and sails.io files that come with Sails are not wrapped as AMD modules, so we need to shim them both and export the io variable.</p>\n<p>Otherwise, the main.js is pretty standard for a requireJS config file. </p>\n<p>We will also need to update the app.js file to this:</p>\n<pre><code class=\"language-js\">define([\n  &#39;angular&#39;,\n  &#39;sails.io&#39;\n], function (angular, io) {\n\n  var socket = io.connect(), app;\n\n  socket.on(&#39;connect&#39;, function socketConnected() {\n    console.log(&#39;Socket is now connected&#39;);\n  });\n\n  app = angular.module(&#39;todoIt&#39;, []);\n\n  return app;\n\n});\n</code></pre>\n<p>We are leaving the socket.io connection. We&#39;ll be working with that later on. For now, we mostly just want to return our app as a new angular module. Notice that the name &quot;todoIt&quot; is the same as the <code>ng-app</code> that we added to our layout.ejs file.</p>\n<p>Now the main.js file will take the app that is returned from app.js and create an angular application.</p>\n<p>When you look at your console at this point, you should get a message that says:</p>\n<pre><code class=\"language-bash\">Socket is now connected\n</code></pre>\n<p>If you see that and don&#39;t get any errors, you have successfully added an angular application on top of Sails. Stay tuned next time when we make the application actually do something.</p>\n<p>If you want to see the code in action, check out the example repository <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/ffc98437c91b4bf154c9619fd50b103c9549a465\">here</a>.</p>\n","slug":"adding-dependencies"},"server-side-views":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":3,"title":"Sails Server-Side Views","tags":["sailsjs"],"category":"code","date":"5-21-2014","thumbnail":"/images/blog/server-side-views.png","slug":"server-side-views","yield":"<div class=\"series-placement\">\n\n    This is part 3 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/starting_the_sails_project\">Previous Post In This Series</a> | <a href=\"/blog/adding-dependencies\">Next Post In This Series</a></h4> \n\n</div>\n\n<p>Today, we are going to look at how Sails.js handles server-side templating. Sails lets you use whatever type of templating you want want, but out of the box, it uses EJS, which is based off of Ruby&#39;s ERB.</p>\n<!-- more -->\n<p>Lets start by going into our project directory and starting our server using:</p>\n<pre><code class=\"language-bash\">sails lift\n</code></pre>\n<p>All of the views will be served from the <code>/views</code> directory. If you go to localhost:1337, you can see that there is already a template that comes with Sails. That template can be found in <code>views/home/index.ejs</code>. The individual pages are all wrapped with a layout template as well. The layout is located in <code>/views/layout.ejs</code>.</p>\n<h3>The Layout</h3><p>Let&#39;s replace the layout with our own markup:</p>\n<pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;&lt;%- title %&gt; | TODOIT&lt;/title&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot; /&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;/styles/app.css&quot;&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div class=&quot;navbar navbar-inverse navbar-fixed-top&quot; role=&quot;navigation&quot;&gt;\n      &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;navbar-header&quot;&gt;\n          &lt;button type=&quot;button&quot; class=&quot;navbar-toggle&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.navbar-collapse&quot;&gt;\n            &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;\n            &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n            &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n            &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;\n          &lt;/button&gt;\n          &lt;a class=&quot;navbar-brand&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-check&quot;&gt;&lt;/i&gt; TODOIT&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;collapse navbar-collapse&quot;&gt;\n          &lt;ul class=&quot;nav navbar-nav&quot;&gt;\n            &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;/about&quot;&gt;About&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=&quot;/list&quot;&gt;My List&lt;/a&gt;&lt;/li&gt;\n          &lt;/ul&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row featurette&quot;&gt;\n            &lt;div class=&quot;col-md-7&quot;&gt;\n              &lt;h2 class=&quot;featurette-heading&quot;&gt;&lt;%- title %&gt;&lt;/h2&gt;\n              &lt;%- body %&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/js/socket.io.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/js/sails.io.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;/js/app.js&quot;&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>You may notice that we aren&#39;t using RequireJS to load our modules yet. Don&#39;t worry, we&#39;ll be covering that in the future. You may also notice that we are referencing a <code>styles/app.css</code> file, we will need to create that:</p>\n<pre><code class=\"language-css\">body {\n  padding-top: 50px;\n}\n.starter-template {\n  padding: 40px 15px;\n  text-align: center;\n}\n</code></pre>\n<p>You will need to restart your server to see the stylesheet show up. I know it is annoying to have to restart your server when you change a style or script, but we&#39;ll be looking at a solution for that soon.</p>\n<h3>Home Page</h3><p>Now let&#39;s replace the markup in the <code>home/index.ejs</code> file:</p>\n<pre><code class=\"language-html\">&lt;p class=&quot;lead&quot;&gt;Check it out. Check it off.&lt;/p&gt;\n&lt;img src=&quot;http://cdn2.content.compendiumblog.com/uploads/user/4268c6b6-ce2f-102a-80e3-0015c5f70ec2/aa4211a4-bb44-46d7-8e55-e2bf85cbb4a4/Image/01056b67869d6ad5848d9df376132aa5/questions_to_ask.jpg&quot; /&gt;\n</code></pre>\n<h3>Passing Data To Your Views</h3><p>You might notice that in the layout template, we are referencing a <code>&lt;%- title %&gt;</code> attribute. By default, the title will be &quot;Sails&quot;. You can override that globally by creating a config file like this one I made in <code>config/app.js</code> and adding your own appName:</p>\n<pre><code class=\"language-js\">module.exports = {\n    appName: &#39;TODOIT&#39;\n};\n</code></pre>\n<p>If you want a different title on each page, you can also control the title from your controller. If you look at your <code>config/routes.js</code> file, you will see that the <code>/</code> route is currently just rendering a view instead of being driven by a controller. Why don&#39;t we generate a controller to drive the home page?</p>\n<pre><code class=\"language-bash\">sails generate controller home\n</code></pre>\n<p>The command above will generate a new empty controller in your <code>api/controllers</code> directory called <code>HomeController.js</code>. We can add a method to the <code>module.exports</code> called &quot;index.&quot;</p>\n<pre><code class=\"language-js\">index: function (req, res) {\n    res.view(null, {\n        title: &#39;Home&#39;\n    });\n},\n...\n</code></pre>\n<p>The first argument in the res.view() method is the template name. If it is a string, a template with that name will be rendered. If it is blank, the controller uses the controller name and the method name to create the path to the view. The second argument is an object of data that the controller is passing into the view. That is where we can add the title.</p>\n<p>Now we will need to update the routes to use the home controller instead of just rendering the home view with no controller.</p>\n<p>Find this line:</p>\n<pre><code class=\"language-js\">&#39;/&#39;: {\n    view: &#39;home/index&#39;\n}\n</code></pre>\n<p>and change it to:</p>\n<pre><code class=\"language-js\">&#39;/&#39;: {\n    controller: &#39;HomeController&#39;,\n    action: &#39;index&#39;\n}\n</code></pre>\n<p>Once you restart your server and go to the home page, you should see the title &quot;Home&quot; displaying correctly. It should look like this:</p>\n<p><img src=\"/images/blog/sails-server-views1.png\" alt=\"\"></p>\n<h3>About Page</h3><p>Now, let&#39;s go ahead and create an about page:</p>\n<pre><code class=\"language-bash\">sails generate controller about\n</code></pre>\n<p>In the module.exports for <code>api/controllers/AboutController.js</code>, add this method:</p>\n<pre><code class=\"language-js\">index: function (req, res) {\n    res.view(null, {\n        title: &#39;About&#39;\n    });\n},\n...\n</code></pre>\n<p>Now open your <code>config/routes.js</code> file and add a this route underneath the previously created home page route:</p>\n<pre><code class=\"language-js\">&#39;/about&#39;: {\n    controller: &#39;AboutController&#39;,\n    action: &#39;index&#39;\n}\n</code></pre>\n<p>Last of all, we will need to create the view for our about page. We will create a file name <code>/views/about/index.ejs</code> with this markup:</p>\n<pre><code class=\"language-html\">&lt;p class=&quot;lead&quot;&gt;This is an example application to show how to use Sails.js with Angular. If you would like to follow along with how it was created, check out this &lt;a href=&quot;http://www.tysoncadenhead.com/blog/sails-ninja-intro&quot;&gt;blog series&lt;/a&gt; that walks you through step by step.&lt;/p&gt;\n</code></pre>\n<p>Now, when you go to localhost:1337/about, you should see this:</p>\n<p><img src=\"/images/blog/sails-server-views2.png\" alt=\"\"></p>\n<h3>URL Helpers</h3><p>Sails ships with just the standard EJS implementation. There are <a href=\"https://code.google.com/p/embeddedjavascript/wiki/ViewHelpers\">some handy helpers</a> that Sails doesn&#39;t take advantage of. Luckily, it&#39;s easy to add them to your app.</p>\n<p>First, just install the dependency:</p>\n<pre><code class=\"language-bash\">npm install express-helpers --save\n</code></pre>\n<p>and then add this to your <code>config/bootstrap.js</code> file:</p>\n<pre><code class=\"language-js\">require(&#39;express-helpers&#39;)(sails.express.app);\n</code></pre>\n<p>With that update in place, we can change the layout.ejs file to use the <code>link_to()</code> helper like this:</p>\n<pre><code class=\"language-html\">&lt;ul class=&quot;nav navbar-nav&quot;&gt;\n  &lt;li class=&quot;active&quot;&gt;\n    &lt;%- link_to(&#39;Home&#39;, &#39;/&#39;) %&gt;\n  &lt;/li&gt;\n  &lt;li&gt;\n    &lt;%- link_to(&#39;About&#39;, &#39;/about&#39;) %&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>When you restart your server and refresh the app, it should still display correctly, but it is using the view helpers now.</p>\n<h3>Active Section</h3><p>Because the controllers are already sending the title to the views, we can use that to determine what page we are on. We&#39;ll apply an &quot;active&quot; class to the page name in the navigation that we are currently on:</p>\n<pre><code class=\"language-html\">&lt;ul class=&quot;nav navbar-nav&quot;&gt;\n  &lt;li class=&quot;&lt;% if (title === &#39;Home&#39;) { %&gt;active&lt;% } %&gt;&quot;&gt;\n    &lt;%- link_to(&#39;Home&#39;, &#39;/&#39;) %&gt;\n  &lt;/li&gt;\n  &lt;li class=&quot;&lt;% if (title === &#39;About&#39;) { %&gt;active&lt;% } %&gt;&quot;&gt;\n    &lt;%- link_to(&#39;About&#39;, &#39;/about&#39;) %&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n<p>That is the quick rundown of Sails templates and how they work. If you want to see all of this code together, check out the repository <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/07db5eb5457b4cd2209691c5e2c32ea22c54e5f0\">at this point</a>.</p>\n"},"starting_the_sails_project":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":2,"title":"Starting a Sails Project","tags":["sailsjs"],"category":"code","date":"5-2-2014","thumbnail":"/images/blog/starting_the_sails_project.jpg","slug":"starting_the_sails_project","yield":"<div class=\"series-placement\">\n\n    This is part 2 of the <a href=\"/blog/sails-ninja-intro\">Creating An Application With Sails, Angular and Require.js</a> blog series. If you haven&#39;t read the introduction yet, you may want to start there.\n\n    <h4><a href=\"/blog/sails-ninja-intro\">Previous Post In This Series</a> | <a href=\"/blog/server-side-views\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>Sails JS is a really cool framework for building realtime web applications. Today I am going to show you how easy it is to create a new Sails project. In many ways, Sails is similar to Ruby On Rails. It allows you to create a new application and sets enough defaults that you can run it right away.</p>\n<!-- more -->\n<h4>Install Sails</h4><p>Let&#39;s start by installing Sails. You will need to have Node.js installed too, but hopefully you&#39;ve already got Node running at this point. To install Sails with npm, run this in your terminal:</p>\n<pre><code class=\"language-bash\">sudo npm -g install sails\n</code></pre>\n<h4>Create Your Project</h4><p>Sails comes with a bunch of command-line tools. The <code>new</code> tool will help us create a new application:</p>\n<pre><code class=\"language-bash\">sails new todo\n</code></pre>\n<p>Awesome! You just created an app! Now you just need to enter into the folder that the app went into and start the sails server:</p>\n<pre><code class=\"language-bash\">cd todo\nsails lift\n</code></pre>\n<p>Very good. Now if you go to <a href=\"http://localhost:1337\">http://localhost:1337</a>. When you get there, you should see something like this:</p>\n<p><img src=\"/images/blog/sails1.png\" alt=\"\"></p>\n<p>That is basically all there is to creating a new Sails project. If you want to follow along, I&#39;m making a git repository to show the application we&#39;re building. We should currently be <a href=\"https://github.com/tysoncadenhead/sails-angular-example-app/tree/cd5eed11dd5682656c791856886785e70b60e5bd\">at this point</a> in the process of building this out.</p>\n<p>In our next post, I&#39;ll show you how to add server-side views to the project. Stay tuned.</p>\n"},"sails-ninja-intro":{"published":true,"series":"Creating An Application With Sails, Angular and Require.js","part":1,"firstPart":true,"title":"Introduction","tags":["sailsjs","angular"],"category":"code","date":"4-25-2014","thumbnail":"/images/blog/sails-ninja-intro.jpg","slug":"sails-ninja-intro","yield":"<div class=\"series-placement\">\n\n    This is part 1 of the Creating An Application With Sails, Angular and Require.js blog series. It is recommended that you start here. Once you are done reading this, please navigate to the next post below:\n\n    <h4><a href=\"/blog/starting_the_sails_project\">Next Post In This Series</a></h4>\n\n</div>\n\n<p>Since I tend to be a glutton for punishment, I have decided to devote the next several blog post to a series on making a scalable application using Sails.js on the back-end and Angular on the front-end.</p>\n<!-- more -->\n<h3>So, Why Make A Series On This?</h3><p>There are a lot of really good client-side and server-side JavaScript frameworks popping up, but there are not many in-depth articles on how they fit together. This series will look at a very specific stack and how it can be used to create an application. Let me break down the main components of the stack.</p>\n<p><img src=\"https://31.media.tumblr.com/7601a16f1e970bad6717ba5f386466d0/tumblr_inline_mz51cb9Ezv1qfxp6j.jpg\" alt=\"Sails.js\"></p>\n<h5>Sails.js</h5><p>Sails is a server-side MVC framework for Node. The architecture is very similar to Ruby on Rails, which is probably why they chose a name that rhymes with Rails. One of the coolest things about Sails is that it has Socket.io built into it, which makes communicated with the client-side in real time much easier.</p>\n<p><img src=\"http://devgirl.org/wp-content/uploads/2013/03/angular-logo.jpeg\" alt=\"Angular\"></p>\n<h5>Angular</h5><p>Angular is a client-side MVC framework created by Google. Angular is great at driving views with data and is extremely testable.</p>\n<p><img src=\"http://ianreah.com/img/requirejs-logo.png\" alt=\"RequireJS\"></p>\n<h5>Requirejs</h5><p>Require is a framework that lets you write modular code for the client-side. All of your modules pull in the modules that they need to function properly and the best part is that you only need to include one JavaScript file in your HTML template, everything else is retrieved with JavaScript.</p>\n<p><img src=\"http://penangmonthly.com/wp-content/uploads/2013/07/chalk-outline.jpg\" alt=\"\"></p>\n<h3>The Outline</h3><p>As I post the new articles, the links on this outline will be filled in, so this post can serve as a jumping off point for everything else. In the meantime, here is what we will cover:</p>\n<ol>\n<li><a href=\"/blog/starting_the_sails_project\">Starting The Sails Project</a></li>\n<li><a href=\"/blog/server-side-views\">Sails Server-Side Views</a></li>\n<li><a href=\"/blog/adding-dependencies\">Adding dependencies</a></li>\n<li><a href=\"/blog/angular-controllers-with-sails-app\">Angular Controllers</a></li>\n<li><a href=\"/blog/sails-models\">Sails Models</a></li>\n<li><a href=\"/blog/syncing-angular-with-sails\">Syncing With The Server</a></li>\n</ol>\n<p>This is going to be a fun series to write and I hope you have as much fun as me reading it!</p>\n"},"using-facebook-authentication-on-a-sails-js-app":{"published":true,"title":"Facebook Authentication With Sails.js and Passport","tags":["sailsjs","facebook","authentication"],"category":"code","date":"4-10-2014","thumbnail":"/images/blog/using-facebook-authentication-on-a-sails-js-app.jpg","slug":"using-facebook-authentication-on-a-sails-js-app","yield":"<p>Setting up multiple types of authentication on an application can be a daunting task. There are a ton of moving pieces and you want to make sure that your user model is up to the task of consuming any type of authentication you throw at it. To that end, I recently set up Facebook authentication on a Sails.js app I&#39;m working on and I thought it might be worth sharing how easy it actually turned out to be.</p>\n<!-- more -->\n<h3>Passport To The Rescue!</h3><p>The good news is that if you are creating a Sails app, you can use <a href=\"https://github.com/jaredhanson/passport\">Passport</a>, which makes using multiple types of validation a ton easier.</p>\n<p>Passport authenticates requests through plugins known as &quot;strategies&quot;. Almost any of the strategies you can imagine, such as Facebook, Twitter, Github, Username/Password, etc... are already written. It&#39;s also really easy to write your own strategy if needed. Each strategy just takes a little bit of configuration and then gives you a callback when the login succeeds or fails.</p>\n<p>Ok, enough talk. Let&#39;s get started, shall we?</p>\n<h3>Install Passport</h3><p>You will need to install the passport npm module:</p>\n<pre><code class=\"language-bash\">npm install passport\n</code></pre>\n<p>As well as the passport-facebook module:</p>\n<pre><code class=\"language-bash\">npm install passport-facebook\n</code></pre>\n<p>We&#39;ll come back to this, but we need to create a model to hold the data for the user first.</p>\n<h3>Create a User Model</h3><p>To do authentication, we will need a user model to check our login against. You can generate your model from the command line using:</p>\n<pre><code class=\"language-bash\">sails generate user\n</code></pre>\n<p>That will spit out a model in <code>/api/models/User.js</code> as well as a controller in <code>/api/controllers/UserController.js</code>.</p>\n<p>The User model should look something like this:</p>\n<pre><code class=\"language-js\">/**\n * User\n *\n * @module      :: Model\n * @description :: A short summary of how this model works and what it represents.\n * @docs        :: http://sailsjs.org/#!documentation/models\n */\n\nmodule.exports = {\n\n  attributes: {\n\n    /* e.g.\n    nickname: &#39;string&#39;\n    */\n\n  }\n\n};\n</code></pre>\n<p>Now, we just need to update the attributes that are being exported to include the facebookId:</p>\n<pre><code class=\"language-js\">module.exports = {\n\n  attributes: {\n\n    facebookId: {\n      type: &#39;string&#39;,\n      required: true,\n      unique: true\n    }\n\n  }\n\n};\n</code></pre>\n<h3>Update the User Controller</h3><p>You will need to add a little logic to the user controller to handle authentication with Facebook. As I mentioned earlier, the user controller should be located at <code>/api/controllers/UserController.js</code>. Some of the routes and request scope may need to be changed based on your needs, but this is essentially how I got it working:</p>\n<pre><code class=\"language-js\">var passport = require(&#39;passport&#39;);\n\nmodule.exports = {\n\n  login: function (req, res) {\n    res.view();\n  },\n\n  dashboard: function (req, res) {\n    res.view();\n  },\n\n  logout: function (req, res){\n    req.session.user = null;\n    req.session.flash = &#39;You have logged out&#39;;\n    res.redirect(&#39;user/login&#39;);\n  },\n\n  &#39;facebook&#39;: function (req, res, next) {\n     passport.authenticate(&#39;facebook&#39;, { scope: [&#39;email&#39;, &#39;user_about_me&#39;]},\n        function (err, user) {\n            req.logIn(user, function (err) {\n            if(err) {\n                req.session.flash = &#39;There was an error&#39;;\n                res.redirect(&#39;user/login&#39;);\n            } else {\n                req.session.user = user;\n                res.redirect(&#39;/user/dashboard&#39;);\n            }\n        });\n    })(req, res, next);\n  },\n\n  &#39;facebook/callback&#39;: function (req, res, next) {\n     passport.authenticate(&#39;facebook&#39;,\n        function (req, res) {\n            res.redirect(&#39;/user/dashboard&#39;);\n        })(req, res, next);\n  }\n\n};\n</code></pre>\n<h3>Create the Passport Service</h3><p>This is probably the biggest addition you will need to make to get your app accepting Facebook logins. This should all go in <code>api/services/passport.js</code>.</p>\n<p>Remember to replace the clientId and ClientSecret with your own Facebook app credentials. If you don&#39;t have them yet, you can create them at <a href=\"http://developers.facebook.com/\">developers.facebook.com</a></p>\n<pre><code class=\"language-js\">var passport = require(&#39;passport&#39;),\n  FacebookStrategy = require(&#39;passport-facebook&#39;).Strategy;\n\nfunction findById(id, fn) {\n  User.findOne(id).done(function (err, user) {\n    if (err) {\n      return fn(null, null);\n    } else {\n      return fn(null, user);\n    }\n  });\n}\n\nfunction findByFacebookId(id, fn) {\n  User.findOne({\n    facebookId: id\n  }).done(function (err, user) {\n    if (err) {\n      return fn(null, null);\n    } else {\n      return fn(null, user);\n    }\n  });\n}\n\npassport.serializeUser(function (user, done) {\n  done(null, user.id);\n});\n\npassport.deserializeUser(function (id, done) {\n  findById(id, function (err, user) {\n    done(err, user);\n  });\n});\n\npassport.use(new FacebookStrategy({\n    clientID: &quot;YOUR-FACEBOOK-CLIENT-ID&quot;,\n    clientSecret: &quot;YOUR-FACEBOOK-CLIENT-SECRET&quot;,\n    callbackURL: &quot;http://localhost:1337/user/facebook/callback&quot;,\n    enableProof: false\n  }, function (accessToken, refreshToken, profile, done) {\n\n    findByFacebookId(profile.id, function (err, user) {\n\n      // Create a new User if it doesn&#39;t exist yet\n      if (!user) {\n        User.create({\n\n          facebookId: profile.id\n\n          // You can also add any other data you are getting back from Facebook here \n          // as long as it is in your model\n\n        }).done(function (err, user) {\n          if (user) {\n            return done(null, user, {\n              message: &#39;Logged In Successfully&#39;\n            });\n          } else {\n            return done(err, null, {\n              message: &#39;There was an error logging you in with Facebook&#39;\n            });\n          }\n        });\n\n      // If there is already a user, return it\n      } else {\n        return done(null, user, {\n          message: &#39;Logged In Successfully&#39;\n        });\n      }\n    });\n  }\n));\n</code></pre>\n<h3>Add the Express Middleware</h3><p>You will need to add a little bit of middleware in order to use Passport with Express. I just created a file called <code>/config/express.js</code> with this logic:</p>\n<pre><code class=\"language-js\">var passport = require(&#39;passport&#39;);\n\nmodule.exports.express = {\n    customMiddleware: function(app){\n\n        // Passport\n        app.use(passport.initialize());\n        app.use(passport.session());\n\n        app.use(function(req, res, next){\n            res.locals.user = req.session.user;\n            next();\n        });\n\n    }\n};\n</code></pre>\n<p>All it&#39;s really doing is initializing passport, using the passport session and adding the user to the local scope of any views that are being rendered.</p>\n<h3>Create a Login View</h3><p>Create a view in <code>views/user/login.ejs</code> The bare bones of the login view should look like this:</p>\n<pre><code class=\"language-html\">&lt;a href=&quot;/user/facebook&quot;&gt;Login With Facebook&lt;/a&gt;\n</code></pre>\n<p>Let&#39;s also throw up a dashboard view in <code>views/user/dashboard.ejs</code>:</p>\n<pre><code class=\"language-html\">&lt;p&gt;You are logged in! Your id is &lt;strong&gt;&lt;%- user.id %&gt;&lt;/strong&gt; and your Facebook Id is &lt;strong&gt;&lt;%- user.facebookId %&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;p&gt;&lt;a href=&quot;/user/logout&quot;&gt;Logout&lt;/a&gt;&lt;/p&gt;\n</code></pre>\n<p>Okay then. Now, you can test this whole thing by running <code>sails lift</code> in your command line and going to <a href=\"http://localhost:1337/user/login\">http://localhost:1337/user/login</a>. When you click on the &quot;Login With Facebook&quot; it should authenticate and then take you to the dashboard page. If you log out and try to go to the dashboard page again without logging back in, it will actually throw an error because there is no user in the session. Not the best experience, but it shows that the user has successfully logged out and it&#39;s fairly trivial to check for the user in the session and redirect if they don&#39;t exist.</p>\n<p>So there you have it. Facebook authentication with Sails.js. Enjoy!</p>\n"},"unit-testing-sails-js-applications-with-mocha":{"published":true,"title":"Unit Testing Sails.js Applications With Mocha","tags":["sailsjs","testing","mocha"],"category":"code","date":"4-04-2014","thumbnail":"/images/blog/unit-testing-sails-js-applications-with-mocha.jpg","slug":"unit-testing-sails-js-applications-with-mocha","yield":"<p>In my opinion, <a href=\"http://sailsjs.org/\">Sails</a> is one of the best Node MVC frameworks out there. It provides a really clean architecture and is completely customizable. The Socket.io integration also gives it an edge over many of the competitors.</p>\n<p>I only recently started playing around with Sails, and I wanted to add a unit testing suite to the application I was working on. I searched for other people who were doing test driven development in Sails, but I wasn&#39;t satisfied with the results. As it turns out, getting tests in place for Sails was one of the easier things I&#39;ve done in my life and I was able to get a few unit tests running withing 30 minutes of sitting down to do it.</p>\n<!-- more -->\n<p>To get my tests running, I used NPM to install Mocha, Grunt Mocha Test, Sinon and the Assert library:</p>\n<pre><code class=\"language-bash\">npm install mocha --save-dev\nnpm install grunt-mocha-test --save-dev\nnpm install sinon --save-dev\nnpm install assert --save-dev\n</code></pre>\n<p>That being done, I modified the Gruntfile.js at the root of the project to use Grunt Mocha Tests. Sails uses Grunt in the background, so when you open the Gruntfile, you&#39;ll notice that there is already quite a bit of code in there. I just added three lines.</p>\n<p>Inside of the <code>grunt.initConfig</code> object, I added:</p>\n<pre><code class=\"language-js\">grunt.initConfig({\n\n    mochaTest: {\n      test: {\n        options: {\n          reporter: &#39;spec&#39;\n        },\n        src: [&#39;tests/**/*.spec.js&#39;]\n      }\n    },\n\n    ...\n\n});\n</code></pre>\n<p>Next, I added this line after all of the Sails tasks are loaded:</p>\n<pre><code class=\"language-js\">grunt.loadNpmTasks(&#39;grunt-mocha-test&#39;);\n</code></pre>\n<p>Last of all, I registered a task to run the tests:</p>\n<pre><code class=\"language-js\">grunt.registerTask(&#39;test&#39;, [&#39;mochaTest&#39;]);\n</code></pre>\n<p>That being done, I created a <code>tests</code> directory in the root of the project. The grunt task will grab any JavaScript files in that directory that include &quot;spec.js&quot; in the filename, but this is how I organized it:</p>\n<ul>\n<li>tests<ul>\n<li>adapters</li>\n<li>controllers</li>\n<li>models</li>\n<li>policies</li>\n<li>services</li>\n</ul>\n</li>\n</ul>\n<p>If you run <code>grunt test</code> at this point, it will run and should even pass, but there are no actual assertions being made, which means we need to write some tests.</p>\n<p>As a contrived example, let&#39;s say we have a basic controller that just renders a view (obviously there are better ways to handle rendering a view that no data is being passed to than even dealing with a controller, but this is just an example.) Our controller <code>AboutController.js</code> might look like this:</p>\n<pre><code class=\"language-js\">module.exports = {\n\n    index: function (req, res) {\n        return res.view();\n    },\n\n    _config: {}\n\n};\n</code></pre>\n<p>If we put our test inside <code>tests/controllers</code> and name it <code>about.spec.js</code>, the path to load the controller should be <code>../../api/controllers/AboutController</code>.</p>\n<p>We will use Sinon.js to add a spy and determine whether the view method has been called. We will also import the assert library so that we can make assertions and see if our tests pass.</p>\n<p>Once we get everything in place, the actual test might look something like this:</p>\n<pre><code class=\"language-js\">var AboutController = require(&#39;../../api/controllers/AboutController&#39;),\n    sinon = require(&#39;sinon&#39;),\n    assert = require(&#39;assert&#39;);\n\ndescribe(&#39;The About Controller&#39;, function () {\n    describe(&#39;when we load the about page&#39;, function () {\n        it (&#39;should render the view&#39;, function () {\n            var view = sinon.spy();\n            AboutController.index(null, {\n                view: view\n            });\n            assert.ok(view.called);\n        });\n    });\n});\n</code></pre>\n<p>But that example was a little simplistic. Let&#39;s take something more complex like a method on a model that hashes the password before the user can be saved. Our User.js model looks like this:</p>\n<pre><code class=\"language-js\">var bcrypt = require(&#39;bcrypt&#39;);\n\nmodule.exports = {\n\n  attributes: {\n    username: {\n      type: &#39;string&#39;,\n      required: true,\n      unique: true\n    },\n    password: {\n      type: &#39;string&#39;,\n      required: true\n    }\n  },\n\n  beforeCreate: function(user, cb) {\n    bcrypt.genSalt(10, function(err, salt) {\n      bcrypt.hash(user.password, salt, function(err, hash) {\n        if (err) {\n          console.log(err);\n          cb(err);\n        }else{\n          user.password = hash;\n          cb(null, user);\n        }\n      });\n    });\n  }\n\n};\n</code></pre>\n<p>So, how would we test that the password that is passed into the beforeCreate method is getting hashed? It is as easy as making an asynchronous test that compares the user&#39;s password against the password that is passed in. If they are different, we can assume that the password was hashed. We could definitely do more to make sure that the password is not null and that the length seems to be right for a bcrypt-encoded password, but this will at least guarantee that the password created is different.</p>\n<pre><code class=\"language-js\">var User = require(&#39;../../api/models/User&#39;),\n    sinon = require(&#39;sinon&#39;),\n    assert = require(&#39;assert&#39;);\n\ndescribe(&#39;The User Model&#39;, function () {\n    describe(&#39;before the user is created&#39;, function () {\n        it (&#39;should hash the password&#39;, function (done) {\n            User.beforeCreate({\n                password: &#39;password&#39;\n            }, function (err, user) {\n                assert.notEqual(user.password, &#39;password&#39;);\n                done();\n            });\n        });\n    });\n});\n</code></pre>\n<p>As you can see, unit testing Sails applications is really easy and straightforward. As long as you are just testing the units themselves and not the framework, this approach works really flawlessly.</p>\n"},"deploying-harp-builds-to-github-pages":{"published":true,"title":"Deploying Harp.js Builds To Github Pages","tags":["html","node","terminal"],"category":"code","date":"3-25-2014","thumbnail":"/images/blog/deploying-harp-builds-to-github-pages.jpg","slug":"deploying-harp-builds-to-github-pages","yield":"<p>About a month ago, I switched from running my blog using Poet.js on Nodejitsu to using Harp.js to compile it as a static site. There are several benefits to taking this approach. First of all, I can host the site using any server environment. When I build it, all that I have are HTML, CSS and JavaScript files and they can be hosted with Node, Apache, IIS or any other server. Another benefit is that there are several places where I can host my blog for free.</p>\n<p>I ended up choosing to go with Github pages because this is a web development blog and I thought it was well-suited for their platform. This is how I got it working.</p>\n<!-- more -->\n<p>First of all, it should be noted, that Github pages have to be served from the root of your project. For example, your domainname.com would serve up <code>./index.html</code>. So, to begin with, I put all of my templates, css, javascript and markdown files in a subfolder named &quot;_harp&quot;.</p>\n<h3>Serving Harp Locally</h3><p>Next, I opened my <code>.profile</code> file in the terminal and created an alias to start up the server without needing to manually navigate into the _harp directory:</p>\n<pre><code class=\"language-bash\">alias tyson_run=&#39;cd ~/Sites/apps/tysoncadenhead.com; harp server;&#39;;\n</code></pre>\n<p>With that done, I just needed to call <code>tyson_run</code> and a server would be spawned at port :9000 with my blog. I know this part isn&#39;t really related to serving the site on Github Pages, but it is important to have a local testing environment.</p>\n<h3>Setting Up Github Pages</h3><p>Github has a ton of documentation about <a href=\"http://pages.github.com/\">how to set up and run Github pages</a>, so I won&#39;t attempt to rewrite what&#39;s already been written.</p>\n<p>I will say that you need to remember to create a branch in your repository called <code>gh-pages</code> to push your blog to. Github will be looking for that branch to serve from.</p>\n<h3>Building and Deploying</h3><p>I found myself repeating several steps every time I wanted to deploy my blog. First of all, I noticed that when I compiled my code, the static assets such as images, javascript files and the CNAME file, which is important for telling Github to use a custom domain were all missing. It was easy enough to copy them up a directory in the terminal, but it was needlessly tedious.</p>\n<p>I also found that with me being the only person with push access to my repo, I was never going to need to manage merge conflicts, so adding the files, committing them and pushing was needlessly verbose.</p>\n<p>Because of all that, I ended up writing a function in my <code>.profile</code> file that compiles harp, copies the static assets that harp misses, adds the files to the git branch, commits the files with whatever message I pass in as an argument and pushes the code.</p>\n<pre><code class=\"language-bash\">function tyson_deploy () {\n        cd ~/Sites/apps/tysoncadenhead.com;\n        harp compile _harp ./;\n        cp -r _harp/images images;\n        cp -r _harp/js js;\n        cp _harp/CNAME CNAME;\n        git add .;\n        git add -u;\n        git commit -m &quot;$1&quot;;\n        git push origin gh-pages;\n}\n</code></pre>\n<p>Now, I just need to run <code>tyson_deploy</code> and my code is pushed to the gh-pages branch. Any code in that branch is automatically served by Github, which means that after I push, my code is deployed.</p>\n<p>I have been really happy with harp as a solution. There are a few features I&#39;d love to see integrated, such as static paging but in the meantime, it works really well for my needs.</p>\n<p>Now, excuse me while I type &quot;tyson_deploy&quot; into my terminal...</p>\n"},"squash-stretch-and-bounce-with-css3-animations":{"published":true,"title":"Squash, Stretch and Bounce With CSS3 Animations","tags":["css"],"category":"code","date":"3-19-2014","thumbnail":"/images/blog/squash-stretch-and-bounce-with-css3-animations.jpg","slug":"squash-stretch-and-bounce-with-css3-animations","yield":"<p>One of the best parts of CSS3 is the ability to do keyframe animation. Once upon a time, if you wanted to animate DOM elements in the browser, you had to do it with JavaScript. CSS3 animations are generally smoother and perform better than moving elements around with JavaScript. They also do really well on mobile devices.</p>\n<p>With a little bit of working knowledge, it&#39;s really not hard to make some nice looking CSS3 animations, and that is what we are going to do today. If you have ever studied animation, you probably know that one of the first things you need to learn is how to do squash, stretch and bounce, which are the cornerstones of exaggerated animation physics. Today, I&#39;m going to walk you through how you can handle those basics just using CSS3.</p>\n<!-- more -->\n<style type=\"text/css\">\n.stage {\n    background: #EEE;\n    width: 800px;\n    height: 400px;\n    position: relative;\n}\n\n.ball {\n    background: #CCC;\n    border-radius: 50%;\n    height: 100px;\n    width: 100px;\n}\n\n.ball-container {\n    height: 150px;\n}\n\n.animate {\n    -webkit-animation-name: squash;\n    -webkit-animation-duration: 1s;\n    -webkit-animation-iteration-count: infinite;\n    -webkit-animation-direction: alternate;\n    -webkit-animation-delay: 0;\n\n    animation-name: squash;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n    animation-delay: 0;\n}\n\n.stretch {\n    -webkit-animation-name: stretch;\n    animation-name: stretch;\n}\n\n.bounce {\n    position: absolute;\n    -webkit-animation-name: bounce;\n    -webkit-animation-duration: 3s;\n    -webkit-animation-direction: normal;\n    -webkit-timing-function: ease-out;\n\n    animation-name: bounce;\n    animation-duration: 3s;\n    animation-direction: normal;\n    timing-function: ease-out;\n}\n\n@-webkit-keyframes bounce {\n    from { left: 100px; bottom: 300px; height: 150px; }\n    10% { left: 150px; bottom: 0px; height: 50px; }\n    20% { left: 200px; bottom: 250px; height: 140px; }\n    30% { left: 250px; bottom: 0px; height: 60px; }\n    40% { left: 300px; bottom: 200px; height: 130px; }\n    50% { left: 350px; bottom: 0px; height: 70px; }\n    60% { left: 400px; bottom: 150px; height: 120px; }\n    70% { left: 450px; bottom: 0px; height: 80px; }\n    80% { left: 500px; bottom: 100px; height: 110px; }\n    90% { left: 550px; bottom: 0px; height: 90px; }\n    100% { left: 600px; bottom: 50px; height: 100px; }\n}\n\n@-webkit-keyframes squash {\n    from { height: 100px; }\n    to  { height: 50px; }\n}\n\n@-webkit-keyframes stretch {\n    from { height: 150px; }\n    to { height: 50px; }\n}\n</style>\n\n<h3>Squash</h3><p>To squash in the animation world means to take an object and compress it to be shorter and wider. Take this ball for example:</p>\n<div class=\"ball\"></div>\n\n<p>When we drop it on the ground, we can show the impact by squashing it:</p>\n<div class=\"ball\" style=\"height: 50px;\"></div>\n\n<p>With CSS3, we can animate between the two states like this:</p>\n<div class=\"ball-container\">\n    <div class=\"ball animate\"></div>\n</div>\n\n<p>The CSS for that would look like this:</p>\n<pre><code class=\"language-css\">.animate {\n    -webkit-animation-name: squash;\n    -webkit-animation-duration: 1s;\n    -webkit-animation-iteration-count: infinite;\n    -webkit-animation-direction: alternate;\n    -webkit-animation-delay: 0;\n    -webkit-animation-timing-function: ease-out;\n\n    animation-name: squash;\n    animation-duration: 1s;\n    animation-iteration-count: infinite;\n    animation-direction: alternate;\n    animation-delay: 0;\n    timing-function: ease-out;\n}\n\n@-webkit-keyframes squash {\n    from { height: 100px; }\n    to  { height: 50px; }\n}\n</code></pre>\n<p>If that looks intimidating, let me just say that the amount of code this takes can be almost cut in half using a CSS processor like SASS so you don&#39;t have to use the <code>-webkit</code> vendor prefixes.</p>\n<p>What we are doing is creating an keyframe animation name &quot;squash&quot;. It starts with a height of 100px and ends with a height of 50px. We also set some information about the animation on the element itself. The <code>animation-duration</code> tells us how long the animation will take from start to finish. The <code>animation-iteration-count</code> tells us how many times the animation should repeat. The <code>animation-direction</code> tells us whether to start from the beginning or end of the keyframes. Since we are using &quot;alternate&quot;, the animation will go from the start of the keyframes to the end and then run the animation backwards.</p>\n<h3>Stretch</h3><p>Stretch is the opposite of squash. When a ball or a character bounces back up, they stretch out while they are in motion. Adding a stretch to our ball would look something like this:</p>\n<div class=\"ball-container\">\n    <div class=\"ball animate stretch\"></div>\n</div>\n\n<p>To get that, we&#39;ll just want to expand the height to get taller than the width, like this:</p>\n<pre><code class=\"language-css\">@-webkit-keyframes squash {\n    from { height: 150px; }\n    to  { height: 50px; }\n}\n</code></pre>\n<h3>Bounce</h3><p>Squashing and stretching are pretty useless without a bounce. The basic principle of a bounce is that every time it hits the ground, it should bounce up a little less until it comes to a stop.</p>\n<p>All said, our bouncing ball should look like this:</p>\n<div class=\"stage\">\n    <div class=\"ball animate bounce\"></div>\n</div>\n\n<p>To get to that point, we will need to update our keyframes:</p>\n<pre><code class=\"language-css\">@-webkit-keyframes sqaush {\n    from { left: 100px; bottom: 300px; height: 150px; }\n    10% { left: 150px; bottom: 0px; height: 50px; }\n    20% { left: 200px; bottom: 250px; height: 140px; }\n    30% { left: 250px; bottom: 0px; height: 60px; }\n    40% { left: 300px; bottom: 200px; height: 130px; }\n    50% { left: 350px; bottom: 0px; height: 70px; }\n    60% { left: 400px; bottom: 150px; height: 120px; }\n    70% { left: 450px; bottom: 0px; height: 80px; }\n    80% { left: 500px; bottom: 100px; height: 110px; }\n    90% { left: 550px; bottom: 0px; height: 90px; }\n    100% { left: 600px; bottom: 50px; height: 100px; }\n}\n</code></pre>\n<p>Basically, we&#39;re just animating the left and bottom positions of the element to slowly come to a halt.</p>\n<p>If you want to see a fiddle of the whole thing, check it out <a href=\"http://jsfiddle.net/tysoncadenhead/bFEU3/\">here</a>. Enjoy the fun of CSS animation!</p>\n"},"how-to-abstract-pub-sub-in-your-application":{"published":true,"title":"How To Abstract Pub / Sub Methods In Your Application","tags":["javascript","pubsub"],"category":"code","date":"3-18-2014","thumbnail":"/images/blog/how-to-abstract-pub-sub-in-your-application.jpg","yield":"<p>If you have worked on a large scalable web application, I probably don&#39;t have to tell you how important it is to keep your modules from directly referencing each other. There are several Pub/Sub libraries that have emerged to solve that problem. Some of the main contenders are <a href=\"https://github.com/mroderick/PubSubJS\">PubSubJS</a>, <a href=\"https://github.com/postaljs/postal.js\">Postal</a> and <a href=\"http://amplifyjs.com/\">Amplify</a>.</p>\n<p>With several options to chose from, there is certainly value in abstracting away whichever choice you make so that you could easily switch the Pub/Sub library out without impacting the application. There are various reasons for switching libraries. Your library of choice might become unmaintained, or perhaps it will evolve in a way that doesn&#39;t suite your needs, or perhaps a better solution will emerge. Whatever the case, you certainly don&#39;t want to be locked in and have to change every file of your application if you do make the choice to switch at some point. Additionally, if you are using an AMD loader, you get the added benefit of not needing to require the pub/sub library in every module that uses it. This is how I have gone about abstracting my pub/sub libraries in applications in the past.</p>\n<!-- more -->\n<h3>Create a Pub/Sub Mixin</h3><p>I would start by creating a mixin to use with my classes. This is basically just an object that extends methods to publish and subscribe to topics. Your methods might look something like this:</p>\n<pre><code class=\"language-js\">var PubSubMixin = {\n\n    publish: function (topic, data) {\n\n    },\n\n    subscribe: function (topic, callback) {\n\n    },\n\n    unsubscribe: function (topic) {\n\n    },\n\n    unsubscribeAll: function () {\n\n    }\n\n}\n</code></pre>\n<p>To flesh this out, the mixin might look something like this if we are using Postal:</p>\n<pre><code class=\"language-js\">var PubSubMixin = {\n\n    _subscriptions: {},\n\n    publish: function (topic, data) {\n        postal.publish({\n            topic: topic,\n            data: data\n        });\n    },\n\n    subscribe: function (topic, callback) {\n        this._subscriptions[topic] = postal.subscribe({\n            topic: topic,\n            callback: callback.bind(this)\n        });\n    },\n\n    unsubscribe: function (topic) {\n        this._subscriptions[topic].unsubscribe();\n        delete this._subscriptions[topic];\n    },\n\n    unsubscribeAll: function () {\n        var self = this;\n        for (var subscription in this._subscriptions) {\n            this.unsubscribe(subscription);\n        }\n    }\n\n}\n</code></pre>\n<p>I basically just save a reference to all of the subscriptions in the <code>_subscriptions</code> object so that I can use the references to unsubscribe from any of the topics if I need to.</p>\n<h3>Mix the Mixin Into Your Classes</h3><p>I typically don&#39;t just use the classes that my MV* framework gives me out of the box. Instead, I wrap them up so that I can extend them and add functionality for all of my modules.</p>\n<p>For example, instead of just extending Backbone&#39;s View, I might have an abstraction like this:</p>\n<pre><code class=\"language-js\">myApp.View = function (options) {\n\n    return Backbone.View.extend(\n        _.extend(options, PubSubMixin)\n    );\n\n};\n</code></pre>\n<h3>New Up Your Classes and Enjoy Pub / Sub</h3><p>With the backbone view abstraction using my PubSubMixin, I can call the <code>this.publish()</code>and <code>this.subscribe()</code> methods where I need them.</p>\n<pre><code class=\"language-js\">var documentRow = new myApp.View({\n\n    initialize: function () {\n\n        this.publish(&#39;document-rendered&#39;, {\n            rendered: true\n        });\n\n        this.subscribe(&#39;some-subscription&#39;, function (data) {\n            console.log(data);\n        });\n\n    }\n\n});\n</code></pre>\n<p>While this example uses Backbone, it works just as well with most of the other popular frameworks. It is a great way to abstract your pub / sub calls so that you can use them when you need them to communicate messages across your application.</p>\n","slug":"how-to-abstract-pub-sub-in-your-application"},"exporting-canvas-animation-to-mov":{"published":true,"title":"Exporting Three JS Canvas Animations To MOV or MP4 Format With Socket.io","tags":["node","javascript","animation"],"category":"code","date":"3-17-2014","thumbnail":"/images/blog/exporting-canvas-animation-to-mov.jpg","slug":"exporting-canvas-animation-to-mov","yield":"<p>I have been a huge animation enthusiast since high-school. I even went to college hoping to become a professional computer animator before I got sucked into the wild world of computer programming. I have recently been dabbling with <a href=\"http://threejs.org/\">Three JS</a>, which is a JavaScript engine for creating 3D models and animations for the browser.</p>\n<p>Of course, my interests go beyond just making games and website animations. I like that the engine is written in JavaScript and that it uses web technologies like the canvas and WebGL to render the models. To that end, I have been exploring ways to export animations I make with Three JS to an external video file that I could use to stitch together actual films just like any application-based 3D animation software like Maya, Blender or Lightwave. I know it&#39;s crazy, but I think this might actually work.</p>\n<!-- more -->\n<p>So let&#39;s take the example that Three JS gives us for <a href=\"http://threejs.org/docs/index.html#Manual/Introduction/Creating_a_scene\">creating our first scene</a>. The markup looks something like this:</p>\n<pre><code class=\"language-js\">&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My first Three.js app&lt;/title&gt;\n        &lt;style&gt;canvas { width: 100%; height: 100% }&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script src=&quot;https://rawgithub.com/mrdoob/three.js/master/build/three.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            var scene = new THREE.Scene();\n            var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);\n\n            var renderer = new THREE.WebGLRenderer();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            document.body.appendChild(renderer.domElement);\n\n            var geometry = new THREE.CubeGeometry(1,1,1);\n            var material = new THREE.MeshBasicMaterial({color: 0x00ff00});\n            var cube = new THREE.Mesh(geometry, material);\n            scene.add(cube);\n\n            camera.position.z = 5;\n\n            var render = function () {\n                requestAnimationFrame(render);\n\n                cube.rotation.x += 0.1;\n                cube.rotation.y += 0.1;\n\n                renderer.render(scene, camera);\n\n            };\n\n            render();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now, if we want to export something in the canvas, we can use the <code>toDataURL()</code> method on the canvas like this:</p>\n<pre><code class=\"language-js\">document.querySelector(&#39;canvas&#39;).toDataURL();\n</code></pre>\n<p>If you run that command in your console, you will get a link to the current frame you are on. It should be noted that the toDataURL() method is not particularly fast. But when has rendering animations ever been fast?</p>\n<p>So, if we want to capture all of the frames for a given length of animation, we should be able to use toDataURL() to output each of those URLs.</p>\n<p>Three JS runs all of the rendering through the render function, so we can output our images there:</p>\n<pre><code class=\"language-js\">var render = function () {\n    requestAnimationFrame(render);\n\n    cube.rotation.x += 0.1;\n    cube.rotation.y += 0.1;\n\n    renderer.render(scene, camera);\n\n    if (cube.rotation.x &lt; 3) {\n        console.log(document.querySelector(&#39;canvas&#39;).toDataURL());\n    }\n\n};\n</code></pre>\n<p>Notice that I put a conditional around the output to just give us the first 30 frames. We could do more, but the point is that you don&#39;t want to keep it spitting out frames forever if you want to keep your browser alive. If your animation isn&#39;t infinite like this example, it should be easier to figure out how many frames you need to export.</p>\n<p>Okay, so now we are exporting frames, but let&#39;s be honest, that can get tedious really fast. What if we could send the frames over websockets and have our server automatically save the png files to our hard drive in order?</p>\n<p>Our server should look something like this:</p>\n<pre><code class=\"language-js\">var app = require(&#39;express&#39;)(),\n    server = require(&#39;http&#39;).createServer(app),\n    io = require(&#39;socket.io&#39;).listen(server),\n    fs = require(&#39;fs&#39;);\n\nserver.listen(3000);\n\napp.get(&#39;/&#39;, function (req, res) {\n    res.sendfile(__dirname + &#39;/index.html&#39;);\n});\n\nio.sockets.on(&#39;connection&#39;, function (socket) {\n    socket.on(&#39;render-frame&#39;, function (data) {\n        data.file = data.file.split(&#39;,&#39;)[1]; // Get rid of the data:image/png;base64 at the beginning of the file data\n        var buffer = new Buffer(data.file, &#39;base64&#39;);\n        fs.writeFile(__dirname + &#39;/tmp/frame-&#39; + data.frame + &#39;.png&#39;, buffer.toString(&#39;binary&#39;), &#39;binary&#39;);\n    });\n});\n</code></pre>\n<p>As you can see, we have created a socket.io event called &quot;render-frame&quot; that takes an object with the file and the frame number and it creates an image in the <code>/tmp</code> directory with the frame number as part of the name and the meta-data from the file as the content of the image. We&#39;ll also need to update the client-side code to this:</p>\n<pre><code class=\"language-js\">&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;My first Three.js app&lt;/title&gt;\n        &lt;style&gt;canvas { width: 100%; height: 100% }&lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;script src=&quot;https://rawgithub.com/mrdoob/three.js/master/build/three.js&quot;&gt;&lt;/script&gt;\n        &lt;script src=&quot;/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\n        &lt;script&gt;\n            var socket = io.connect(&#39;http://localhost:3000&#39;);\n            var frame = 0;\n            var scene = new THREE.Scene();\n            var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);\n\n            var renderer = new THREE.WebGLRenderer();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            document.body.appendChild(renderer.domElement);\n\n            var geometry = new THREE.CubeGeometry(1,1,1);\n            var material = new THREE.MeshBasicMaterial({color: 0x00ff00});\n            var cube = new THREE.Mesh(geometry, material);\n            scene.add(cube);\n\n            camera.position.z = 5;\n\n            var render = function () {\n                requestAnimationFrame(render);\n\n                cube.rotation.x += 0.1;\n                cube.rotation.y += 0.1;\n\n                renderer.render(scene, camera);\n\n                if (cube.rotation.x &lt; 3) {\n                    socket.emit(&#39;render-frame&#39;, {\n                        frame: frame++,\n                        file: document.querySelector(&#39;canvas&#39;).toDataURL()\n                    });\n                }\n\n            };\n\n            render();\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Where we are basically just setting up the websocket and emitting the &quot;render-frame&quot; event instead of logging it and letting the server handle the heavy lifting.</p>\n<p>At this point, we&#39;ve gotten as far as outputting the images, but there is still no video. However, if you have ffmpeg, you should be able to run:</p>\n<pre><code class=\"language-bash\">ffmpeg -r 60 -i /tmp/frame-%04d.png -vcodec libx264 -vpre lossless_slow -threads 0 output.mp4\n</code></pre>\n<p>Which will output the video using the frames we&#39;ve outputted.</p>\n<p>As you can see, even if there isn&#39;t an out of the box solution to export Three JS videos from the browser, it&#39;s really not that hard. It is totally possible to make animations with JavaScript that you could put on YouTube and premier at your next nearby film festival.</p>\n"},"javascript-life-ko-ninja-example-app":{"published":true,"title":"Ko.Ninja Example App - JavaScript Life","tags":["knockout","javascript","ko.ninja"],"category":"code","date":"3-14-2014","thumbnail":"/images/blog/javascript-life-ko-ninja-example-app.jpg","slug":"javascript-life-ko-ninja-example-app","yield":"<p>If you haven&#39;t used <a href=\"https://github.com/jcreamer898/ko.ninja\">ko.ninja</a> yet, it is a great little framework for building awesome Knockout applications.</p>\n<p>I&#39;ve built a sample app to show how easy it is to build something with Ninja. The application is based off of Conway&#39;s Game of Life, which was devised by the British mathematician John Horton Conway in 1970.</p>\n<!-- more -->\n<p>The idea is that each cell either lives, dies or multiplies based on the cells around it as you proceed from one step to the next. You can even set up a pattern to start with and push play and let the game take over.</p>\n<p><img src=\"/images/blog/life.png\" alt=\"JavaScript Life\"></p>\n<p>My plan is to maintain this app as ko.ninja develops to use the latest advances and show how to create a well-structured application using ko.ninja.</p>\n<p>If any of this sparks your imagination, check out <a href=\"https://github.com/tysoncadenhead/javascript-life\">JavaScript Life</a> on github.</p>\n"},"the-correct-way-to-use-jquery-with-knockout-js":{"published":true,"title":"The Correct Way To Use JQuery With Knockout","tags":["knockout","jquery","javascript"],"category":"code","date":"3-12-2014","thumbnail":"/images/blog/the-correct-way-to-use-jquery-with-knockout-js.jpg","slug":"the-correct-way-to-use-jquery-with-knockout-js","yield":"<p>There has been a lot of buzz around whether or not jQuery is needed for building web applications anymore. Many blog posts have sprung up about how to do common things that are typically done with jQuery just using vanilla JavaScript. While it is important to know where jQuery is needed and where a leaner solution could provide a quicker load time and less complexity, for most large-scale projects, the last thing you want to be worrying about is optimizing against various browser types and nuances.</p>\n<p>Reactive frameworks such as Knockout may seem on the surface to work pretty well without needing jQuery at all, but as you get deeper into complex interfaces, you might find yourself needing something such as a jQuery UI component. So where should jQuery and DOM interaction go in a well-structured Knockout application?</p>\n<!-- more -->\n<h2>Don&#39;t Do DOM Manipulation On Observables</h2><p>A rookie mistake is to treat Knockout like other frameworks and try to change the DOM elements without it. For example:</p>\n<pre><code class=\"language-js\">var person = {\n    name: ko.observable(&#39;Tyson Cadenhead&#39;)\n};\nvar $person = $(&#39;&lt;div /&gt;&#39;, {\n    &#39;data-bind&#39;: &#39;{ text: name }&#39;\n})\nko.applyBindings(person, $person[0]);\n</code></pre>\n<p>Will work fine, but if you do something like:</p>\n<pre><code class=\"language-js\">$person.html(&#39;Batman&#39;);\n</code></pre>\n<p>you are basically overwriting the Knockout functionality. That is no good.</p>\n<h2>jQuery Doesn&#39;t Belong In Your ViewModels, Models or Collections</h2><p>One of the best selling points of Knockout besides getting developers out of the humdrum of repetitive DOM manipulation is that when it is written well, it is very easy to unit test. As you probably know, unit testing the DOM is not just difficult, it is also slow and unproductive. A viewModel like this would be easy to test:</p>\n<pre><code class=\"language-js\">var person = {\n    firstName: ko.observable(&#39;Tyson&#39;),\n    lastName: ko.observable(&#39;Cadenhead&#39;),\n    save: function () {\n        var json = {\n            firstName: this.firstName(),\n            lastName: this.lastName()\n        };\n        return json;\n    }\n};\n</code></pre>\n<p>However, this is difficult to test:</p>\n<pre><code class=\"language-js\">var person = {\n    firstName: ko.observable(&#39;Tyson&#39;),\n    lastName: ko.observable(&#39;Cadenhead&#39;),\n    openDate: function () {\n        $(&#39;#datepicker&#39;).datepicker();\n    }\n};\n</code></pre>\n<p>The only way to test whether the datepicker was opened or not is to query the DOM. There must be a better way!</p>\n<h2>Custom Bindings To The Rescue!!!</h2><p>Knockout allows you to write your own custom bindings. These bindings work just like any of the bindings Knockout gives you out of the box such as <code>text</code>, <code>value</code>, etc...</p>\n<p>It might seem a little intimidating to write your own bindings, but let me assure you that it is actually a breeze. So, let&#39;s take our datepicker example above and refactor it into a custom binding. The binding itself would be as simple as this:</p>\n<pre><code class=\"language-js\">ko.bindingHandlers.datepicker = {\n\n    init: function(el, valueAccessor, allBindings, data, context) {\n        $(el).datepicker(data.modalOptions);\n    }\n\n};\n</code></pre>\n<p>Now, you just need to update your template to use the new datepicker custom binding:</p>\n<pre><code class=\"language-html\">&lt;div&gt;\n    &lt;input data-bind=&quot;{\n        datapicker: {}\n    }&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n<p>You can also pass in data to the custom binding like this:</p>\n<pre><code class=\"language-html\">&lt;div&gt;\n    &lt;input data-bind=&quot;{\n        datapicker: {\n            numberOfMonths: 3\n        }\n    }&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n<p>That&#39;s really all there is to it. Using this approach, you can get the jQuery out of your viewModels and make your viewModels more testable and more clean.</p>\n<p>As it turns out, jQuery works really well with Knockout as long as it is done right.</p>\n<p>If you want to see an example of this, checkout this <a href=\"http://jsfiddle.net/22f2z/\">JSFiddle</a>.</p>\n"},"the-business-case-for-having-an-all-remote-organization":{"published":true,"title":"The Business Case For Having An All-Remote Organization","tags":["remote"],"category":"productivity","date":"3-7-2014","thumbnail":"/images/blog/the-business-case-for-having-an-all-remote-organization.jpg","slug":"the-business-case-for-having-an-all-remote-organization","yield":"<p>For the past year and a half, I have been working for a completely remote company called <a href=\"http://appendto.com\">appendTo</a>. We literally have employees working from their houses, coffee shops and Buffalo Wildwings across the globe. One of the main draws to the company for me was the ability to work from anywhere.</p>\n<p>There are obviously numerous benefits to remote working for the employee, but I&#39;ve also come to the conclusion that if I were ever to start a company of my own, I would absolutely build it as a 100% remote company because there are a lot of benefits for the employer as well. Here are a few reasons why.</p>\n<!-- more -->\n<h3>Save Money On Overhead</h3><p>Renting out office space is expensive. In the technology / startup space, the ability to save money could mean that the company could hire more or better employees and move faster.</p>\n<h3>Hire Talent From Anywhere</h3><p>There are talented programmers all over the globe. Many of them live in remote areas and are not willing or able to relocate to a technology town. By deciding that all employees must be in a single location, you are artificially limiting the talent you are able to employ.</p>\n<h3>Asynchronous Development</h3><p>When you have employees from various places around the country or even the world, they will be in different timezones than each other. While this might seem on the surface to be a disadvantage, it just means the employees have to be more intentional about scheduling times and that there will be stretches of time where certain employees can typically count on to not be interrupted and get more done. It also means that you have a support team that covers more than just a 9 - 5 business day.</p>\n<h3>Diversity</h3><p>When you are able to hire from anywhere, you will have more diversity on your team. People from different cultures and backgrounds will typically take different approaches to a problem and it can be huge for the success of a company.</p>\n<hr />\n\n<p>I know that not every company will get on board with remote jobs. There are a lot of fears that business owners tend to have and it takes a lot of trust in your team and in your processes to pull it off. I am really lucky to be working at a company that has done such a great job at it and I hope that other places will take the plunge and reap the awesome reward.</p>\n"},"how-to-organize-a-meteor-app":{"published":true,"title":"How To Organize A Meteor App","tags":["meteor"],"category":"code","date":"3-6-2014","thumbnail":"/images/blog/how-to-organize-a-meteor-app.jpg","slug":"how-to-organize-a-meteor-app","yield":"<p>Meteor is a really nice framework for building real-time applications. The example application shows off how easy it is to share code between the server and client by putting the code inside a single JavaScript file at the root of the project. Running the example app from a single file definitely shows off how awesome sharing code is, but it also made me scratch my head trying to figure out how to organize a larger application. After reading through the documentation and a lot of trail and error, here is the organization that I have landed on.</p>\n<!-- more -->\n<ul>\n<li>app<ul>\n<li>client<ul>\n<li>stylesheets</li>\n<li>lib<ul>\n<li>meteor</li>\n<li>vendor</li>\n</ul>\n</li>\n<li>views</li>\n</ul>\n</li>\n<li>lib<ul>\n<li>collections</li>\n<li>meteor</li>\n<li>models</li>\n</ul>\n</li>\n<li>packages</li>\n<li>private</li>\n<li>public</li>\n<li>server<ul>\n<li>api</li>\n<li>models</li>\n<li>publications</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>tests<ul>\n<li>integration</li>\n<li>spec</li>\n</ul>\n</li>\n</ul>\n<p>If you are confused about what any of these directories should contain, don&#39;t worry. Let me break it down:</p>\n<hr />\n\n<ul>\n<li><h4>app</h4>This is where the entire application lives<ul>\n<li><h4>client</h4>  This is where put any code that you only want to be used on the client-side and not the server-side. This will typically include:<ul>\n<li><h4>stylesheets</h4>Your css files go here</li>\n<li><h4>lib</h4>Anything in this folder will be executed first. You will want to put things such as shared libraries and things here. Inside of this directory, you may want to split things up a little more, such as:<ul>\n<li><h5>meteor</h5>The application core. This might include the router.js and a startup.js files</li>\n<li><h5>vendor</h5>Client-side libraries, etc...</li>\n</ul>\n</li>\n<li><h4>views</h4>Your views and templates can go in this folder. I typically arrange them as modules such as:<ul>\n<li><h5>myModuleName</h5><ul>\n<li><h5>myController.js</h5></li>\n<li><h5>myTemplate.html</h5></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><h4>lib</h4><ul>\n<li><h4>collections</h4>Meteor collections should be shared, so they go here</li>\n<li><h4>meteor</h4>Any application-specific code</li>\n<li><h4>models</h4>Meteor doesn&#39;t really have a concept of models, but it&#39;s pretty simple to set them up as an extension of the collections</li>\n</ul>\n</li>\n<li><h4>packages</h4>Meteor packages. You shouldn&#39;t need to touch this directly.</li>\n<li><h4>private</h4>Any static files that you only want to be available to the server</li>\n<li><h4>public</h4>The /public root for the client-side. This would typically have images and any other static assets.</li>\n<li><h4>server</h4>This is the code that only gets executed on the server-side<ul>\n<li><h4>api</h4>If you need to have an http api, it can go here</li>\n<li><h4>models</h4>Models that you only want to be available on the server</li>\n<li><h4>publications</h4>Messaging for the server-side to the client</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><h4>tests</h4>I&#39;ve found that it is easier to put the tests completely outside of the app itself because the build process can be problematic<ul>\n<li><h4>integration</h4>Selenium or Webdriver tests</li>\n<li><h4>spec</h4>Mocha or QUnit tests</li>\n</ul>\n</li>\n</ul>\n<hr />\n\n<p>It&#39;s taken a lot of trail and error to get to the structure above, and every application will have different needs, but it serves as a good reference for me. How do you organize your Meteor apps?</p>\n"},"there-is-more-than-one-way-to-loop-a-cat":{"published":true,"title":"There Is More Than One Way To Loop Over A Cat","tags":["looping","underscore","jquery"],"category":"code","date":"2-22-2014","thumbnail":"/images/blog/there-is-more-than-one-way-to-loop-a-cat.jpg","slug":"there-is-more-than-one-way-to-loop-a-cat","yield":"<p>When I first started writing JavaScript, most of the libraries that are around today weren&#39;t available, which meant that there were basically a few low-level ways to loop over an array of content. Now that there are many more options, I wanted to take a moment to examine what they are and how each option might affect readability of code as well as performance.</p>\n<!-- more -->\n<p>We will start with the native looping that JavaScript gives you without any additional libraries or frameworks. For the rest of this discussion, we will assume that we are looping over an array that looks like this:</p>\n<pre><code class=\"language-js\">var cats = [\n    &#39;Shy One&#39;,\n    &#39;Horatio&#39;,\n    &#39;Nestor le Freep&#39;,\n    &#39;Muon&#39;,\n    &#39;Barry Mundee&#39;,\n    &#39;Orange Juice&#39;,\n    &#39;Cali&#39;,\n    &#39;Baby Boo&#39;,\n    &#39;G Whillikers&#39;,\n    &#39;Uma&#39;,\n    &#39;Scud&#39;,\n    &#39;Mitaine&#39;,\n    &#39;Suki&#39;,\n    &#39;Mallorey&#39;,\n    &#39;Princess Sarah&#39;,\n    &#39;Pogo&#39;,\n    &#39;Baby Kitten&#39;,\n    &#39;Sweety&#39;\n];\n</code></pre>\n<p>These cat names all came out of a <a href=\"http://www.alistair.com/catname/\">random cat name generator</a> so don&#39;t judge. I&#39;m sure they would be better names if they were for dogs.</p>\n<p>So, one way to loop over the cats is this:</p>\n<pre><code class=\"language-js\">for (var i = 0; i &lt; cats.length; i++) {\n    if (cats[i].indexOf(&#39;Baby&#39;)) {\n        console.log(cats[i]);\n    }\n}\n</code></pre>\n<p>This is a pretty common pattern. If you&#39;ve been using JavaScript for a while, you will be familiar with it, but it might be hard for a beginner to break down that we are creating a variable called <code>i</code> that is equal to 0 and we are incrementing the number again and again until <code>i</code> is no longer less than the length of all of the cats.</p>\n<p>Another way to approach this is to use a while loop:</p>\n<pre><code class=\"language-js\">var i = 0;\nwhile (cats.length &lt; i) {\n    if (cats[i].indexOf(&#39;Baby&#39;)) {\n        console.log(cats[i]);\n    }\n    i++;\n}\n</code></pre>\n<p>You could argue that the while loop is a little easier to read than the for loop because it doesn&#39;t handle all of the logic of the loop in the head. <a href=\"http://jsperf.com/while-vs-for-00001/13\">Performance differences</a> are all over the board.</p>\n<p>The while loop tends to be faster in most current browsers, but there are plenty of instances where they are dead-even and even a couple of times when <code>for</code> measures marginally faster. However, if you&#39;re looking for a general rule, the while loop typically comes out ahead.</p>\n<p>To round out our discussion of native looping options, there is the <code>for-in</code> loop:</p>\n<pre><code class=\"language-js\">cats.forEach(function (cat) {\n    if (cat.indexOf(&#39;Baby&#39;)) {\n        console.log(cat);\n    }\n});\n</code></pre>\n<p>Obviously, this is the most clean and readable native way to loop over an array. The <code>forEach</code> method is a prototype of the Array, which makes it very simple to use. The main issue with forEach is browser support. Any versions of Internet Explorer before IE9 do not support it. If you are supporting IE8 and below, you can easily polyfill forEach, but that is another discussion for another time.</p>\n<p>Depending on what perfs you look at, <code>forEach</code> typically comes out behind the <code>for</code> loop. I have seen instances where this is the opposite as well, so take that with a grain of salt.</p>\n<p>Now, to throw in the library looping methods. JQuery has a <code>$.each</code> method that looks like this:</p>\n<pre><code class=\"language-js\">$.each(cats, function (cat) {\n    if (cat.indexOf(&#39;Baby&#39;)) {\n        console.log(cat);\n    } \n});\n</code></pre>\n<p>The underscore and lodash version looks pretty similar:</p>\n<pre><code class=\"language-js\">_.each(cats, function (cat) {\n    if (cat).indexOf(&#39;Baby&#39;) {\n        console.log(cat);\n    } \n});\n</code></pre>\n<p><a href=\"http://jsperf.com/jquery-each-vs-for-loop/7\">According to the perfs</a>, the underscore version is two or three times faster than the jQuery version. The lodash version, which looks exactly the same as the underscore version is about 4 times as fast as jQuery in most browsers.</p>\n<p>My personal preference is not to use jQuery for utility methods. JQuery does a great job with traversing the DOM and normalizing browser interaction, but I personally prefer to leave lower-level utilities to something else, such as lodash that only focuses on providing utility fast methods. End of rant.</p>\n<p>In the end, I would say that the native <code>forEach</code> and the lodash <code>_.each</code> method are the most readable. ForEach is problematic in the browser because of backwards compatibility. <code>_.each</code> is not quite as fast because it is not native and every level of abstraction inevitably gives you a performance hit.</p>\n<p>In most smaller apps, <code>_.each</code> should be sufficient. If you are working on something with a ton of looping where performance is vital, the while loop is a pretty solid choice, although you may take a small maintainability hit with it. When I&#39;m working on a server-side service, I usually go with <code>forEach</code> because it works everywhere and it is readable and pretty fast.</p>\n<p>In the end, the main thing is consistency. All of these options have their pros and cons, but the last thing you want is to randomly select different choices throughout a project. When you use one of these methods, make sure you know why one is better than the others.</p>\n<p>What do you think? How do you weigh the options when it comes to deciding between maintainability, performance and browser support?</p>\n"},"dependency-injection-with-squire-and-sinon":{"published":true,"title":"Dependency Injection With Squire and Sinon","tags":["testing","squire"],"category":"code","date":"2-7-2014","thumbnail":"/images/blog/dependency-injection-with-squire-and-sinon.jpg","yield":"<p>Unit testing in JavaScript can be difficult sometimes. Typically, you only want to test the behavior of a single module, but if you are using an AMD loader like RequireJS, you may be pulling in several other libraries and modules just to test a single module. The point of the unit test is to test an individual unit, not to test how it works with other dependencies.</p>\n<p>If only there was a way to trick the test runner into thinking that the other modules were loaded by providing simplified stubs of the methods they actually performed! Good news, that is totally possible using <a href=\"https://github.com/iammerrick/Squire.js/\">Squire</a>. Don&#39;t run away when you see the creepy looking mascot on the GitHub page, Squire is totally worth your time.</p>\n<!-- more -->\n<p>If you have used Angular, you are familiar with how dependency injection can work in JavaScript. Squire has extended this ability to work with any AMD module. The basic idea is that the module says that it needs &quot;x dependency&quot;, but Squire steps in and says &quot;well, actually I&#39;m going to give you y dependency instead, but you can still go on believing that it is x dependency. Silly you.&quot;</p>\n<p>Let&#39;s say that you have a module that looks like this:</p>\n<pre><code class=\"language-js\">// Person Module\n\ndefine([\n    &#39;underscore&#39;,\n    &#39;friends&#39;\n], function (_, Friends) {\n\n    var Person = function (data) {\n        this.init(data);\n    };\n\n    _.extend(Person.prototype, {\n\n        addFriend: function (data) {\n            this.friends.add(data);\n        },\n\n        getId: function () {\n            return this._id;\n        },\n\n        init: function (data) {\n            this.friends = new Friends(data.id);\n            this.addFriend({ id: 223 });\n        }\n\n    });\n\n    return Person;\n\n});\n</code></pre>\n<p>Obviously, it would have a friends dependency. That might look something like this:</p>\n<pre><code class=\"language-js\">// Friends Module\n\ndefine([\n    &#39;underscore&#39;\n], function () {\n\n    var Friends = function (id) {\n        this.init(id);\n    };\n\n    _.extend(Friends.prototype, {\n\n        add: function (friend) {\n            this._friends.push(friend);\n        },\n\n        init: function (id) {\n            this._friends = [];\n            this._id = id;\n        }\n\n    });\n\n});\n</code></pre>\n<p>Now, lets say we want to test the Person module, but we want to test Friends separately. First lets look at how that might be done without dependency injection:</p>\n<pre><code class=\"language-js\">define([\n    &#39;person&#39;\n], function (Person) {\n\n    describe(&#39;the person module&#39;, function () {\n\n        beforeEach(function () {\n            this.person = new Person({\n                id: 213\n            });\n        });\n\n        describe(&#39;when adding a new friend&#39;, function () {\n            it (&#39;should add the friend to the the person&#39;, function () {\n                assert.equal(this.person.getId(), 213);\n            });\n        });\n\n    });\n\n});\n</code></pre>\n<p>Not too terrible, but we are just requiring one module from the person and there aren&#39;t any weird side effects like there might be in a real-world example.</p>\n<p>To stop actually using the friends module, we can do this:</p>\n<pre><code class=\"language-js\">define([\n    &#39;squire&#39;,\n    &#39;sinon&#39;\n], function (Squire, sinon) {\n\n    var injector = new Squire();\n\n    injector.mock({\n        &#39;friends&#39;: {\n            add: sinon.stub()\n        }\n    });\n\n    injector.require([\n        &#39;person&#39;\n    ], function (Person) {\n\n        describe(&#39;the person module&#39;, function () {\n\n            beforeEach(function () {\n                this.person = new Person({\n                    id: 213\n                });\n            });\n\n            describe(&#39;when adding a new friend&#39;, function () {\n                it (&#39;should add the friend to the the person&#39;, function () {\n                    this.person.addFriend(new Person({\n                        id: 222\n                    }));\n                    assert.equal(this.person.find().length, 1);\n                });\n            });\n\n        });\n\n    });\n\n});\n</code></pre>\n<p>Sure, it is a little more code, but here is what we have gained:</p>\n<ul>\n<li>We are no longer loading the friends dependency, so the test will run faster</li>\n<li>We are testing the person module in isolation</li>\n</ul>\n<p>Not bad, huh?</p>\n<p>Let&#39;s walk through how we did that.</p>\n<p>First of all, we created a new injector by instantiating Squire. </p>\n<p>Next, we gave Squire an object of dependencies that we wanted it to replace by using <code>injector.mock</code>. You might also noticed that we used a library called <a href=\"http://sinonjs.org/\">Sinon</a> to create an empty function that could take the place of friends.add(). If you haven&#39;t used Sinon, you are missing out, it allows you to fake methods and return anything you want from them, which makes it a perfect companion for Squire.</p>\n<p>Last, we required our module using <code>inject.require()</code>. While the API does look exactly like RequireJS, it is passing the call through Squire for dependency injection instead of requiring the dependencies.</p>\n<p>Pretty cool, huh?</p>\n","slug":"dependency-injection-with-squire-and-sinon"},"dom-manipulation-is-so-early-2000s":{"published":true,"title":"DOM Manipulation Is So Early 2000s","tags":["jQuery","Knockout"],"category":"code","date":"1-31-2014","thumbnail":"/images/blog/dom-manipulation-is-so-early-2000s.jpg","yield":"<p>I remember when I first started playing with JavaScript in high-school. The first thing I loved about it was that I could change things without the browser even refreshing. It was like I was a magician moving elements around, hiding and showing things, totally in control of what the user could see. All I had to do was directly modify elements in the DOM and they would instantly react. But that was in the late 90s and early 2000s, now I have found reasons for abstracting away DOM interaction. That&#39;s not to say that DOM manipulation shouldn&#39;t happen, it just shouldn&#39;t be the glue that holds your application together.</p>\n<!-- more -->\n<p>Here are a few reasons why:</p>\n<p><img src=\"http://www.memecreator.org/static/images/memes/46827.jpg\" alt=\"\"></p>\n<h3>Changes in the DOM are hard to test</h3><p>Yes, writing unit tests against the DOM is possible, but it is not ideal. A good unit test should basically say &quot;if I put X into method Y, it should do Z.&quot; When you have a bunch of DOM manipulation happening, tests slow down and become more and more difficult to write.</p>\n<p><img src=\"http://s2.quickmeme.com/img/00/00de3fb939ccf2b8c24f77c31cdd19ecff9bc677fac080617c185403bdbd8e93.jpg\" alt=\"\"></p>\n<h3>Scattered logic</h3><p>If you have several places throughout your code that are doing basically the same thing, fixing bugs across browsers can become more of an issue. This is the case even for DOM manipulation that is just a one-liner. If you have a central place in your code to handle this, you can do feature detection as needed to support differing browser implementations.</p>\n<p><img src=\"http://assets.diylol.com/hfs/21c/b1c/a9e/resized/procrastination-panda-meme-generator-should-do-something-about-it-never-mind-cant-do-it-ad6b8f.jpg\" alt=\"\"></p>\n<h3>So, what should I do?</h3><p>One solution is to implement a DOM abstraction layer like jQuery or MooTools. That will handle most of your issues with scattered logic, but your code will still be fairly untestable without actually writing tests against the DOM.</p>\n<p>The good news is that the approach newer frameworks like Knockout, Ember or Angular are taking with data-binding can actually make this an easier task. You simply update the underlying observable data structure and the DOM will be updated automatically to reflect the changes.</p>\n<p>For example, compare these two approaches:</p>\n<pre><code class=\"language-js\">// With Just jQuery:\n$(&#39;#my-id&#39;).css({\n   &#39;color&#39;: &#39;red&#39;,\n   &#39;font-size&#39;: &#39;24px&#39; \n});\n\n// jQuery Test - Using the DOM\nconsole.log($(&#39;#my-id&#39;).css(&#39;color&#39;) === &#39;red&#39;);\n\n// With Knockout:\nvar css = ko.observable({\n    &#39;color&#39;: &#39;red&#39;,\n    &#39;font-size&#39;: &#39;24px&#39;\n});\n\n// Knockout - No DOM Required\nconsole.log(css().color === &#39;red&#39;);\n</code></pre>\n<p>That is much better. You can spin your own abstraction layer to make testing easier or you can take advantage of framework that can handle it for you. Either way, it will make things much easier.</p>\n","slug":"dom-manipulation-is-so-early-2000s"},"ko-ninja-socket-io-model":{"published":true,"series":"Ko.Ninja","part":5,"lastPart":true,"title":" Socket.io Models","tags":["knockout","ko.ninja","model","data","socket.io"],"category":"code","date":"1-17-2014","thumbnail":"/images/blog/ninja5.png","yield":"<h4><a href=\"/blog/ko-ninja-http-models\">Previous Post In This Series</a></h4><p>This is a part of a larger series about the <a href=\"/blog/ko-ninja\">ko.ninja framework</a> that I helped to create to make Knockout development more awesome. Previously, we looked at how we can automatically save ko.ninja data with ajax, but today we&#39;re going to look at how to use Socket.io with ko.ninja. Since I love socket.io so much, I had to include it as one of our model options in ko.ninja. This is not a primer on how to use socket.io, so if you haven&#39;t used it before, I suggest checking out my blog post on <a href=\"/blog/getting-started-with-socket-io\">getting started with socket.io</a>.</p>\n<!-- more -->\n<p>To use socket.io for saving your ko.ninja data, you will need to include the socket.io javaScript file in your document just like normal. Once that&#39;s done, you can set up a viewModel like this:</p>\n<pre><code class=\"language-js\">ko.ViewModel.extend({\n  model: {\n\n    // For socket.io, the storage should always be set to socket.io\n    storage: &#39;socket.io&#39;,\n\n    // The name of the model. If message names are not specified, this will be used to generate the message names. This is required.\n    name: &#39;list&#39;,\n\n    // The http protocol to use for socket.io messages. This is set to &quot;http&quot; by default, but you could change it to https\n    protocol: &#39;http&#39;,\n\n    // The domain name to use for socket.io messages. This is set to &quot;localhost&quot; by default\n    domainName: &#39;localhost&#39;,\n\n    // The port number to use for socket.io messages. This is set to 8080 by default\n    port: 3000,\n\n    // The message names can be updated to be anything you want. These are all defaulted and not required.\n    messageNames: {\n      &#39;update&#39;: &#39;update-myList&#39;,        // Defaults to {{name}}-update\n      &#39;insert&#39;: &#39;insert-intoMyList&#39;,    // Defaults to {{name}}-insert\n      &#39;find&#39;: &#39;find-stuffInMyList&#39;,     // Defaults to {{name}}-find\n      &#39;findOne&#39;: &#39;find-aThing&#39;,         // Defaults to {{name}}-findOne\n      &#39;remove&#39;: &#39;remove-aThing&#39;         // Defaults to {{name}}-remove\n    }\n\n  },\n  ....\n});\n</code></pre>\n<p>As you can see, there is a fair amount of configuration here. The good news is that if you want to go with the defaults, configuring the socket.io model is as simple as this:</p>\n<pre><code class=\"language-js\">ko.ViewModel.extend({\n  model: {\n    storage: &#39;socket.io&#39;,\n    name: &#39;list&#39;\n  },\n  ....\n});\n</code></pre>\n<p>Using the default configuration, the server should have the following subscriptions:</p>\n<pre><code class=\"language-js\">io.sockets.on(&#39;connection&#39;, function (socket) {\n\n    socket.on(&#39;list-findOne&#39;, function (data, done) {\n        console.log(data.id); // Do something with the id\n        done({}); // Return the data for the id\n    });\n\n    socket.on(&#39;list-find&#39;, function (data, done) {\n        console.log(data.query); // The query\n        done([]); // Return an array\n    });\n\n    socket.on(&#39;list-insert&#39;, function (data, done) {\n        console.log(data.data); // The data\n        done({}); // Return the new record\n    });\n\n    socket.on(&#39;list-update&#39;, function (data, done) {\n        console.log(data.id); // The id\n        console.log(data.data); // The data\n        done({}); // Return the record\n    });\n\n    socket.on(&#39;list-remove&#39;, function (data, done) {\n        console.log(data.id); // The id\n        done({\n            success: true    \n        }); // Return a message\n    });\n\n});\n</code></pre>\n<p>You can then hook up to your favorite database and store the data on your server.</p>\n<p>This concludes this series introducing ko.ninja. I&#39;ll be returning less long-term posts in the coming weeks. I just felt that there was too much content to put in a single post with ko.ninja.</p>\n<p>Are you convinced yet that ko.ninja is a cool little framework? If not, what do you think it is missing that could make it better? Ko.ninja is totally open-sourced and we welcome any ideas or pull requests that might add value to the framework.</p>\n<p>Ready to get started? <a href=\"https://github.com/jcreamer898/ko.ninja\">Add ko.ninja to your project</a> and make awesome applications today!</p>\n"},"ko-ninja-http-models":{"published":true,"series":"Ko.Ninja","part":4,"title":"HTTP Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-9-2014","thumbnail":"/images/blog/ninja4.png","yield":"<h4><a href=\"/blog/ko-ninja-model\">Previous Post In This Series</a></h4><p>This is a part of a larger series about the <a href=\"/blog/ko-ninja\">ko.ninja framework</a> that I helped to create to make Knockout development more awesome. Previously, I showed how you can create a model to save data to localStorage. Today we are going to look at how you can save data to a server using Ajax using the ko.ninja model abstraction layer.</p>\n<!-- more -->\n<p>The ko.ninja HTTP model can be defined like this:</p>\n<pre><code class=\"language-js\">ko.ViewModel.extend({\n  model: {\n\n      // The root that all ajax calls are made relative to\n      urlRoot: function () {\n          return &#39;/list/&#39;\n      },\n\n      // If you have a suffix appended to each URL, this can \n      // be used. It defaults to an empty string.\n      suffix: &#39;.json&#39;,\n\n      // For HTTP, this should always be http\n      storage: &#39;http&#39;,\n\n      // The name of your model. If the urlRoot is not specified,\n      // this will be used to build the urlRoot as well.\n      name: &#39;list&#39;\n\n  },\n  ...\n});\n</code></pre>\n<p>The suffix and urlRoot are both optional, but depending on your API, they might be needed. For example, if you define the urlRoot as &#39;/people/favorites/&#39; and your suffix as &#39;.json&#39;, when you do a <code>findOne(123)</code> on the model, it would resolve to a GET request like this: <code>/people/123.json</code>.</p>\n<p>If your urlRoot is set to &quot;/list/&quot;, ko.ninja will make the following HTTP requests when a viewModel changes:</p>\n<ul>\n<li>GET /list - find()</li>\n<li>GET /list/:id - findOne()</li>\n<li>POST /list/:id - update()</li>\n<li>PUT /list - insert()</li>\n<li>DELETE /list/:id - remove()</li>\n</ul>\n<p>In a nutshell, it is the standard REST API definition. That&#39;s really all there is to it.</p>\n<p>In my next post, we&#39;ll be looking at how to use ko.ninja to sync data with a server using socket.io.</p>\n<p>Ready to get started? <a href=\"https://github.com/jcreamer898/ko.ninja\">Add ko.ninja to your project</a> and make awesome applications today!</p>\n<h4><a href=\"/blog/ko-ninja-socket-io-model\">Next Post In This Series</a></h4>","slug":"ko-ninja-http-models"},"ko-ninja-model":{"published":true,"series":"Ko.Ninja","part":3,"title":"LocalStorage Models","tags":["knockout","ko.ninja","model","data","ajax"],"category":"code","date":"1-2-2014","thumbnail":"/images/blog/ninja3.png","slug":"ko-ninja-model","yield":"<h4><a href=\"/blog/ko-ninja-validation\">Previous Post In This Series</a></h4><p>This is a part of a larger series about the <a href=\"/blog/ko-ninja\">ko.ninja framework</a> that I helped to create to make Knockout development more awesome. With ko.ninja, you can add a model to your viewModel to automatically save your data as soon as it changes and validates. Ko.ninja comes with several model types including localStorage, ajax and socket.io, but we also plan to add the ability to let you define a custom model type if you have other needs that are not covered by our model types.</p>\n<!-- more -->\n<p>We will walk through how to use ajax and socket.io models in future posts, but we&#39;ll focus on localStorage today first since it doesn&#39;t require a server to function. Let&#39;s use this simple viewModel and template as an example:</p>\n<iframe src=\"http://jsfiddle.net/tysoncadenhead/NUJ9f/3/show/\" style=\"border: 0px; height: 200px; width: 600px;\"></iframe>\n\n<p>If you change the values in the form and refresh it, the data should persist. Here is our markup:</p>\n<pre><code class=\"language-html\">&lt;div id=&quot;form&quot;&gt;\n\n    &lt;p data-bind=&quot;css: { error: firstName.error }&quot;&gt;\n        &lt;label&gt;First name:&lt;/label&gt;\n        &lt;input data-bind=&quot;value: firstName, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n    &lt;/p&gt;\n    &lt;div class=&quot;error-message&quot; data-bind=&quot;html: firstName.error&quot;&gt;&lt;/div&gt;\n\n    &lt;p data-bind=&quot;css: { error: lastName.error }&quot;&gt;\n        &lt;label&gt;Last name:&lt;/label&gt;\n        &lt;input data-bind=&quot;value: lastName, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n    &lt;/p&gt;\n    &lt;div class=&quot;error-message&quot; data-bind=&quot;html: lastName.error&quot;&gt;&lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n<p>and here is the viewModel:</p>\n<pre><code class=\"language-js\">var Person = ko.ViewModel.extend({\n\n        el: &#39;#form&#39;,\n\n        observables: {\n            id: null,\n            firstName: &#39;&#39;,\n            lastName: &#39;&#39;,\n            fullName: function () {\n                return this.firstName() + &#39; &#39; + this.lastName()\n            }\n        },\n\n        model: {\n            name: &#39;person&#39;,\n            storage: &#39;localStorage&#39;\n        },\n\n        validation: {\n            firstName: {\n                required: &#39;Your first name is required&#39;\n            },\n            lastName: {\n                required: &#39;Your last name is required&#39;\n            }\n        }\n\n    });\n\nvar person = new Person({\n    id: 1\n});\n</code></pre>\n<p>The model depends on there being an <code>id</code> defined in the viewModel. If it finds data with the matching id, it will update the observables to match the data it has retrieved. If no id is provided, when the viewModel is saved, it will create a new record with a randomly generated id. You can change the idAttribute to be something other than &quot;id&quot; by defining an <code>idAttribute</code> on the model like this:</p>\n<pre><code class=\"language-js\">{\n    observables: {\n        &#39;_id&#39;: &#39;123&#39;\n    },\n    model: {\n        name: &#39;dogs&#39;,\n        idAttribute: &#39;_id&#39;\n    }\n}\n</code></pre>\n<p>If no idAttribute is defined, ko.ninja will assume that it is called <code>id</code>.</p>\n<p>There may be instances where you don&#39;t want the ViewModel to automatically sync with the model. To turn off the autoSync functionality, just add this to your ViewModel:</p>\n<pre><code class=\"language-js\">ko.ViewModel.extend({\n    autoSync: false,\n    ...\n});\n</code></pre>\n<p>If autoSync is turned off, you will need to tap into the model methods to save and retrieve data. The methods are <code>insert(data)</code>, <code>update(id, data)</code>, <code>save(data)</code>, <code>remove(id)</code>, <code>findOne(id)</code>, and <code>find(query)</code>. These methods are all available on any model type and can be used like this inside the viewModel:</p>\n<pre><code class=\"language-js\">ko.ViewModel.extend({\n\n    autoSync: false,\n\n    observables: {\n        id: 1,\n        firstName: &#39;Tyson&#39;,\n        lastName: &#39;Cadenhead&#39;\n    },\n\n    model: {\n        name: &#39;person&#39;\n    },\n\n    insertPerson: function () {\n        this.model.insert({\n            firstName: &#39;Jonathan&#39;,\n            lastName: &#39;Creamer&#39;\n        }, function () {\n            console.log(&#39;inserted&#39;);\n        });\n    },\n\n    updatePerson: function () {\n        this.model.update(1, {\n            lastName: &#39;The Yellow Dart&#39;\n        }, function () {\n            console.log(&#39;updated!&#39;);\n        });\n    },\n\n    removePerson: function () {\n        this.model.remove(1, function () {\n            console.log(&#39;removed!&#39;);\n        });\n    },\n\n    initialize: function () {\n\n        this.model.find({\n            firstName: &#39;Tyson&#39;    \n        }, function (data) {\n            console.log(data); // []\n        });\n\n        this.model.findOne(1, function (data) {\n            console.log(data); // {}\n        });\n    }\n\n});\n</code></pre>\n<p>As you can see, depending on your needs, you can sync with localStorage with pretty minimal configuration.</p>\n<p>In my next post, we&#39;ll be looking at how to use the model to sync data with the server using Ajax requests.</p>\n<p>Ready to get started? <a href=\"https://github.com/jcreamer898/ko.ninja\">Add ko.ninja to your project</a> and make awesome applications today!</p>\n<h4><a href=\"/blog/ko-ninja-http-models\">Next Post In This Series</a></h4>"},"ko-ninja-validation":{"published":true,"series":"Ko.Ninja","part":2,"title":"Validation","tags":["knockout","ko.ninja","validation"],"category":"code","date":"12-27-2013","thumbnail":"/images/blog/ninja2.png","slug":"ko-ninja-validation","yield":"<h4><a href=\"/blog/ko-ninja\">Previous Post In This Series</a></h4><p>This is a part of a larger series about the <a href=\"/blog/ko-ninja\">ko.ninja framework</a> that I helped to create to make Knockout development more awesome. In my last post, I introduced ko.ninja, a framework that I helped create for making awesome Knockout apps. Today, we&#39;re going to continue looking at ko.ninja, but we are going to focus on doing validation on the ko.ViewModel.</p>\n<!-- more -->\n<p>As an example of what ko.ninja can do, check out the validation on this form:</p>\n<iframe src=\"http://jsfiddle.net/tysoncadenhead/QUPg8/show/\" style=\"border: 0px; width: 600px; height: 300px;\"></iframe>\n\n<p>Not bad, huh? What if I told you that all of the validation logic is happening painlessly in the ViewModel and all of the display logic is happening inside the template? Is it magic? Maybe. Let&#39;s look at the template for our form:</p>\n<pre><code class=\"language-html\">&lt;div id=&quot;form&gt;\n\n     &lt;div style=&quot;display: none&quot; class=&quot;form-errors&quot; data-bind=&quot;visible: errors().length&gt;\n          &lt;p&gt;There are errors. Please fix them!&lt;/p&gt;\n     &lt;/div&gt;\n\n     &lt;!-- Required --&gt;\n     &lt;p data-bind=&quot;css: { error: firstName.error }&quot;&gt;\n          &lt;label&gt;First name:&lt;/label&gt;\n          &lt;input data-bind=&quot;value: firstName, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n     &lt;/p&gt;\n     &lt;div class=&quot;error-message&quot; data-bind=&quot;html: firstName.error&quot;&gt;&lt;/div&gt;\n\n     &lt;!-- No Validation --&gt;\n     &lt;p data-bind=&quot;css: { error: lastName.error }&gt;\n          &lt;label&gt;Last name:&lt;/label&gt;\n          &lt;input data-bind=&quot;value: lastName, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n     &lt;/p&gt;\n     &lt;div class=&quot;error-message&quot; data-bind=&quot;html: lastName.error&quot;&gt;&lt;/div&gt;\n\n     &lt;!-- Email --&gt;\n     &lt;p data-bind=&quot;css: { error: email.error }&gt;\n          &lt;label&gt;Email:&lt;/label&gt;\n          &lt;input data-bind=&quot;value: email, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n     &lt;/p&gt;\n     &lt;div class=&quot;error-message&quot; data-bind=&quot;html: email.error&quot;&gt;&lt;/div&gt;\n\n     &lt;!-- Phone --&gt;\n     &lt;p data-bind=&quot;css: { error: phone.error }&quot;&gt;\n          &lt;label&gt;Phone:&lt;/label&gt;\n          &lt;input data-bind=&quot;value: phone, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n     &lt;/p&gt;\n     &lt;div class=&quot;error-message&quot; data-bind=&quot;html: phone.error&quot;&gt;&lt;/div&gt;\n\n     &lt;!-- Custom Validation --&gt;\n     &lt;p data-bind=&quot;css: { error: answer.error }&gt;\n          &lt;label&gt;Type &quot;44&quot;&lt;/label&gt;\n          &lt;input data-bind=&quot;value: answer, valueUpdate:&#39;afterkeydown&#39;&quot; /&gt;\n     &lt;/p&gt;\n     &lt;div class=&quot;error-message&quot; data-bind=&quot;html: answer.error&quot;&gt;&lt;/div&gt;\n\n     &lt;input type=&quot;button&quot; data-bind=&quot;click: submitPerson&quot; value=&quot;Save&quot; /&gt;\n\n&lt;/div&gt;\n</code></pre>\n<p>The template is just adding an &quot;error&quot; class to any paragraphs that contain errors, displaying the error message below the field if there is one and spitting out a summary of all of the form errors at the top.</p>\n<p>There are a variety of types of validation that need to occur for a form like the one above, but there is no reason for the markup to be aware of what types of validation are happening. It just needs to display some nice error messages telling you to fix the form. The philosophy of ko.ninja is to keep all of the validation in the viewModel and out of the template.</p>\n<p>To accomplish the validation in our form, our viewModel should look like this:</p>\n<pre><code class=\"language-js\">var PersonViewModel = ko.ViewModel.extend({\n\n    observables: {\n        firstName: &#39;&#39;,\n        lastName: &#39;&#39;,\n        email: &#39;&#39;,\n        phone: &#39;&#39;,\n        answer: &#39;&#39;\n    },\n\n    validation: {\n        firstName: {\n            required: &#39;Your first name is required&#39;,\n            minLength: {\n                message: &#39;Please make sure your name is at least 3 characters long.&#39;,\n                value: 3\n            }\n        },\n        email: {\n            required: &#39;Your email address is required&#39;,\n            email: &#39;Please enter a valid email address&#39;\n        },\n        phone: {\n            number: &#39;Please enter a valid number&#39;,\n            length: {\n                message: &#39;Please make sure your phone number has 9 digits&#39;,\n                value: 9\n            }\n        },\n        answer: {\n            maxLength: {\n                message: &#39;You have entered more than 2 characters... there is no way you are typing &quot;44&quot;!&#39;,\n                value: 2\n            },\n            custom: {\n                message: &#39;Please enter &quot;44&quot;&#39;,\n                validator: function (value) {\n                    return value !== &#39;44&#39;;\n                }\n            }\n        }\n    },\n\n    submitPerson: function () {\n        var errors = this.validate();\n        if (!errors) {\n            alert(&#39;Your form has been submitted. Just kidding!&#39;)\n        }\n    }\n\n});\n\nnew PersonViewModel();\n</code></pre>\n<p>To do validation in ko.ninja, you just need to add the name of each observable you want to validate to the <code>validation</code> object. Any time the observables change or this.validate() is called, ko.ninja will check for errors. If there are errors, they are added to an errors observable array on the viewModel and they are added to the [observableName].error magic observable.</p>\n<p>Ko.ninja comes with &quot;required&quot;, &quot;email&quot;, &quot;length&quot;, &quot;maxLength&quot;, &quot;minLength&quot; and &quot;number&quot; validations, but you can also add your own custom validation like this:</p>\n<pre><code class=\"language-js\">custom: {\n     message: &#39;Please enter &quot;44&quot;&#39;,\n     validator: function (value) {\n          return value !== &#39;44&#39;;\n     }\n} \n`\n</code></pre>\n<p>If the validator returns a truthy value, the error will be added to the viewModel.</p>\n<p>To really take advantage of ko.ninja validation, you can automatically sync your viewModel with a model. We will be looking at the ko.ninja model in the post next week.</p>\n<p>Ready to get started? <a href=\"https://github.com/jcreamer898/ko.ninja\">Add ko.ninja to your project</a> and make awesome applications today!</p>\n<h4><a href=\"/blog/ko-ninja-model\">Next Post In This Series</a></h4>"},"ko-ninja":{"published":true,"series":"Ko.Ninja","part":1,"firstPart":true,"title":"A Framework For Building Awesome Knockout.js Apps","tags":["knockout","ko.ninja"],"category":"code","date":"12-20-2013","thumbnail":"/images/blog/ninja1.png","slug":"ko-ninja","yield":"<p>Over the past year, I have been doing a ton of work on Knockout applications. There is a lot to love about Knockout. The declarative bindings allow you to keep your UI data-driven and synced at all times, which is a huge win when you are working on large scalable applications. However, one place where the Knockout core is lacking is that it is not prescriptive about how code should be written for it. That was the beginning of the idea behind ko.ninja. If we could put some structure around our viewModels, we could do some really cool things.</p>\n<!-- more -->\n<p>Ko.ninja is a collaborative open-source project written by <a href=\"http://jonathancreamer.com/\">Jonathan Creamer</a> and myself. It is still in its infancy, and I would really like to get some feedback about tweaks and improvements that could be made to make it more awesome.</p>\n<h3>So, what does ko.ninja do?</h3><p>The big win with ko.ninja is that it gives you a prescriptive framework for building well-structured applications. The Knockout documentation tells you to write your viewModels like this:</p>\n<pre><code class=\"language-html\">&lt;div id=&quot;person&quot;&gt;\n   &lt;div data-bind=&quot;text: name&quot;&gt;&lt;/div&gt;\n  &lt;h5&gt;Friends:&lt;/h5&gt;\n  &lt;div data-bind=&quot;foreach: friends&quot;&gt;\n     &lt;div data-bind=&quot;text: name&quot;&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<pre><code class=\"language-js\">var person = {\n   firstName: ko.observable(&quot;Darth&quot;),\n   lastName: ko.observable(&quot;Vader&quot;),\n   name: ko.computed(function () {\n      return this.firstName() + &quot; &quot; + this.lastName()\n   }),\n   friends: ko.observableArray([])\n};\n\nperson.friends.push(person);\n\nko.applyBindings( document.getElementById(&quot;person&quot;), person );\n</code></pre>\n<p>The issue with this approach is that there is no inheritance. If you want to create multiple people, you have to wrap the person in a &quot;class&quot; that returns new people. That means that our person code will actually need to look more like this:</p>\n<pre><code class=\"language-js\">var Person = function (obj) {\n  this.firstName = ko.observable(obj.firstName);\n  this.lastName = ko.observable(obj.lastName);\n  this.name = ko.computed(function () {\n     return this.firstName() + &quot; &quot; + this.lastName();\n  });\n  this.friends = ko.observableArray([]);\n};\n\nvar person = new Person({\n   firstName: &quot;Darth&quot;,\n   lastName: &quot;Vader&quot;\n});\n\nperson.friends.push(new Person({\n   firstName: &quot;Storm&quot;,\n   lastName: &quot;Trooper&quot;\n}));\n\nko.applyBindings( document.getElementById(&quot;person&quot;), person );\n</code></pre>\n<p>That approach is very close to what ko.ninja does, but it does most of the work for you. Here is a much cleaner version using ko.ninja:</p>\n<pre><code class=\"language-js\">var Person = ko.ViewModel.extend({\n   observables: {\n      firstName: &quot;&quot;,\n      lastName: &quot;&quot;,\n      name: function () {\n          return this.firstName() + &quot; &quot; + this.lastName();\n      }\n   }\n});\n\nvar person = new Person({\n   firstName: &quot;Darth&quot;,\n   lastName: &quot;Vader&quot;\n});\n\nperson.friends.push(new Person({\n   firstName: &quot;Storm&quot;,\n   lastName: &quot;Trooper&quot;\n}));\n\nko.applyBindings( document.getElementById(&quot;person&quot;), person );\n</code></pre>\n<p>As you can see, instead of needing to create a new ko.observable() for each observable you want in your viewModel, you can just add all of your observable names to the <code>observables</code> object on the ko.ViewModel. Instead of referencing the <code>ko</code> namespace several times to create a new viewModel, we are now only referencing it once. Ninja is also smart enough to create a ko.observable if you pass in a string, a ko.observableArray if you pass in an array and a ko.computedObservable if you pass in a function.</p>\n<p>Ko.ninja emits events anytime an observable changes. This is basically shorthand for doing a <code>myObservable.subscribe()</code>, but it also abstracts it to the point where you could remove your observables and keep the events and the application would not break.  Events in ko.ninja work like this:</p>\n<pre><code class=\"language-js\">var Person = ko.ViewModel.extend({\n\n   observables: {\n      firstName: &quot;&quot;,\n      lastName: &quot;&quot;\n   },\n\n   // This method is called when a viewModel is instantiated\n   initialize: function () {\n\n      // This listens for the firstName to change\n      this.on(change:firstName, function (value) {\n            console.log(value); // Jason\n      });\n\n      // After the viewModel is initialized, well change the firstName to Jason\n      this.firstName(Jason);\n   }\n});\n\nvar me = new Person({\n   firstName: &quot;Han&quot;,\n   lastName: &quot;Solo&quot;\n});\n</code></pre>\n<p>Cleaning up the syntax and adding more inheritance is definitely nice, but the real power of ko.ninja is in the validation. Well look at that in my blog post next week.</p>\n<p>Ready to get started? <a href=\"https://github.com/jcreamer898/ko.ninja\">Add ko.ninja to your project</a> and make awesome applications today!</p>\n<h4><a href=\"/blog/ko-ninja-validation\">Next Post In This Series</a></h4>"},"how-to-use-tor-with-chrome":{"published":true,"title":"How To Use Tor With Google Chrome","tags":["Security","Browsers","Tor","Privacy"],"category":"privacy","date":"11-22-2013","thumbnail":"/images/blog/tor.png","slug":"how-to-use-tor-with-chrome","yield":"<p>There are plenty of reasons to want to browse the Internet privately. Search engines and social media sites have been collecting our browsing for years in order to target marketing and advertisements to us. There are plenty of hackers out there who would love to get their hands on your data. But perhaps the most disturbing recent revelation about data collection has been the extent to which the NSA is actively gathering our personal information.</p>\n<!-- more -->\n<p>Many naive people might claim that if we are doing nothing wrong, then there is nothing to worry about. It should be pointed out that those same people don&#39;t live in a completely see-through glass house. Why is that? Maybe privacy is more important to them than they might claim.</p>\n<p>For the sake of argument, you may have complete faith that every single person in the government is a perfect person and wouldn&#39;t ever do anything to harm you. Even then, you have to worry about identity theft, hackers getting access to your data, etc...It simply isn&#39;t something you should trust other people to take care of for you.</p>\n<p>A few months ago, I stumbled across the Tor software. If you aren&#39;t familiar with it, Tor allows you to browse the web anonymously by randomly choosing a remote proxy anywhere in the world. This means that when you go to a website, your IP address could potentially be traced to Alabama, Texas or Paris. In other words, it can&#39;t be traced to you.</p>\n<p>Initially I was a little bummed that the Tor download included a modification of the Firefox browser since Google Chrome is my current browser of choice. Luckily, I found a way to browse securely with Tor in Chrome.</p>\n<p>If you&#39;d like to get more security when you browse, here are the steps you can follow to get Tor running in Chrome.</p>\n<h3>Download and Install Tor</h3><p>Tor is available for download on the <a href=\"https://www.torproject.org/projects/torbrowser.html.en\">Tor website</a>. Start by downloading it and installing it on your machine.</p>\n<h3>Install Proxy SwitchySharp In the Google Chrome Web Store</h3><p>Proxy SwitchySharp is a Google Chrome extension that allows you to switch out your proxy on the fly. It is available <a href=\"https://chrome.google.com/webstore/detail/proxy-switchysharp/dpplabbmogkhghncfbfdeeokoefdjegm?utm_source=chrome-ntp-icon\">in the Google Chrome Web Store</a>. Install it.</p>\n<h3>Start Tor</h3><p>If you open the Tor browser that you just download, you will see a control panel that looks something like this:</p>\n<p><img src=\"/images/blog/tor1.png\" alt=\"Tor Browser Control Panel\"></p>\n<p>Click on the button to start the server.</p>\n<h3>Find your port</h3><p>From the Tor control panel, click on the &quot;settings&quot; button. From there click on &quot;advanced&quot; and find the &quot;Edit current torrc&quot; button.</p>\n<p><img src=\"/images/blog/tor2.png\" alt=\"Tor Advanced Settings\"></p>\n<p>The &quot;Edit current torrc&quot; button should open a configuration file like this:</p>\n<p><img src=\"/images/blog/tor3.png\" alt=\"Torrc\"></p>\n<p>Copy the port number labeled &quot;SocksPort&quot;. We&#39;ll need that in a minute.</p>\n<h3>Open the SwitchySharp Options</h3><p>In Chrome, the SwitchySharp options icon should look something like this:</p>\n<p><img src=\"/images/blog/tor4.png\" alt=\"SwitchySharp Icon\"></p>\n<p>Click on it and then click on &quot;options&quot;.</p>\n<h3>Configuration</h3><p>In the SwitchySharp control panel, under &quot;manual configuration&quot;, add &quot;127.0.0.1&quot; to your &quot;SOCKS host&quot; and add the port number you copied from you Torrc file as the SOCKS host port number.</p>\n<p>Add an easy to understand profile name such as &quot;tor&quot;.</p>\n<p>Your configuration should look something like this:</p>\n<p><img src=\"/images/blog/tor5.png\" alt=\"SwitchySharp Tor Configuration\"></p>\n<p>Click &quot;Save&quot;.</p>\n<p>Now if you click on the icon for your SwitchySharp plugin again, you should be able to select the &quot;tor&quot; connection that you just created. Try going to an ip sniffing site like <a href=\"http://whatismyip.com\">whatismyip.com</a>. Your IP address should now be masked.</p>\n<h3>Congratulations, you&#39;ve just become anonymous.</h3><p>It should be noted that your IP Address isn&#39;t the only way your identity can become compromised. Tor has a short list of <a href=\"https://www.torproject.org/download/download-easy.html.en#warning\">additional steps</a> you should take to ensure your privacy.</p>\n<p>For the sake of full disclosure, I haven&#39;t gotten to the point where I use Tor all the time. It can be a little slower than hitting websites with a direct connection. But the benefits definitely outweigh the drawbacks in my opinion. I&#39;ve also taken a few more steps like switching my default search engine to <a href=\"http://duckduckgo.com\">duckduckgo</a>, which doesn&#39;t collect browsing data like Google does. Privacy is a big thing to take on, but any small steps that you can take are probably worthwhile.</p>\n"},"authentication-in-meteor":{"published":true,"title":"Authentication in Meteor","tags":["Meteor","Node","Authentication"],"category":"code","date":"11-14-2013","thumbnail":"/images/blog/meteor-authentication.png","yield":"<p>Authentication can be something of a road-blocker in application development. I can&#39;t tell you how many times I&#39;ve had a great idea for an app, but instead of jumping in and writing the core functionality, I try to tackle the authentication layer first. The problem is that once I&#39;ve gotten authentication in place, my excitement for the project has faded because I wasn&#39;t working on the project itself, just trying to set up a login system. Meteor takes the work out of setting up authentication so that you can focus on more important things, like writing the core functionality for your app.</p>\n<!-- more -->\n<p>Meteor has a really robust account and password API, but we won&#39;t cover all of it here. We are just going to focus on getting something in place really fast. The reason for that is because we don&#39;t want to spend a lot of time working on authentication on the front-end, we want to work on core functionality.</p>\n<p>To work with authentication in Meteor, you will need to install the base accounts module.</p>\n<pre><code class=\"language-bash\">meteor add accounts-base\n</code></pre>\n<p>Meteor also has a pre-built user interface for accounts. If you want to go back later and make the UI different, you can, but for us to take a &quot;failing forward&quot; approach to development, it makes sense to just use the default UI and then go back and refactor it as needed. Let&#39;s install the accounts user interface package.</p>\n<pre><code class=\"language-bash\">meteor add accounts-ui\n</code></pre>\n<p>Next, we will need to install one of the authentication systems. Meteor comes packed with authentication through Facebook, Google, Github, Meetup, Twitter, Weibo and with a username and password. There are also third-party authentication types that were not written by the Meteor team.</p>\n<p>We will start out with just the basic username and password.</p>\n<pre><code class=\"language-bash\">meteor add accounts-password\n</code></pre>\n<p>Now if you start up your site by running <code>meteor</code>, you&#39;ll notice that nothing has changed. It should still look something like this:</p>\n<p><img src=\"/images/blog/meteorauth.png\" alt=\"\"></p>\n<p>In order to see your login UI, you will need to add it to your template. That is as easy as adding <code>{{loginButtons}}</code> anywhere in your template. If you want the buttons to go on the right side of the screen, you can pass that in an argument like this:</p>\n<pre><code class=\"language-html4strict\">{{loginButtons align=&quot;right&quot;}}\n</code></pre>\n<p>Either way, though, the login buttons should be rendered:</p>\n<p><img src=\"/images/blog/meteorauth2.png\" alt=\"\"></p>\n<p>When you click on the new &quot;sign in&quot; button, you should get something like this:</p>\n<p><img src=\"/images/blog/meteorauth3.png\" alt=\"\"></p>\n<p>You now have authentication on your app!</p>\n<p>The templates also have a <code>{{currentUser}}</code> that you can use to determine if the user has authenticated or not. For example, if you want to display a navigation only if the user is logged in, that might look like this:</p>\n<pre><code class=\"language-html4strict\">&lt;ul&gt;\n{{#if currentUser}}\n    &lt;li&gt;&lt;a href=&quot;/account&quot;&gt;My Account&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;/preferences&quot;&gt;My Preferences&lt;/a&gt;&lt;/li&gt;\n{{/if}}\n&lt;/ul&gt;\n</code></pre>\n<p>When a user is logged in, your client-side JavaScript has access to a <code>Meteor.userId()</code> which is just a string representing the ID of the authenticated user. You also have access to a <code>Meteor.user()</code>, which will return an object with the user information. Depending on what authentication type you use, the content of the user object my vary. Both of those are available from the console, so you can log them at any time.</p>\n<p>Each user object also has a profile that you can add your own data to. For example, if you wanted to add some data to the current user, you could do something like this:</p>\n<pre><code class=\"language-js\">Meteor.users.update(Meteor.userId(), {\n    $set: {\n        profile: {\n            firstName: &#39;Linus&#39;,\n            lastName: &#39;Cadenhead&#39;,\n            favoriteColor: &#39;green&#39;,\n            ...\n        }\n    }\n}, function () {\n    alert(&#39;user was saved&#39;);\n});\n</code></pre>\n<p>If you want to listen for an event to tell you when a user logs in or out, <code>Meteor.autorun</code> is your friend. This snippet will redirect the user when they log in or out:</p>\n<pre><code class=\"language-js\">// Keep the current user logged in state\nvar loggedIn = !!Meteor.userId();\n\n// This is fired whenever the user logs in or out\nMeteor.autorun(function () {\n\n    // If the user logs in, redirect them to the profile\n    if (Meteor.userId() &amp;&amp; !loggedIn) {\n        document.location = &#39;/profile&#39;;\n\n    // If the user logs out, redirect them to the home page\n    } else if (!Meteor.userId() &amp;&amp; loggedIn) {\n        document.location = &#39;/&#39;;\n    }\n\n    // Set the current loggedIn status based on whether the userId is available or not\n    loggedIn = !!Meteor.userId();\n\n});\n</code></pre>\n<p>If you want to add another authentication method, just install it with Meteor. The user interface itself will walk you through the necessary steps to get things set up.</p>\n<p>As you can see, authentication with Meteor is really quick and easy. In just a few minutes, you should be all set up and ready to work on the parts of your application that you care about. Yet another way that Meteor makes wasting time on tedious tasks a thing of the past!</p>\n","slug":"authentication-in-meteor"},"why-you-should-teach-your-kids-to-write-code":{"published":true,"title":"Why You Should Teach Your Kids How to Write Code","tags":["Rant","Kids"],"category":"code","date":"11-08-2013","thumbnail":"/images/blog/duck.jpg","slug":"why-you-should-teach-your-kids-to-write-code"},"javascript-copy-and-paste-events":{"published":true,"title":"The JavaScript Copy and Paste Events","tags":["JavaScript"],"category":"code","date":"10-31-2013","thumbnail":"/images/blog/clippy.jpg","slug":"javascript-copy-and-paste-events","yield":"<p>If you have ever wanted to listen for user events like pasting, copying and cutting on the clipboard, you will be glad to know that it&#39;s not that hard. As fate would have it, there is already an event for each of the clipboard operations.</p>\n<!-- more -->\n<p>For example, if you want to listen for data being pasted onto your page, you can do something like this:</p>\n<pre><code class=\"language-javascript\">document.addEventListener(&#39;paste&#39;, function (e) {\n\n    var data;\n\n    e.preventDefault();\n\n    // IE\n    if (window.clipboardData) {\n        data = window.clipboardData.getData(&#39;Text&#39;);\n\n    // Standard-compliant browsers\n    } else {\n        data = e.clipboardData.getData(&#39;text&#39;);\n    }\n\n    console.log(&#39;paste&#39;, data);\n\n});\n</code></pre>\n<p>As you can see, we are just adding the event listener for paste, preventing the paste from actually occurring by calling <code>e.preventDefault()</code> and then getting the content of the paste and logging it.</p>\n<p>Of course, the API is a little different for Internet Explorer than it is for other browsers. IE has a clipboard object on the window itself, so you can actually access it at any time. In case you&#39;re wondering, that is a pretty bad security hole because it means that as a developer, I can actually grab the contents of your clipboard any time you hit my website without any action from you. If you have sensitive data in your clipboard, your data can easily be compromised. It makes it easier for developers to access the clipboard, but at the expense of the users. But I digress.</p>\n<p>There is also a copy event. It&#39;s a little harder to work with because standard-compliant browsers don&#39;t let you muddle with the data before it is set on the clipboard. Again, that whole security thing.</p>\n<pre><code class=\"language-javascript\">document.addEventListener(&#39;copy&#39;, function (e) {\n    console.log(&#39;copying&#39;);\n});\n</code></pre>\n<p>Additionally, you get a cut event. It&#39;s the same as copy, but fires when the user cuts data onto the clipboard.</p>\n<pre><code class=\"language-javascript\">document.addEventListener(&#39;cut&#39;, function (e) {\n    console.log(&#39;cutting&#39;);\n});\n</code></pre>\n<p>All of these events fire whether the user uses the <code>cmd+v/ctrl+v</code> types of keyboard shortcuts or if they select <code>edit/paste</code> from their menu. If you want to take more control over getting and setting data on the clipboard, there are some Flash hacks like <a href=\"https://github.com/zeroclipboard/zeroclipboard\">Zero Clipboard</a> that will let you add buttons to your page to copy and paste, but then the problem is that your buttons may not work on mobile devices.</p>\n<p>These aren&#39;t necessarily JavaScript events you will need to use on a day to day basis, but they can be useful to have in your bag of tricks.</p>\n"},"getting-started-with-socket-io":{"published":true,"title":"Getting Started with Socket.io","tags":["node","socketio","javascript"],"category":"code","date":"10-25-2013","thumbnail":"/images/blog/socket-io.jpg","slug":"getting-started-with-socket-io","yield":"<p>In the old days, if you wanted to get up-to-date data from the sever, you would need to set an interval on the client-side and continuously make Ajax calls to see if new data was available. The problem is that the data was never exactly real time. It was just what had been fetched every fifteen seconds or so. If you pinged the server too often, you would create needless overhead and there may or may not even be new data for the client to consume. The problems with this sort of approach are obvious.</p>\n<!-- more -->\n<p>The answer to the old data pinging method is Socket.io. With Socket.io, the client and the server are able to communicate in real   time by sending messages back and forth. Because of its real-time nature, Socket.io has some awesome implications for chat, instant collaboration and game development. In fact, anything that could benefit from being real time would do itself a service to be using Socket.io.</p>\n<h3>So how can you get started using Socket.io?</h3><p>First of all, you&#39;ll need to have <a href=\"http://nodejs.org\">NodeJS</a> installed. Once you have Node, you can install Socket.io with npm.</p>\n<pre><code class=\"language-bash\">npm install socket.io\n</code></pre>\n<p>For the sake of setting up a server quickly, we&#39;ll also install Express. You can obviously run Socket.io on a server you create yourself, but Express makes it much easier.</p>\n<pre><code class=\"language-bash\">npm install express\n</code></pre>\n<h3>server.js</h3><p>Since Socket.io uses the server-side and the client-side to communicate, you will need to set it up on both sides. The <code>server.js</code> file might look something like this:</p>\n<pre><code class=\"language-javascript\">\nvar express = require(&#39;express&#39;),\n      app = express(),\n      server = require(&#39;http&#39;).createServer(app),\n      io = require(&#39;socket.io&#39;).listen(server),\n      messages = [],\n      sockets = [];\n\napp.use( express.static(__dirname + &#39;/public&#39;));\n\nserver.listen(4000);\n</code></pre>\n<p>If you&#39;re not familiar with Express applications, all we&#39;ve done so far is set up the express server to serve up static files from the /public directory. We&#39;ve also imported Socket.io and created an array to hold the messages we&#39;ll get from the client-side and another array to hold the socket connections we make.</p>\n<p>Now, let&#39;s set up the server-side socket.io listeners.</p>\n<pre><code class=\"language-javascript\">\nio.sockets.on(&#39;connection&#39;, function (socket) {\n\n  sockets.push(socket);\n\n  socket.emit(&#39;messages-available&#39;, messages);\n\n});\n</code></pre>\n<p>Every time a client-side connection is made, the &quot;connection&quot; event is fired. The socket that has been connected is passed in as the first argument of the callback. We&#39;ll store a reference to the new socket in the array of sockets we have already set up. Then we will use <code>socket.emit</code> to emit a message to the client-side with an array of all of the messages that are currently available. Of course, it will initially be an empty array, so we will switch over to the client-side so we can start actually saving messages to the server.</p>\n<p>If you save your file as <code>server.js</code> and run <code>node server</code>, you should be able to access it by going to <a href=\"http://localhost:4000\">http://localhost:4000</a>. Nothing will be there yet because you need to put an index.html file in your public directory.</p>\n<h3>/public/index.html</h3><pre><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Socket.io Messages&lt;/title&gt;\n    &lt;link href=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt;\n  &lt;/head&gt;\n&lt;body&gt;\n\n  &lt;!-- The form --&gt;\n  &lt;form id=&quot;create-message&quot; class=&quot;well row&quot;&gt;\n    &lt;fieldset class=&quot;col-lg-8 col-offset-2&quot;&gt;\n      &lt;legend&gt;Socket.io Messages&lt;/legend&gt;\n      &lt;input type=&quot;text&quot; placeholder=&quot;Name&quot; id=&quot;name&quot; name=&quot;name&quot; class=&quot;col-lg-12&quot; /&gt;\n      &lt;textarea placeholder=&quot;Message&quot; id=&quot;message&quot; name=&quot;message&quot; class=&quot;col-lg-12&quot;&gt;&lt;/textarea&gt;\n      &lt;input type=&quot;submit&quot; value=&quot;Create Message&quot; class=&quot;btn btn-default col-lg-12&quot; /&gt;\n    &lt;/fieldset&gt;\n  &lt;/form&gt;\n\n&lt;!-- The Messages --&gt;\n&lt;div class=&quot;col-lg-8 col-offset-2 row&quot;&gt;\n  &lt;ul id=&quot;messages&quot; class=&quot;list-group&quot;&gt;\n    &lt;!-- Messages go here --&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n\n&lt;!-- Third Party Dependencies --&gt;\n&lt;script src=&quot;http://code.jquery.com/jquery-1.10.1.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;http://netdna.bootstrapcdn.com/bootstrap/3.0.0-rc1/js/bootstrap.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;!-- Socket.io --&gt;\n&lt;script src=&quot;/socket.io/socket.io.js&quot;&gt;&lt;/script&gt;\n\n&lt;!-- Our app.js file --&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;/js/app.js&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The main thing to note here is that the <code>/socket.io/socket.io.js</code> file was automatically generated when you installed socket.io into your application. There is no /public/socket.io directory and there doesn&#39;t need to be one. Don&#39;t worry about it; it&#39;s automagic.</p>\n<h3>/public/js/app.js</h3><p>Next, let&#39;s jump into the <code>/public/js/app.js</code> file that we are including at the bottom of the page. That&#39;s where we&#39;ll get our client-side and server-side talking.</p>\n<p>We&#39;ll start out by connecting to the socket. Since we set the socket to run on port 4000 in our <code>server.js</code> file, we&#39;ll pass the string <a href=\"http://localhost:4000\">http://localhost:4000</a> into io.connect.</p>\n<pre><code class=\"language-javascript\">var socket = io.connect(&#39;http://localhost:4000&#39;);\n</code></pre>\n<p>Everytime that the server tells us that there is a new message, we&#39;ll need to add it to the DOM. We&#39;ll just create a reusable function to use jQuery to prepend the newest message at the top of the messages list.</p>\n<pre><code class=\"language-javascript\">function addMessage (data) {\n  $(&#39;#messages&#39;).prepend(&#39;&lt;li class=&quot;list-group-item&quot;&gt;&#39; +\n    &#39;&lt;h4 class=&quot;list-group-item-heading&quot;&gt;&#39; + data.name + &#39;&lt;/h4&gt;&#39; +\n    &#39;&lt;p class=&quot;list-group-item-text&quot;&gt;&#39; + data.message + &#39;&lt;/p&gt;&#39; +\n  &#39;&lt;/li&gt;&#39;);\n};\n</code></pre>\n<p>Now, we can create a listener to render all the messages that are already in the messages array on the server-side when the page is rendered. Remember, we are already emitting a &quot;messages-available&quot; event in <code>server.js</code> when the page is loaded. This will make use of that event.</p>\n<pre><code class=\"language-javascript\">// This will be fired\nsocket.on(&#39;messages-available&#39;, function (data) {\n  for (var i = 0; i &lt; data.length; i++) {\n    addMessage(data[i]);\n  }\n});\n</code></pre>\n<p>We will also add a listener for each time an individual message is added. We will write the server-side portion of this in just a moment.</p>\n<pre><code class=\"language-javascript\">// This listens for any individual messages coming back from the server\nsocket.on(&#39;message-added&#39;, addMessage);\n</code></pre>\n<p>Last of all, we will need to send the form data to the server whenever someone submits it. We&#39;ll just attach a jQuery submit event to the form and emit an &quot;add-message&quot; event to the server-side. We&#39;ll pass in the data as the second argument of the socket.emit method.</p>\n<pre><code class=\"language-javascript\">// When someone clicks the &quot;Create Message&quot; button, we&#39;ll emit the data to the server\n$(&#39;#create-message&#39;).submit(function (e) {\n\n  // Don&#39;t let the form actually post to the server\n  e.preventDefault();\n\n  // Send the &quot;add-message&quot; message to the server with our values\n  socket.emit(&#39;add-message&#39;, {\n    name: $(&#39;input[name=&quot;name&quot;]&#39;).val(),\n    message: $(&#39;textarea[name=&quot;message&quot;]&#39;).val()\n  });\n\n  // Clear out the message value\n  $(&#39;textarea[name=&quot;message&quot;]&#39;).val(&#39;&#39;);\n\n});\n</code></pre>\n<p>You might notice that Socket.io looks the same on the client-side and the server-side. Both places use the socket.on and socket.emit methods.</p>\n<p>At this point, our <code>public/js/app.js</code> file is done. It should look like this:</p>\n<pre><code class=\"language-javascript\">var socket = io.connect(&#39;http://localhost:4000&#39;);\n\nfunction addMessage (data) {\n$(&#39;#messages&#39;).prepend(&#39;&lt;li class=&quot;list-group-item&quot;&gt;&#39; +\n    &#39;&lt;h4 class=&quot;list-group-item-heading&quot;&gt;&#39; + data.name + &#39;&lt;/h4&gt;&#39; +\n    &#39;&lt;p class=&quot;list-group-item-text&quot;&gt;&#39; + data.message + &#39;&lt;/p&gt;&#39; +\n  &#39;&lt;/li&gt;&#39;);\n};\n\n// This will be fired\nsocket.on(&#39;messages-available&#39;, function (data) {\n  for (var i = 0; i &lt; data.length; i++) {\n    addMessage(data[i]);\n  }\n});\n\n// This listens for any individual messages coming back from the server\nsocket.on(&#39;message-added&#39;, addMessage);\n\n// When someone clicks the &quot;Create Message&quot; button, we&#39;ll emit the data to the server\n$(&#39;#create-message&#39;).submit(function (e) {\n\n  // Don&#39;t let the form actually post to the server\n  e.preventDefault();\n\n  // Send the &quot;add-message&quot; message to the server with our values\n  socket.emit(&#39;add-message&#39;, {\n    name: $(&#39;input[name=&quot;name&quot;]&#39;).val(),\n    message: $(&#39;textarea[name=&quot;message&quot;]&#39;).val()\n  });\n\n  // Clear out the message value\n  $(&#39;textarea[name=&quot;message&quot;]&#39;).val(&#39;&#39;);\n\n});\n</code></pre>\n<p>Now, we&#39;ll revisit our <code>server.js</code> file.We&#39;ll add a listener for the &quot;add-message&quot; event. When the message is added, we&#39;ll push it into the messages array and emit an event with the data.</p>\n<pre><code class=\"language-javascript\">socket.on(&#39;add-message&#39;, function (data) {\n  messages.push(data);\n  sockets.forEach(function (socket) {\n    socket.emit(&#39;message-added&#39;, data);\n  });\n});\n</code></pre>\n<p>Notice that we are looping over all of the sockets in our array. The reason for this is that each time a socket is connected, we only get a reference to that individual socket. If we want everyone to get the messages, we will need to emit our events to every socket that is available.</p>\n<p>Now that we&#39;ve got that in place, the <code>server.js</code> file should look like this:</p>\n<pre><code class=\"language-javascript\">var express = require(&#39;express&#39;),\n      app = express(),\n      server = require(&#39;http&#39;).createServer(app),\n      io = require(&#39;socket.io&#39;).listen(server),\n      messages = [],\n      sockets = [];\n\napp.use( express.static(__dirname + &#39;/public&#39;));\n\nserver.listen(4000);\n\nio.sockets.on(&#39;connection&#39;, function (socket) {\n\n  sockets.push(socket);\n\n  socket.emit(&#39;messages-available&#39;, messages);\n\n    socket.on(&#39;add-message&#39;, function (data) {\n      messages.push(data);\n      sockets.forEach(function (socket) {\n        socket.emit(&#39;message-added&#39;, data);\n      });\n   });\n});\n</code></pre>\n<p>As you can tell, there is really not much to it. Obviously, we aren&#39;t saving the data to a database. That means that if you stop running your server and restart it, the arrays of messages and sockets will actually be empty again. In a production scenario, you would probably be saving your data off to a database as the server receives it.</p>\n<p>Now that all of our code is written, we can start the server up and give it a try.</p>\n<pre><code class=\"language-bash\">\nnode server\n</code></pre>\n<p>Now, when you go to <code>localhost:4000</code> in your browser, you should see something like this:</p>\n<p><img src=\"http://content.screencast.com/users/tysoncadenhead/folders/Jing/media/211b507d-7fea-4eb3-8a15-9d332204f540/00000010.png\" alt=\"\"></p>\n<p>The best way to see this in action is to open the page in two separate browsers at the same time and start chatting with yourself. As soon as you post something, it will show up in both browsers immediately.</p>\n<p><img src=\"http://content.screencast.com/users/tysoncadenhead/folders/Jing/media/158fd662-eb89-4892-8dee-59a9988af35a/00000009.png\" alt=\"\"></p>\n<p>Amazing, right?</p>\n<p>There are definitely things that Socket.io can be used for beyond just chat. For example, I used it in a project recently to send status messages to the client while files were being uploaded.</p>\n<p>Of course, one of the more interesting applications of this technology is the ability it provides for collaboration in real time. We now have the ability to write applications that give people the power to interact with content seamlessly. Socket.io has the ability to bring people together in a way that no other coding technology ever has. And at the end of the day, isn&#39;t bringing people together what good technology is all about?</p>\n<p><a href=\"https://github.com/tysoncadenhead/socket.io-chat-demo\">Download the full demo on GitHub</a></p>\n"},"working-with-meteor-data":{"published":true,"title":"Working with Meteor Data","tags":["Meteor","Node","JavaScript","Data"],"category":"code","date":"10-10-2013","thumbnail":"/images/blog/meteor-data.png","slug":"working-with-meteor-data"},"why-is-test-driven-development-so-hard":{"published":true,"title":"Why is Test-Driven Development So Hard?","tags":["TDD","Test Driven Development","Unit Testing"],"category":"code","date":"10-4-2013","thumbnail":"/images/blog/tdd.png","slug":"why-is-test-driven-development-so-hard"},"getting-started-with-meteor":{"published":true,"title":"Getting Started with Meteor","tags":["Meteor","Node","JavaScript"],"category":"code","date":"9-26-2013","thumbnail":"/images/blog/meteor.png","yield":"<p>When it comes to building applications quickly that share a ton of code between the client-side and server-side and that excel at real-time communication, there is nothing more awesome than Meteor. Meteor aims to remove all of the busywork from creating single-page applications, and it does a heck of a job at it.</p>\n<!-- more -->\n<p>The cool thing about Meteor is that it lets you share your server-side and client-side code and it makes synchronizing data a snap. Meteor has a client-side database that it syncs with the server-side database behind the scenes, which lets you actually interface with the server-side database from the client.</p>\n<p>To download Meteor and get started using it, you can simply run:</p>\n<pre><code class=\"language-bash\">curl https://install.meteor.com | /bin/sh\n</code></pre>\n<p>That will install Meteor on your local machine and you&#39;ll be ready to get into the actual app building. Meteor comes with a bit of built in scaffolding, so you can actually just run:</p>\n<pre><code class=\"language-bash\">meteor create myAppName\ncd myAppName\nmeteor\n</code></pre>\n<p>and you&#39;ll have created an application and started the server to actually see it. By default, meteor is setup to run on port 3000, so if you navigate to <a href=\"http://localhost:3000\">http://localhost:3000</a>, you will see a page that looks something like this:</p>\n<p><img src=\"/images/blog/meteor1.png\" alt=\"Meteor Hello World\"></p>\n<p>You&#39;ll probably notice that tempting little button on the page. Go ahead and open your console and click it. You should get a message telling you that you clicked the button.</p>\n<p><img src=\"/images/blog/meteor2.png\" alt=\"Meteor Hello World Button Click\"></p>\n<p>So what is actually happening here? If you go into the <code>myAppName</code> directory you created, you should see three files. There is a <code>myAppName.css</code>, which is actually empty when you create a new app, <code>myAppName.html</code>, which is the templates for your application and finally, the <code>myAppName.js</code> which is where both the client-side and server-side JavaScript currently live.</p>\n<p>First, let&#39;s look at the <code>myAppName.html</code> file.</p>\n<pre><code class=\"language-html\">&lt;head&gt;\n  &lt;title&gt;myAppName&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  {{&gt; hello}}\n&lt;/body&gt;\n\n&lt;template name=&quot;hello&quot;&gt;\n  &lt;h1&gt;Hello World!&lt;/h1&gt;\n  {{greeting}}\n  &lt;input type=&quot;button&quot; value=&quot;Click&quot; /&gt;\n&lt;/template&gt;\n</code></pre>\n<p>As you can see, it&#39;s a pretty standard handlebars template. You might be surprised if you go to the page and look at the source, though. Everything inside the <code>&lt;template /&gt;</code> tag will be missing. The reason is that Meteor automatically parses all of the html files in your project and pulls out all of the templates and stuffs them into a single concatenated JavaScript file. This means that you can actually put as many html files as you need anywhere in your project and they will be available for the JavaScript api to access quickly on the client-side.</p>\n<p>Now, let&#39;s look at the <code>myAppName.js</code>.</p>\n<pre><code class=\"language-javascript\">if (Meteor.isClient) {\n  Template.hello.greeting = function () {\n    return &quot;Welcome to myAppName.&quot;;\n  };\n\n  Template.hello.events({\n    &#39;click input&#39; : function () {\n      // template data, if any, is available in &#39;this&#39;\n      if (typeof console !== &#39;undefined&#39;)\n        console.log(&quot;You pressed the button&quot;);\n    }\n  });\n}\n\nif (Meteor.isServer) {\n  Meteor.startup(function () {\n    // code to run on server at startup\n  });\n}\n</code></pre>\n<p>You might notice that this single JavaScript file is being used on the client-side and the server-side. Meteor has both a <code>Meteor.isClient</code> and a <code>Meteor.isServer</code> boolean that you can check to see if you are running the code in the browser or on the server. Alternatively, if you put code in a directory called &quot;client&quot;, it will only be available in the browser. Code inside of a directory named &quot;server&quot; will only be available to the server-side. Any files in any other folders will be available in both the client-side and the server-side.</p>\n<p>The code inside of the <code>Meteor.isServer</code> conditional actually isn&#39;t doing anything. However, it does show that there is a <code>Meteor.startup</code> method. It&#39;s worth noting that the client-side has the same method, but it acts like the jQuery <code>document.ready</code> function - it just fires when the DOM is finished loading.</p>\n<p>Another thing to note is the Template object. Every template automatically gets an object named after it that is namespaced under Template. For example, since we have a template in our html file called hello, there is a <code>Template.hello</code> object. We can access any events that happen inside the hello template using <code>Templated.hello.events</code>. The events object expects the names to be structured as an event followed by the selector associated with the event.</p>\n<p>We can also add any parameters that we want to pass into our template on the <code>Template.hello</code> object. For example, there is a greeting defined in our JavaScript file that will be rendered in our &quot;hello&quot; template.</p>\n<p>That is the basic setup for Meteor. In my blog post next week, I&#39;ll show you how you can deal with data in Meteor.</p>\n","slug":"getting-started-with-meteor"},"creating-sprites-with-compass":{"published":true,"title":"Creating Sprites with Compass","tags":["Compass","SASS","CSS"],"category":"code","date":"9-20-2013","thumbnail":"/images/blog/sprite.png","yield":"<p>One way to reduce the loading time of your website or application is to merge multiple images together into one large sprite. The benefit is that only one http request has to be made instead of multiple requests. Of course, managing a sprite image and the CSS that uses it can be a pain in the neck. That is where <a href=\"http://compass-style.org/\">Compass</a> comes in. Compass has a really cool helper that lets you import an entire folder of images and that it will automatically sprite for you.</p>\n<!-- more -->\n<p>For some perspective on why Compass is a game changer, we have to look back on what it was like to create a sprite image in vanilla CSS. I remember when I first learned about <a href=\"http://www.w3schools.com/css/css_image_sprites.asp\">how sprites work</a>, I went out and changed a bunch of my sites to use sprites for all of their images and icons. Websites are constantly being tweaked and changed. Unfortunately, maintaining a big image with a bunch of icons turned into huge overhead because every addition meant opening an ever-growing psd file and editing it. If an icon was removed during the development process, I was forced to either remove it in the psd file and re-factor huge chunks of css, or leave it in the image and waste time loading sections of the image that were never even seen. You can see the problem.</p>\n<h2>The Compass Solution</h2><p>Let&#39;s imagine for a moment that you are creating a website of cat pictures. You have a directory of two or three cat pictures that show up on every page of your site. Let&#39;s imagine that your files look like this:</p>\n<p><img src=\"/images/blog/catpictures.png\" alt=\"Cat Pictures\"></p>\n<h2>The easy way</h2><p>If we want to use Compass to create a big sprite and spit out all of the images with appropriate classes, we could simply do this:</p>\n<pre><code class=\"language-css\">@import &quot;cat_pictures/*.png&quot;;\n@include all-cat_pictures-sprites;\n</code></pre>\n<p>That will generate css that looks something like this:</p>\n<pre><code class=\"language-css\">.cat_pictures-sprite,\n.cat_pictures-felix,\n.cat_pictures-phil,\n.cat_pictures-todd {\n    background: url(&#39;/images/my-icons-s34fe0604ab.png&#39;) no-repeat;\n}\n\n.cat_pictures-felix {\n    background-position: 0 0;\n}\n\n.cat_pictures-phil {\n    background-position: 0 -200px;\n}\n\n.cat_pictures-todd {\n    background-position: 0 -400px;\n}\n</code></pre>\n<h2>Generate individual sprite images</h2><p>If you want more finite control over the classes, you can do something like this:</p>\n<pre><code class=\"language-css\">@import &quot;cat_pictures/*.png&quot;;\n\n.cats {\n\n  .felix {\n    @include cat_pictures-sprite(felix);\n  }\n\n  .phil {\n    @include cat_pictures-sprite(phil);\n  }\n\n  .todd {\n    @include cat_pictures-sprite(todd);\n  }\n\n}\n</code></pre>\n<p>Basically, by passing a name into the sprite, you can get the css for individual sprites. The above code will output something like this:</p>\n<pre><code class=\"language-css\">.cat_pictures-sprite,\n.cats .felix,\n.cats .phil,\n.cats .todd {\n    background: url(&#39;/images/my-icons-s34fe0604ab.png&#39;) no-repeat;\n}\n\n.cats .felix {\n    background-position: 0 0;\n}\n\n.cats .phil {\n    background-position: 0 -200px;\n}\n\n.cats .todd {\n    background-position: 0 -400px;\n}\n</code></pre>\n<p>You should never have to worry about where the sprite image is located or what the background position is for any of your sprite images - Compass will manage that for you. Generating sprites with Compass is simple, straightforward, and best of all, maintainable.</p>\n","slug":"creating-sprites-with-compass"},"how-to-build-grunt-from-sublime-text":{"published":true,"title":"How to Do a Grunt Build Using Sublime Text","tags":["Grunt","Sublime"],"category":"code","date":"9-13-2013","thumbnail":"/images/blog/grunt-sublime.png","slug":"how-to-build-grunt-from-sublime-text","yield":"<p>Sublime Text is a really great editor for writing code. It is actually my editor of choice at the moment. One nice feature that comes with Sublime is the ability to specify a custom build type. Sublime comes with several built-in build systems, but I&#39;ve recently discovered that rolling my own build system is really simple. Here is how I got Sublime to build my JavaScript and Node scripts using Grunt.</p>\n<!-- more -->\n<p>Assuming you are already running Grunt for your build, you can simply go to <code>Tools&gt;Build System&gt;New Build System</code> in the Sublime menu and a new JSON file will appear.</p>\n<p><img src=\"/images/blog/sublime-grunt2.jpg\" alt=\"Adding a new build\"></p>\n<p>For my grunt build, I modified the file to look like this:</p>\n<pre><code class=\"language-javascript\">{\n    &quot;shell&quot;: true,\n    &quot;cmd&quot;: [&quot;grunt&quot;],\n    &quot;path&quot;: &quot;/Users/myUserName/nvm/v0.10.1/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin&quot;\n}\n</code></pre>\n<p>The only thing you may need to modify is the path. The path is important because the build system will need to know where to locate Node on your machine. If you aren&#39;t sure what your path should contain, you can run this in your terminal:</p>\n<pre><code class=\"language-bash\">echo $PATH\n</code></pre>\n<p>If Node already works on your machine and you copy the string that the terminal returns, it should work.</p>\n<p><img src=\"/images/blog/sublime-grunt1.jpg\" alt=\"The $PATH\"></p>\n<p>Now, save your json file as <code>Grunt.sublime-build</code> and go to <code>Tools&gt;Build System&gt;Grunt</code> to use it as the default build system.</p>\n<p><img src=\"/images/blog/sublime-grunt3.jpg\" alt=\"Running a build\"></p>\n<p>To test it out, run <code>cmd+B</code> in Sublime. It should kick off Grunt and run your build like normal. Any messages will be spit out into your sublime console.</p>\n"},"secrets-of-the-javascript-ninja":{"published":true,"title":"Book Review: Secrets of the JavaScript Ninja","tags":["Book","JavaScript"],"category":"code","date":"9-4-2013","thumbnail":"/images/blog/ninja.png","slug":"secrets-of-the-javascript-ninja","yield":"<p>When I received a copy of Secrets of a JavaScript Ninja for my birthday, I was understandably excited. As a long-time user of the jQuery, I have a great deal of respect for John Resig, who is the lead developer and creator of the useful and popular library. It should be noted that this is not a book about jQuery. This is a book about advanced JavaScript fundamentals.</p>\n<!-- more -->\n<p>By the time I read Secrets of the JavaScript Ninja, the playing-field for browsers and  had changed a little bit. For example, Resig only mentioned IE6, 7, 8 and 9. IE10 had obviously not been released at the time of the writing. That, of course, is the unfortunate thing about writing books on technology. As soon as a book is published, the technology has already advanced.</p>\n<p><img src=\"/images/blog/secretsofthejavascriptninja.jpg\" style=\"float: left; margin-right: 15px; margin-bottom: 15px;\" /></p>\n<p>By the second chapter, we were introduced to unit testing JavaScript code. The interesting thing about the unit testing chapter is that it was literally foundational for the entire book. Everything that is taught in the book from that point on is proven and asserted through a custom unit test interface written in the second chapter.</p>\n<p>From there, we delve into understanding some of the foundations of the JavaScript language such as functions, objects, timers, and regular expressions. While these topics may seem juvenile, they were presented in a very clear and concise manner and I definitely felt like I learned some helpful tricks to optimize my code.</p>\n<p>The next section was on more advanced topics. There was a chapter on runtime code evaluation that I thought was really interesting. It compared various ways to pull in new code and execute it at runtime. There was actually an entire chapter on the &quot;with&quot; statement. It was not a defense of the controversial statement, but more of a primer on how to interact with it in existing legacy codebases. The section closed with an introduction to dealing with cross-browser issues without resorting to browser sniffing techniques.</p>\n<p>The final section of the book covered DOM events, working with DOM elements and CSS selector engines. All of the topics were covered with browser nuances in mind.</p>\n<p>In short, this book was not a book about how to use jQuery, but someone could easily walk away from reading it with the knowledge to create their own jQuery-like library. The techniques employed in Secrets of the JavaScript Ninja could easily be used in any JavaScript development, whether you are building a library or just an application. It has probably been the single most helpful JavaScript book I have read.</p>\n<iframe src=\"http://rcm-na.amazon-adsystem.com/e/cm?t=tysolloycade-20&o=1&p=8&l=as1&asins=193398869X&ref=qf_sp_asin_til&fc1=000000&IS2=1&lt1=_blank&m=amazon&lc1=111111&bc1=EFEEEE&bg1=EFEEEE&f=ifr\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>\n"},"compiling-sass-and-compass-with-grunt":{"published":true,"title":"Compiling SASS and Compass with Grunt","tags":["SASS","Compass","Grunt"],"category":"code","date":"8-30-2013","thumbnail":"/images/blog/grunt-sass.png","yield":"<p>If you haven&#39;t been using <a href=\"http://gruntjs.com\">Grunt</a> to run your JavaScript tasks, you have definitely been missing out. Grunt is really great about automating tasks that would have been very tedious otherwise. One great thing about Grunt is the ability to run <code>grunt watch</code> to monitor your files and run tasks when they are changed. We can use <code>grunt watch</code> in tandem with compass to automatically compile css files on the fly as we change our SASS files.</p>\n<!-- more -->\n<p>To get started, you&#39;ll need to install Grunt and then add the &quot;watch&quot; task.</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-watch\n</code></pre>\n<p>Next, you can add something like this to the grunt.initConfig() function inside your Gruntfile.js:</p>\n<pre><code class=\"language-javascript\">{\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    }\n}\n</code></pre>\n<p>We&#39;ve added livereload, listening to port 1337. You can add a snippet like this to listen for changes inside your html template:</p>\n<pre><code class=\"language-html4strict\">&lt;script src=&quot;http://localhost:1337/livereload.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>We&#39;ve also told &quot;watch&quot; to listen for changes any <code>.scss</code> files inside the <code>scss</code> directory.</p>\n<p>Last, we gave &quot;watch&quot; a task to runt when a scss file is changed. That task, of course, is compass.</p>\n<p>Now, we will need to install the compass Grunt task:</p>\n<pre><code class=\"language-bash\">npm install grunt-contrib-compass\n</code></pre>\n<p>Now, let&#39;s add the compass task to our Gruntfile:</p>\n<pre><code class=\"language-javascript\">{\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Nothing too interesting is happening here. We&#39;re just giving compass a config file to look at when it is compiling. The config.rb will typically look something like this:</p>\n<pre><code class=\"language-text\">http_path = &quot;public/&quot;\ncss_dir = &quot;public/css&quot;\nsass_dir = &quot;scss&quot;\nimages_dir = &quot;public/images&quot;\njavascripts_dir = &quot;public/js&quot;\noutput_style = :compressed\nrelative_assets=true\nline_comments = false\n</code></pre>\n<p>That is really all there is to it. All told, our Gruntfile will look something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n\n    watch: {\n        options: {\n            livereload: 1337\n        },\n        css: {\n          files: [&#39;public/scss/**/*.scss&#39;],\n          tasks: [&#39;compass&#39;]\n        }\n    },\n\n    compass: {\n        dist: {\n            options: {\n                config: &#39;config.rb&#39;\n            }\n        }\n    }\n\n});\n\ngrunt.loadNpmTasks(&#39;grunt-contrib-compass&#39;);\ngrunt.loadNpmTasks(&#39;grunt-contrib-watch&#39;);\n</code></pre>\n<p>Now, just run:</p>\n<pre><code class=\"language-bash\">grunt watch\n</code></pre>\n<p>Anytime you change a file in your <code>/scss</code> directory, it will be compressed and outputted into your <code>/public/css</code> directory.</p>\n<p>With Compass building CSS as a part of your Grunt watch task, you will have one less process to keep running in your terminal. Automatically compiling SASS files is definitely something to grunt about!</p>\n","slug":"compiling-sass-and-compass-with-grunt"},"how-can-you-see-the-latest-poet-js-posts-without-restarting-the-server":{"published":true,"title":"How Can You See the Latest Poet.js Posts Without Restarting the Server?","tags":["NodeJS","Blogging"],"category":"code","date":"8-23-2013","thumbnail":"/images/blog/poet-latest.png","yield":"<p>When I first started moving my blog over to <a href=\"/blog/poet-js\">Poet</a>, one of the most frustrating things for me was the fact that all of the blog posts are cached, meaning that every time you edit a file, you literally have to restart the server to see the changes. Luckily, I have implemented a neat little trick to refresh the blog posts any time they are updated.</p>\n<!-- more -->\n<p>Poet gives you a <code>watch</code> method that is fired anytime the markdown files in your posts directory are changed, so I tapped into that.</p>\n<pre><code class=\"language-javascript\">poet.watch(function (poet) {\n  console.log(&#39;A file was updated!&#39;);\n});\n</code></pre>\n<p>Poet also provides a method called <code>clearCache</code> that literally wipes out the cached blog posts and replaces them with the updated versions.</p>\n<pre><code class=\"language-javascript\">poet.clearCache();\n</code></pre>\n<p>Putting both methods together, we can do something like this:</p>\n<pre><code class=\"language-javascript\">poet.watch(poet.clearCache);\n</code></pre>\n<p>Now every time a blog post is changed, the clearCache method is fired, which means that the blog posts will always be up to date. It wasn&#39;t the most challenging thing to do, but it definitely made writing blog posts much more enjoyable.</p>\n","slug":"how-can-you-see-the-latest-poet-js-posts-without-restarting-the-server"},"sencha-architect-app-development":{"published":true,"title":"Book Review: Sencha Architect App Development","tags":["Book"],"category":"code","date":"8-16-2013","thumbnail":"/images/blog/senchabook3.png","slug":"sencha-architect-app-development","yield":"<p>If you haven&#39;t used Sencha Architect to build your Sencha applications, you are totally missing out. Sencha Architect is essentially a WYSIWYG editor that allows you to construct applications by dragging and dropping components into the stage area. <code>Sencha Architect App Development</code> from Packt publishing is a really helpful book that shows you how to construct an application in Sencha Architect from start to finish.</p>\n<!-- more -->\n<p>Sencha Architect App Development is a fairly quick read. It is just over a hundred pages, but there is a ton of knowledge packed in its pages.</p>\n<p><img src=\"/images/blog/senchabook3_cover.png\" alt=\"\"></p>\n<p>The book begins by introducing Sencha Architect and walking through the more basic features like the UI, the canvas and the inspector. By the time you&#39;ve completed the first chapter, you should at least know your way around the interface.</p>\n<p>Next, we are shown how to create an application. I was particularly impressed that there was a discussion of MVC and the proper way to structure your application. In a book that primarily focuses on just creating applications using a GUI, it&#39;s refreshing to see application structure come into the conversation.</p>\n<p>After that, we dive deeper into the internals of creating an application. Namely, models, stores, views and controllers. There is also a discussion of how to tie the user&#39;s phone contacts into the data store using Phonegap. </p>\n<p>There is an entire chapter on tips and tricks that can be implemented with Sencha Architect. These range from using Sencha Architect with Eclipse to creating internationalized applications.</p>\n<p>The next chapter is about using resources such as stylesheets and external JavaScript files in Sencha Architect. There is also a really useful section about how to use Google Maps.</p>\n<p>The final chapter discusses methods for deploying Sencha applications to iOS, Android Windows 8 and Blackberry 10 applications. There is a brief introduction to using Sencha Cmd with Sencha Architect, but I would have liked to see more in that regard.</p>\n<p>Sencha Architecture App Development is a really useful book that I wish I had read a long time ago. It packs in really useful tidbits that can make anyone a proficient user of Sencha Architect.</p>\n<iframe src=\"http://rcm-na.amazon-adsystem.com/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=tysolloycade-20&o=1&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=1782169814\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>\n"},"poet-js":{"published":true,"title":"Getting Started with Poet.js","tags":["NodeJS","Blogging"],"category":"code","date":"8-9-2013","thumbnail":"/images/blog/poet.png","slug":"poet-js","yield":"<p>I have recently moved this entire blog over from using the Wordpress CMS to running on completely on Node. The library I eventually ended up choosing is called <a href=\"http://jsantell.github.io/poet/\">Poet</a>. </p>\n<!-- more -->\n<p>Poet is a light-weight blogging platform that runs on top of <a href=\"http://expressjs.com/\">Express</a>. It doesn&#39;t require a database, and allows you to write all of your posts in static <a href=\"http://daringfireball.net/projects/markdown/\">Markdown</a> files. For me, the database-free approach makes sense because if I want to totally move to a different programing language ten years from now, the transition should be seamless. Don&#39;t worry though, I have no plans to abandon Node any time soon.</p>\n<p>I&#39;m also excited about using Poet, because if I have needs that arise out of using it, I will be able to contribute back to the project. I never felt comfortable publishing patches or plugins for Wordpress because PHP isn&#39;t my native language. Of course, Node is a totally different story for me.</p>\n<p>Getting started with Poet is really easy. It is available on NPM, so you can just run:</p>\n<pre><code class=\"language-bash\">npm install poet\n</code></pre>\n<p>and then install Express:</p>\n<pre><code class=\"language-bash\">npm install express\n</code></pre>\n<p>and finally create a server.js file that looks something like this:</p>\n<pre><code class=\"language-javascript\">var\n  express = require(&#39;express&#39;),\n  app = express(),\n  Poet = require(&#39;poet&#39;);\n\nvar poet = Poet(app, {\n  posts: &#39;./_posts/&#39;,\n  postsPerPage: 5,\n  metaFormat: &#39;json&#39;\n});\n\npoet.init().then(function () {\n  // ready to go!\n});\n\n/* set up the rest of the express app */\n</code></pre>\n<p>By default, you can just write blog posts in your <code>_posts</code> directory as long as they have a <code>.md</code> extension.</p>\n<p>The only weird thing about the actual posts is that they can include metadata at the top of the file. The data can be whatever you want or need in your posts. It will automatically get added to the post object and the posts array that Poet passes around.</p>\n<p>```html4strict\n{{{\n  &quot;title&quot;: &quot;Hello World!&quot;,\n  &quot;tags&quot;: [&quot;blog&quot;, &quot;fun&quot;],\n  &quot;category&quot;: &quot;javascript&quot;,\n  &quot;date&quot;: &quot;7-5-2013&quot;</p>\n"},"client-side-dependency-management-with-bower":{"published":true,"title":"Client-Side Dependency Management with Bower","tags":["Bower"],"category":"code","date":"8-2-2013","thumbnail":"/images/blog/bower.png","yield":"<p>If you&#39;ve been creating applications using Node, you&#39;ve probably fallen in love with the built-in package management framework &quot;NPM&quot;. Using NPM makes life a ton easier because instead of needing to go out and download all of the third-party packages your project will need, you can just type a line or two in the terminal and everything is good to go. What if there was a tool like NPM for managing client-side JavaScript libraries? There is one. It is called Bower.&quot;</p>\n<!-- more -->\n<p>Bower essentially performs three vital functions</p>\n<ul>\n<li>You can download all of your dependencies from the command line, so you don&#39;t have to go out looking for them on the Internet</li>\n<li>You can easily update to the latest version of your library and easily switch back if you need to</li>\n<li>You don&#39;t have to check all of your dependencies in as part of your project. That means that your project will only contain the code that you write, which will make it smaller and more manageable.</li>\n</ul>\n<p>So how do you use Bower? If you already have NPM installed, you can just install it globally:</p>\n<pre><code class=\"language-bash\">npm install -g bower\n</code></pre>\n<p>You&#39;ll also probably want to install Git because most of the Bower packages use Git to work their magic.</p>\n<p>Now that you&#39;ve installed Bower, you can go to the project you want to use it in and create a <code>bower.json</code> file in the root. It will probably look something like this:</p>\n<pre><code class=\"language-json\">{\n  &quot;name&quot;: &quot;my-amazing-project&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;dependencies&quot;: {\n    &quot;jquery&quot;: &quot;&gt;=2.0.3&quot;\n  },\n  &quot;ignore&quot;: [\n    &quot;**/.*&quot;,\n    &quot;node_modules&quot;,\n    &quot;components&quot;,\n    &quot;bower_components&quot;,\n    &quot;test&quot;,\n    &quot;tests&quot;\n  ]\n}\n</code></pre>\n<p>If you&#39;ve already been using NPM, you&#39;ll probably notice that the format is pretty similar. The dependency object is where you will list all of your dependencies and the version you would like to use.</p>\n<p>By default, everything Bower downloads will go in the /bower_components folder in the root of your project. If you would like to put your dependencies in a different directory, just create a <code>.bowerrc</code> file with the path to your alternate folder:</p>\n<pre><code class=\"language-json\">{\n  &quot;directory&quot; : &quot;public/js/bower_components&quot;\n}\n</code></pre>\n<p>Once everything is set up, you can install all of your dependencies using</p>\n<pre><code class=\"language-bash\">bower install\n</code></pre>\n<p>All of your dependencies will go into the directory you declare in your .bowerrc file or in bower_components if none is specified.</p>\n<p>To install a specific package, you can use</p>\n<pre><code class=\"language-bash\">bower install jquery\n</code></pre>\n<p>or</p>\n<pre><code class=\"language-bash\">bower install jquery#2.0.3\n</code></pre>\n<p>It&#39;s best to list your dependencies in the bower.json file, though, so that they will be remembered for later on.</p>\n<p>I have found that most of the libraries I&#39;ve needed are already registered with Bower. However, if you need to register a new GitHub repository, you can simply run something like</p>\n<pre><code class=\"language-bash\">bower register jquery git://github.com/jquery/jquery\n</code></pre>\n<p>Simply pass in the name of the package and the path to the repository on GitHub.</p>\n<p>Needless to say, I&#39;m a big fan of Bower. Has anyone else been using Bower or something like it to manage third-party libraries on the client-side?</p>\n","slug":"client-side-dependency-management-with-bower"},"logging-time-on-the-developer-console":{"published":true,"title":"Logging Time on the Developer Console","tags":["JavaScript"],"category":"code","date":"7-29-2013","thumbnail":"/images/blog/time.png","slug":"logging-time-on-the-developer-console","yield":"<p>Sometimes when you are developing applications, it can be handy to know how long it takes for an operation to complete. For example, you might want to know how long an element takes to render or how long it takes for an Ajax call to resolve. Luckily, most of the modern web browsers have a <code>console.time</code> function that makes that easier.</p>\n<!-- more -->\n<p>As far as I can tell, <code>console.time</code> works in Chrome, Firefox and Safari. The api couldn&#39;t be simpler. You tell the console to start keeping track of the time be invoking console.time and passing in any arbitrary name you would like to call the time. In the example below, we&#39;re just calling it &quot;my time.&quot;</p>\n<pre><code class=\"language-javascript\">console.time(&#39;my-time&#39;);\n</code></pre>\n<p>Once we&#39;re done with the operation, we can call <code>console.timeEnd</code> and pass in the name again.</p>\n<pre><code class=\"language-javascript\">console.timeEnd(&#39;my-time&#39;);\n</code></pre>\n<p>The console will display something like:</p>\n<pre><code>my-time: 1617.349ms\n</code></pre><p>You can have up to 10,000 timers running at the same time, but you probably would be hard pressed to find a reason to be logging 10,000 unique times at once.</p>\n"},"javascript-test-coverage-with-jscoverage":{"published":true,"title":"Determining JavaScript Test Coverage with JSCover","tags":["Testing"],"category":"code","date":"7-18-2013","thumbnail":"/images/blog/cover.png","slug":"javascript-test-coverage-with-jscoverage","yield":"<p>Knowing what parts of your code to test can sometimes be tricky. If you have a large application, it can be challenging to know what has already been tested and what still needs testing. That is why the world needs JSCover.</p>\n<!-- more -->\n<p>JSCover is a really great tool that looks through all of your code to determine what parts have unit tests and what parts don&#39;t.</p>\n<p>To get started, you will need to download the JSCover jar file and then start the JSCover server like this:</p>\n<pre><code class=\"language-bash\">java -jar path/to/JSCover-all.jar -ws --document-root=./ --report-dir=coverage\n</code></pre>\n<p>There are also tons of configuration options you can pass in. Refer to their api documentation for everything, but some of the highlights are:</p>\n<ul>\n<li><strong>--document-root={Value}</strong> - The root where all of the JavaScript files are located</li>\n<li><strong>--port={Value}</strong> - The port to run the server on</li>\n<li><strong>--no-instrument={Value}</strong> - A path to ignore JavaScript files inside of and not test. This can be helpful to avoid testing third party scripts.</li>\n</ul>\n<p>Next, you will need to use PhantomJS to actually run the tests so that you can determine what has been covered.</p>\n<pre><code class=\"language-bash\">phantomjs path/to/run-jscover-qunit.js path/to/qunit.html\n</code></pre>\n<p>The <code>run-jscover-qunit</code> file is part of the JSCover download. They also have a testing bridge for Jasmine if that is your cup of tea.</p>\n<p>The second argument is the path to your testing html file. JSCover will inject their script into your test file to work its magic.</p>\n<p>The result will look something like this:</p>\n<p><img src=\"/images/blog/jscover.png\" alt=\"JSCover Results\"></p>\n<p>You can even drill down into the individual files and see which lines need test coverage. </p>\n<p><img src=\"/images/blog/jscover2.png\" alt=\"JSCover Results\"></p>\n<p>As you can tell, JSCover is a really useful tool to know how awesome and unbreakable your application is. I have been really impressed with it.</p>\n"},"localstorage-with-amplify-js":{"published":true,"title":"LocalStorage with Amplify.js","tags":["LocalStorage","appendTo"],"category":"code","date":"7-13-2013","thumbnail":"/images/blog/amplify.png","slug":"localstorage-with-amplify-js","yield":"<p><a href=\"http://amplifyjs.com/\">Amplify</a> is JavaScript component library from appendTo. It has a ton of useful features and one of them is the storage piece. If you have ever worked with storage in the browser, you probably know that there are various APIs and storage types with varying degrees of browser support.</p>\n<!-- more -->\n<p>Amplify store is handy because it abstracts away some of the lower-level storage API interaction so that you can focus on what really matters - storing and retrieving data.</p>\n<p>Using Amplify is really straightforward. Here are the basics.</p>\n<h3>Saving Data</h3><p>To save data, you just give it a key and the value you want to store.</p>\n<pre><code class=\"language-javascript\">amplify.store(&#39;name&#39;, &#39;Tyson Cadenhead&#39;);\n</code></pre>\n<p>It will accept more complex data structures as well:</p>\n<pre><code class=\"language-javascript\">amplify.store(&#39;tyson&#39;, {\n    name: &#39;Tyson Cadenhead&#39;,\n    age: 28,\n    friends: [&#39;Arthur&#39;]\n});\n</code></pre>\n<p>Arthur is my dog. He isn&#39;t my only friend, but I didn&#39;t want any of my real friends feel left out if I started listing them...</p>\n<h3>Finding Data</h3><p>You can retrieve data using the key that you used to save it.</p>\n<pre><code class=\"language-javascript\">var myName = amplify.store(&#39;name&#39;);\nconsole.log(myName); // Tyson Cadenhead\n</code></pre>\n<h3>Listing Data</h3><p>To get all of the data that you have saved with amplify, you can call amplify.store() without any parameters.</p>\n<pre><code class=\"language-javascript\">var myStoredItems = amplify.store();\nconsole.log(myStoredItems); // [...]\n</code></pre>\n<h3>Removing Data</h3><p>To delete data, just pass a null as the second argument.</p>\n<pre><code class=\"language-javascript\">amplify.store(&#39;name&#39;, null);\nvar myName = amplify.store(&#39;name&#39;);\nconsole.log(myName); // undefined\n</code></pre>\n<p>Working cross-browser with amplify store is really that easy. Just think, you could have wasted time rolling your own abstraction layer. With all of that time I&#39;ve saved you, maybe you can have a chance to read a few more of my blog posts.</p>\n"},"running-node-applications-continuously-with-foreverjs":{"published":true,"title":"Running Node Applications Continuously with Forever.js","tags":["Node"],"category":"code","date":"7-5-2013","thumbnail":"/images/blog/forever.png","slug":"running-node-applications-continuously-with-foreverjs","yield":"<p>When I first started writing Node applications, my main question was how I could keep the server running on a live server.</p>\n<p>The answer I finally discovered was <a href=\"https://github.com/nodejitsu/forever\">Forever</a>. Forever is a CLI tool that keeps a node process running indefinitely. That means that you can ssh into the place where your code is hosted, start the server with Forever and then close your ssh connection and the server will still be running. It is a thing of beauty.</p>\n<!-- more -->\n<p>To install Forever, just run:</p>\n<pre><code class=\"language-bash\">[sudo] npm install forever -g\n</code></pre>\n<p>Then you can start up the server as easily as:</p>\n<pre><code class=\"language-bash\">forever start my-server-file.js\n</code></pre>\n<p>After that, you can just hit your site or application from whatever port the server file is starting it up at.</p>\n<p>If you need to stop your all of your processes, run:</p>\n<pre><code class=\"language-bash\">forever stopall\n</code></pre>\n<p>It&#39;s a thing of beauty!</p>\n"},"gardening-for-web-developers":{"published":true,"title":"Gardening for Web Developers","tags":["Code"],"category":"code","date":"6-28-2013","thumbnail":"/images/blog/gardening.jpg","slug":"gardening-for-web-developers","yield":"<p>This year, I started a vegetable garden in my front yard. There are several reasons I started it. We are trying to get out of debt, but I still want my family to have nutritious food that isn&#39;t full of deadly chemicals. I also think that skills like being able to grow your own food could become really valuable in the coming years of inflation that the Federal Reserve has set us up for in the United States.</p>\n<!-- more -->\n<p>Gardening has been a good opportunity for me to get away from more mind-intensive tasks like writing code or reading some of the heavier topics I tend to get into.</p>\n<p>Interestingly enough, instead of just escaping web development, I have been thinking about ways that gardening is similar to web development. Here are a few things that have come to mind.</p>\n<p>###Start with a plan</p>\n<p>If you don&#39;t have a solid plan going into a garden, you won&#39;t know what to plant or when to plant it. I ended up adjusting my plan as I began to see what my needs would be and what would be practical for my space.</p>\n<p>Web applications are very similar. If you don&#39;t know what you are buildings, it will be almost impossible to make it work. Adjustments will inevitably be made along the way, but it is always important to keep an active vision of where you want to go.</p>\n<p>###Sandboxing</p>\n<p>There are some plants that will grow on forever if they have enough space. That&#39;s why it&#39;s important to box certain plants off from the rest of the garden, so they won&#39;t totally take over.</p>\n<p>In a similar fashion, keeping certain modules of code separate from each other makes a code-base easier to maintain. It also keeps code from breaking other code that is seemingly unrelated.</p>\n<p>###Get the bugs or the bugs will get you</p>\n<p>A good rule in development is to make sure you take care of issues or bugs before you go on to create new features.</p>\n<p>In a garden, if your plants are being eaten by bugs, it&#39;s not worth your time to grow more plants unless the bug problem is fixed first.</p>\n<p>###Water and sunshine</p>\n<p>In a garden, for plants to grow, they need plenty of water and sunshine.</p>\n<p>In an application, you need plenty of users working with your product on a daily basis. Otherwise you will never know what is needed to move the product forward.</p>\n<p>I&#39;m sure there are a ton of other parallels between growing food and writing software. Can anyone think of any others?</p>\n"},"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically":{"published":true,"title":"Bing Translate: A New Grunt Task to Internationalize Your Apps Programmatically","tags":["Grunt","Bing","Bing Translator","i18n"],"category":"code","date":"6-21-2013","thumbnail":"/images/blog/grunt.png","yield":"<p>Internationalizing an application can be a tedious process if you are translating your app into different languages manually. Every time you add a new value to be translated, you have to add that value for all of your  translation files. It can become a real pain.</p>\n<!-- more -->\n<p>To ease the pain, I&#39;ve written a Grunt task that translates all of your language files from a common Grunt config location using the Bing Translator api.</p>\n<p>Why did I use Bing Translator instead of Google Translator? Unfortunately, the Google Translator API is no longer free. Don&#39;t worry, nobody will make you take a test that reveals that you prefer Bing to Google. After you create your Bing account, you&#39;ll barely even notice you&#39;re using it.</p>\n<p>So how can you get started?</p>\n<p>First you&#39;ll need to download the Grunt Bing Translate task from NPM:</p>\n<pre><code class=\"language-bash\">npm install grunt-bing-translate\n</code></pre>\n<p>Once that is done, you just need to modify your Gruntfile. Inside of your grunt.initConfig(), you&#39;ll want to add something like this:</p>\n<pre><code class=\"language-javascript\">grunt.initConfig({\n  bing_translate: {\n    options: {\n      // Task-specific options go here.\n    }\n  }\n});\n</code></pre>\n<p>For a full list of options, check out the <a href=\"https://github.com/tysoncadenhead/grunt-bing-translate/\">documentation on Github</a></p>\n<p>Here is an example of how you might configure your bing_translate options:</p>\n<pre><code class=\"language-javascript\">module.exports = function(grunt) {\n\n  // Project configuration.\n  grunt.initConfig({\n\n    &quot;bing_translate&quot;: {\n      &quot;options&quot;: {\n        &quot;clientId&quot;: require(&quot;./config.json&quot;).clientId, // Replace this with your Bing Translate Client ID\n        &quot;clientSecret&quot;: require(&quot;./config.json&quot;).clientSecret, // Replace this with your Bing Translate Client Secret\n        &quot;defaultLanguage&quot;: &quot;en&quot;,\n        &quot;languages&quot;: [&quot;ar&quot;, &quot;bg&quot;, &quot;cs&quot;, &quot;da&quot;, &quot;nl&quot;, &quot;en&quot;, &quot;et&quot;, &quot;fi&quot;, &quot;fr&quot;, &quot;de&quot;, &quot;el&quot;, &quot;hu&quot;, &quot;it&quot;, &quot;lv&quot;, &quot;lt&quot;, &quot;pl&quot;, &quot;pt&quot;, &quot;ro&quot;, &quot;ru&quot;, &quot;sk&quot;, &quot;sl&quot;, &quot;es&quot;, &quot;sv&quot;],\n        &quot;files&quot;: {\n            &quot;test/lang&quot;: {\n                &quot;template&quot;: &quot;console.log(&#39;&lt;%- language %&gt;&#39;, &lt;%- values %&gt;);&quot;,\n                &quot;fileNameEnding&quot;: &quot;/translation.js&quot;,\n                &quot;values&quot;: {\n                    &quot;hello&quot;: &quot;Hello&quot;,\n                    &quot;world&quot;: &quot;World&quot;\n                }\n            }\n        }\n      }\n    }\n\n  });\n\n};\n</code></pre>\n<p>Once all of your options are specified, you can run:</p>\n<pre><code class=\"language-bash\">grunt bing_translate\n</code></pre>\n<p>to translate all of your files. It&#39;s like magic.</p>\n<p>One important thing to note is that the Bing translate API does have a monthly limit per account. I haven&#39;t hit it yet and my understanding is that it is pretty large, but it&#39;s still there. This task will only translate each word once even if it appears in multiple language files, so that will hopefully reduce the amount of calls you have to make each month.</p>\n<p>So, far I&#39;ve used this to generate language files for <a href=\"http://ckeditor.com/\">CKEditor</a> plugins and to generate language files for use with <a href=\"http://i18next.com/\">i18next</a>. The ability to put a template around the contents of the file should make this easily work with any project.</p>\n<p>What do you think?</p>\n","slug":"bing-translate-a-new-grunt-task-to-internationalize-your-apps-programmatically"},"what-should-i-test-when-i-write-software":{"published":true,"title":"What Should I Test When I Write Software?","tags":["Testing","Mocha","QUnit","Selenium"],"category":"code","date":"6-6-2013","thumbnail":"/images/blog/test-dummy.png","slug":"what-should-i-test-when-i-write-software"},"jquery-jsontemplate":{"published":true,"title":"Instroducing jQuery.jsonTemplate","tags":["JSON","Template"],"category":"code","date":"6-3-2013","thumbnail":"/images/blog/layout.png","slug":"jquery-jsontemplate","yield":"<p>This is entirely experimental, but I&#39;ve created a purely JSON-based templating system called jQuery.jsonTemplate.</p>\n<p>The idea is to have a completely JSON-based nested markup language that compiles to HTML and back again.</p>\n<!-- more -->\n<p>Using it is pretty simple. You just need to add all of the properties you would typically use in HTML to the JSON structure like this:</p>\n<pre><code class=\"language-javascript\">$(&quot;#my-element&quot;).jsonTemplate(\n    [{\n       type: &#39;h1&#39;,\n       content: &#39;Hello World&#39;\n    }]\n);\n</code></pre>\n<p>The code above would append this to the element with an id of &quot;my-element&quot;:</p>\n<pre><code class=\"language-html4strict\">&lt;h1&gt;Hello World&lt;/h1&gt;\n</code></pre>\n<p>You can even do nested elements inside of each other like this:</p>\n<pre><code class=\"language-javascript\">$(&quot;#my-element&quot;).jsonTemplate(\n    [{\n       type: &#39;div&#39;,\n       items: [{\n            type: &#39;p&#39;,\n            items: [{\n                type: &#39;strong&#39;,\n                content: &#39;Hi there!&#39;\n            }]\n       }]\n    }]\n);\n</code></pre>\n<p>You can easily convert HTML to the jsonTemplate format as well:</p>\n<pre><code class=\"language-html4strict\">&lt;h1&gt;Hello World&lt;/h1&gt;\n&lt;script type=&quot;javascript&quot;&gt;\n  var template = $(&quot;h1&quot;).jsonTemplate();\n  console.log(template); // { type: &#39;h1&#39;, content: &#39;Hello World&#39; }\n&lt;/script&gt;\n</code></pre>\n<p>The basic idea behind a templating language like this is that it could be primarily driven by JavaScript and you could use all of the methods in JavaScript to manipulate the data before you render it with jsonTemplate. I&#39;m not sure that it necessarily has an advantage over the string-based templating languages like EJS or Mustache, but it was a fun little project to knock out. I&#39;m considering porting this for Node too, if there&#39;s any interest in it.</p>\n<p>Since I used all of the attributes that HTML gave me out of the box and only tacked on a few attributes like &quot;content&quot; to render the HTML, &quot;items&quot; to render an array of items in an element and &quot;type&quot; to determine the element type, the code is only a couple hundred lines long even when it&#39;s uncompressed.</p>\n<p>I&#39;d be interested to see what other people think of this little jQuery plugin and whether anyone is able to find practical uses for it.</p>\n<p>If you&#39;d like to check it out, <a href=\"https://github.com/tysoncadenhead/jquery.jsonTemplate\">here is the project on Github</a>.</p>\n"},"do-you-need-a-college-degree-to-be-a-web-developer":{"published":true,"title":"Do You Need a College Degree to Be a Web Developer?","tags":["College","Coding"],"category":"code","date":"5-25-2013","thumbnail":"/images/blog/graduate.jpg","slug":"do-you-need-a-college-degree-to-be-a-web-developer","yield":"<p>Software development is a really exciting field to be in. Technology is constantly changing and improving. The demand for people who can read and write code is constantly expanding. The laws of supply and demand work in the developer&#39;s favor since all of the companies are forced to compete for the limited number of people who can write code well.</p>\n<!-- more -->\n<p>So, if you want to get into the development field, you may be tempted to enroll in a nearby college and get a four-year degree in computer science. After all, <a href=\"http://www.youtube.com/watch?v=kXpwAOHJsxg\">everyone with a college degree does better in life</a>, right?</p>\n<p>In the interest of full disclosure, I&#39;ll start off by saying that I do have a college degree. College was a good experience for me. I made many friends I still keep in touch with today, I met my wife at college and I was able to learn under some really good professors. However, I have to ask myself whether I would encourage my kids to enroll in college if they were pursuing a career as a software engineer. It might be surprising, but my answer would be &quot;no.&quot; Here are my reasons:</p>\n<ul>\n<li><strong>College is expensive.</strong> This should be obvious, but college can cost an arm and a leg. When I went to college at a small private university, the tuition was about $10,000 a semester. The cost of college is rising at a rate that far exceeds the rate of inflation. There is literally no way a college student can pay for that out of pocket. As an 18-year-old, you can&#39;t understand the burden of debt or the way that interest works on loans. What&#39;s even worse is that many of my friends are unemployed or underemployed with the same debt load. Our family is on the <a href=\"http:/daveramsey.com\">Dave Ramsey</a> plan trying to get out from under the weight of student loan debt. The one lesson we have learned is that it is never worth it to borrow money.</li>\n<li><strong>Missed opportunity.</strong> Four years is a long time. It&#39;s impossible to calculate what you may have missed in terms of lost opportunity. If I had been working, even for minimum wage, I would have had enough money to buy a house at the end of four years.</li>\n<li><strong>Technology moves too fast.</strong> Other than basic principles of coding, everything that you learn in college will be obsolete by the time you get your degree. As a rule, colleges are typically a year or two behind because they are waiting to determine whether the technologies will stick. There&#39;s no reason to teach a class on a language that turns out to be a passing trend.</li>\n</ul>\n<p>So, if you don&#39;t go to college, how can you get a job writing code? Here a few ideas.</p>\n<ul>\n<li><strong>Learn as much as you can.</strong> Pick a language and commit to thoroughly learning it. If you&#39;re looking for a language that will make good money, some solid choices are JavaScript, C#, PHP and Java. I would personally recommend learning JavaScript because it has a bright future. Books are a good place to start. There are also tons of blogs that can be invaluable resources. There are also weekly newsletters like <a href=\"http://javascriptweekly.com/\">JavaScript Weekly</a> that keep a running update of what is hot in the development world. To get started on a language, I would recommend just creating an application. You will learn really fast if you are actually writing functional code.</li>\n<li><strong>Meet other developers.</strong> If you live in or near a major city, there are probably several meetups and conferences you can attend. They are a great place to meet people. Ask them about what they are doing and where they work. Create relationships with people who are doing what you want to be doing. The odds of getting a job by filling out resumes are terrible. Almost all of the professional jobs I&#39;ve gotten were a result of networking.</li>\n<li><strong>Get an internship writing code.</strong> Since there is such a high demand for software engineers, many companies will gladly take interns under their wings. The benefits for the company are that they have the potential to eventually hire you on as a full-time employee, they get free or cheap work and they are able to look good in their community because they are teaching upcoming engineers.</li>\n<li><strong>Look into cheaper alternatives.</strong> Here in Nashville, we have a program called &quot;<a href=\"http://nashvillesoftwareschool.com/\">Nashville Software School</a>&quot; that just costs $1,000 a semester. My guess is that there are similar programs springing up in other areas as well.</li>\n</ul>\n<p>As you should be able to see, college is probably not the right choice for an aspiring developer. Sure, there are some companies that require a bachelor&#39;s degree, but the vast majority would prefer four years of real-world experience to the insulated learning environment that a college provides. If you are able to land your first tech job, nobody will ever even notice whether or not you have a college degree listed on your resume. Learning to write code well is going to require a lot of hard work, but college is hard work too. In the end, you have to ask yourself what it costs compared to what you have to show for it in the end.</p>\n"},"compound-js-presentation-in-nashville":{"published":true,"title":"Compound JS Presentation in Nashville","tags":["Compound","Presentation"],"category":"code","date":"5-22-2013","thumbnail":"/images/blog/testtubes.png","slug":"compound-js-presentation-in-nashville","yield":"<p>If you&#39;re going to be in Nashville on May 21 at 6:00, stop by the Interactive Developers meetup at Vaco to hear me speak about the Compound MVC framework for Node. There is always free food and drink. You can RSVP <a href=\"http://www.meetup.com/interactivedev/events/109983412/\">here</a>.</p>\n<!-- more -->\n<p><strong>Update:</strong></p>\n<p>Now that the presentation is over, you can see my slides <a href=\"http://slid.es/tysoncadenhead/compoundjs\">here</a>.</p>\n"},"creating-mobile-apps-with-sencha-touch-2":{"published":true,"title":"Book Review: Creating Mobile Apps With Sencha Touch 2","tags":["Book","Sencha"],"category":"code","date":"5-16-2013","thumbnail":"/images/blog/senchabook.png","slug":"creating-mobile-apps-with-sencha-touch-2","yield":"<p>I have recently been diving into <a href=\"http://www.packtpub.com/creating-mobile-apps-with-sencha-touch-2/book\">Creating Mobile Apps With Sencha Touch 2</a> and I have really been enjoying it.</p>\n<p>As someone who worked with Sencha Touch when it first came out, it has been fun to watch the steady improvements that have been added over time to make Sencha Touch 2, so I was doubly excited to have the chance to review this book.</p>\n<!-- more -->\n<p><em>Creating Mobile Apps With Sencha Touch 2</em> is a very comprehensive guide for writing data-driven mobile applications, but it begins with the novice in mind. The first chapter, &quot;A Simple Task List&quot;, walks us through creating a simple TODO list application. This chapter focuses on some of the fundamentals of Sencha Touch such as how to use Sencha Architect, which is essentially a WYSIWYG interface for creating Sencha apps.</p>\n<p>Chapter 2 is titled &quot;A Feed Reader.&quot; It walks us through working with remote data proxies. In addition to walk us through using JSONP, it also introduces more sophisticated options like using YQL to serve up data remotely.</p>\n<p>Chapter 3 covers working with Sencha Touch in the command line using the Sencha CMD tool. I had just started using Sencha CMD on a project a few weeks before, so this chapter was especially interesting to me.</p>\n<p>The 4th chapter gives us some information on working with Sencha Charts. I haven&#39;t had the pleasure of working with Sencha Charts on any of my projects yet, and the last time I had worked with EXT-style charts was 3 or 4 years ago, so I was pleasantly surprised at how easy they are to work with.</p>\n<p>Chapter 5 guides us through working with Sencha.io, which is currently a free place where you can deploy Sencha Touch applications into the cloud. The cool thing about Sencha.io is that it handles all of the server-side database interactions for you so that you can totally focus on writing client-side code.</p>\n<p>Chapter 6 is about writing APIs that work well with Sencha Touch. It specifically talks about REST-based APIs since the Sencha Touch Ajax proxy is geared toward that.</p>\n<p>Chapter 7 is about working with external APIs that you don&#39;t write yourself. It specifically focuses on Foursquare and Google Maps.</p>\n<p>Chapter 8 is about using profiles, which is an easy way that Sencha Touch has introduced to deal with multiple devices and screen resolutions inside the same app.</p>\n<p>Chapter 9 delves into working with the native device camera. It shows you how to capture, store and display images on the mobile device.</p>\n<p>The 10th chapter shows how you can even use Sencha Touch to create a functional mobile game. It also provides some great insights into how the Sencha Touch controller can be used.</p>\n<p>This is a really helpful book whether you are just starting out with Sencha Touch, or if you have been using it for a while, but would like to improve your skillset. If you have already been using Sencha Touch, you may want to skip over the first few chapters, but there is still plenty to learn in this book.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=EFEEEE&amp;IS2=1&amp;bg1=EFEEEE&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=tf_til&amp;asins=1849518904\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>"},"using-local-storage-in-sencha-touch-2-2":{"published":true,"title":"Using Local Storage in Sencha Touch 2.2","tags":["Sencha","LocalStorage"],"category":"code","date":"4-19-2013","thumbnail":"/images/blog/storage.jpg","slug":"using-local-storage-in-sencha-touch-2-2","yield":"<p>The Sencha Touch data model makes working with data really easy. One of the coolest things that the data model provides is an abstraction layer for HTML5 local storage. There are several types of local storage out there right now and they enjoy varying degrees of browser support. Sencha Touch opts for the simple key-value storage because it is supported in basically every relevant browser today.</p>\n<!-- more -->\n<p>Since the structure of key-value storage is basically flat, Sencha Touch automatically converts more complex data types like objects and arrays to strings before the data is stored. When the data is accessed later on, Sencha Touch converts it back to the data type it was originally in.</p>\n<p>When you generate a new app with <a href=\"http://www.sencha.com/products/sencha-cmd/download\">Sencha Cmd</a>, you will automatically get a &quot;model&quot; and a &quot;store&quot; directory for your app.</p>\n<p>First, we&#39;ll create our application:</p>\n<pre><code class=\"language-bash\">sencha generate app --name MyApp --path MyApp; cd MyApp\n</code></pre>\n<p>Now, we can generate a model.</p>\n<pre><code class=\"language-bash\">sencha generate model Person id:int,firstName,lastName\n</code></pre>\n<p>The model will go into our &quot;app/models&quot; directory. We&#39;ll need to make a couple of tiny edits to it to make it work with localstorage:</p>\n<pre><code class=\"language-javascript\">Ext.define(&#39;MyApp.model.Person&#39;, {\n    extend: &#39;Ext.data.Model&#39;,\n\n    config: {\n        fields: [\n            { name: &#39;id&#39;, type: &#39;int&#39; },\n            { name: &#39;firstName&#39;, type: &#39;auto&#39; },\n            { name: &#39;lastName&#39;, type: &#39;auto&#39; }\n        ],\n\n        proxy: {\n            type: &#39;localstorage&#39;,\n            id: &#39;people&#39;\n        }\n    }\n\n});\n</code></pre>\n<p>As you can see, we&#39;ve added a proxy to the model. Now we&#39;ll create our People store. This should be called People.js and live under the &quot;app/store&quot; directory:</p>\n<pre><code class=\"language-javascript\">Ext.define(&#39;MyApp.store.People&#39;, {\n  extend: &#39;Ext.data.Store&#39;,\n  config: {\n    model: &#39;MyApp.model.Person&#39;,\n    autoLoad: true,\n    proxy: {\n      type: &#39;localstorage&#39;,\n      id: &#39;people&#39;\n    }\n  }\n});\n</code></pre>\n<p>Now, if you add data to the store and sync it, it will persist. Try something like this:</p>\n<pre><code class=\"language-javascript\">var people = Ext.getStore(&#39;People&#39;);\nconsole.log(people.data.all); // []\npeople.add({ firstName: &#39;Tyson&#39;, lastName: &#39;Cadenhead&#39; });\npeople.sync();\nconsole.log(people.data.all); // [{ ... }]\n</code></pre>\n<p>If you run that in Chrome and look under &quot;Local Storage&quot;, you will see that the record has been added. The data will be maintained in the user&#39;s browser unless they clear it. Syncing Sencha Touch apps with local storage is literally that easy.</p>\n"},"knockout-observables":{"published":true,"title":"Knockout Observables","tags":["Knockout"],"category":"code","date":"4-8-2013","thumbnail":"/images/blog/observers.png","slug":"knockout-observables","yield":"<p>Knockout JS is a fairly simple MVVM framework that aims to make data binding easier.</p>\n<p>The cool thing about Knockout is that you can essentially subscribe an element to a piece of data. When that data is updated, the DOM magically updates as well. To be more precise, its not really magic that&#39;s happening... it&#39;s JavaScript.</p>\n<!-- more -->\n<p>As a simple example, lets say you want to bind an element to a variable called &quot;randomNumber&quot;. The HTML template should look very familiar if you&#39;ve been using the HTML5 data sudo-attribute.</p>\n<pre><code class=\"language-html4strict\">&lt;p&gt;Random Number: &lt;span data-bind=&quot;text: randomNumber&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n</code></pre>\n<p>In our JavaScript, all we need to do is apply the RandomNumberViewModel and add a randomNumber observable inside of it. We&#39;ll call getNumber() to generate a random number. Now when the script is executed, the template is automatically updated with a fresh new random number.</p>\n<pre><code class=\"language-javascript\">function RandomNumberViewModel () {\n   function getNumber () {\n      return Math.random();\n   };\n\n   this.randomNumber = ko.observable(getNumber());\n\n};\n\nko.applyBindings(new RandomNumberViewModel());\n</code></pre>\n<p>But what if we want to update the number to a new random number every second? Once you assign a Knockout observable, that observable becomes a method that you can call to update the value. We&#39;ll set an interval to update to a new random number.</p>\n<pre><code class=\"language-javascript\">function RandomNumberViewModel () {\n   function getNumber () {\n      return Math.random();\n   };\n\n   this.randomNumber = ko.observable(getNumber());\n\n   setInterval(function () {\n      this.randomNumber(getNumber());\n   }.bind(this), 1000);\n\n};\n\nko.applyBindings(new RandomNumberViewModel());\n</code></pre>\n<p>Knockout also has a series of bindings that make calling events and updating data easier. We can use &quot;click&quot; to  bind a click event to buttons. Let&#39;s use that to create a stop and start button.</p>\n<pre><code class=\"language-html4strict\">&lt;p&gt;Random Number: &lt;span data-bind=&quot;text: randomNumber&quot;&gt;0&lt;/span&gt;&lt;/p&gt;\n&lt;button data-bind=&quot;click: startInterval&quot;&gt;Start!&lt;/button&gt;\n&lt;button data-bind=&quot;click: stopInterval&quot;&gt;Stop!&lt;/button&gt;\n</code></pre>\n<p>We&#39;ll also need to add stop and start methods to our ViewModel.</p>\n<pre><code class=\"language-javascript\">function RandomNumberViewModel () {\n   var interval;\n\n   function getNumber () {\n      return Math.random();\n   }\n\n   function startInterval () {\n      interval = setInterval(function () {\n         this.randomNumber(getNumber());\n      }.bind(this), 100);\n   }\n\n   this.randomNumber = ko.observable(getNumber());\n\n   this.stopInterval = function () {\n      clearInterval(interval);\n   }.bind(this);\n\n   this.startInterval = startInterval.bind(this);\n\n};\n\nko.applyBindings(new RandomNumberViewModel());\n</code></pre>\n<p>Knockout is a pretty awesome tool. The observables really make it useful for building complex single-page apps. I&#39;m looking forward to digging deeper into the framework in the near future.</p>\n"},"authentication-with-compound-passport":{"published":true,"title":"Authentication with Compound-Passport","tags":["Compound","Node","Authentication"],"category":"code","date":"4-3-2013","thumbnail":"/images/blog/passport.png","yield":"<p>One of the most useful CompoundJS plugins is <a href=\"https://npmjs.org/package/compound-passport\">Compound-Passport</a>. If you aren&#39;t familiar with <a href=\"http://passportjs.org/\">Passport</a>, it is an authentication library for Node that provides a common API to authenticate with Facebook, Twitter, Google, Github and over a hundred other OpenId and OAuth login sources.</p>\n<!-- more -->\n<p>This is how I was able to get authentication with Facebook added to an application within minutes.</p>\n<p>First of all, you&#39;ll need to have a CompoundJS app. If you need help with that, check out my previous blog post on <a href=\"/blog/how-do-yo-make-a-compoundjs-app/\">how to make a CompoundJS application</a>.</p>\n<p>My first step was to install the compound-passport package with npm.</p>\n<pre><code class=\"language-bash\">#install compound-passport\nnpm install compound-passport\n\n#install passport\nnpm install passport\n\n#install passports facebook authentication piece\nnpm install passport-facebook\n</code></pre>\n<p>As you can see, we&#39;re installing the Facebook connection module. If you want to do a different type of authentication, you&#39;ll need to install that module as well.</p>\n<p>The next step is to add the configuration file. This will need to be saved in config/passport.yml</p>\n<pre><code class=\"language-yml\">development:\n  baseURL: &#39;http://localhost:3000/&#39;\n  facebook:\n    apiKey: &quot;my-api-key&quot;\n    secret: &quot;my-secret&quot;\n</code></pre>\n<p>You will need to use your Facebook API Key and secret. You can acquire both of them from the <a href=\"Facebook Developers site\">https://developers.facebook.com/apps</a>.</p>\n<p>Next, we&#39;ll need to modify our config/autoload.js file. I&#39;m showing the entire file, but the only real takeaway here is that the array that is returned from the module.exports() function needs to contain require(&#39;compound-passport&#39;).</p>\n<pre><code class=\"language-javascript\">module.exports = function (compound) {\n  var defaultModules = [\n      &#39;jugglingdb&#39;,\n      &#39;co-assets-compiler&#39;\n    ], developmentModules = [];\n\n  if (&#39;development&#39; === compound.app.get(&#39;env&#39;)) {\n    developmentModules = [\n      &#39;ejs-ext&#39;,\n      &#39;seedjs&#39;,\n      &#39;co-generators&#39;,\n      &#39;compound-passport&#39;\n    ]\n  }\n\n  if (typeof window === &#39;undefined&#39;) {\n    return defaultModules.concat(developmentModules).map(require);\n  } else {\n    return []\n  }\n\n};\n</code></pre>\n<p>In Compound, any before() filters that are added to the controllers/application_controller.js file are called before any standard controller methods. If we do something like this, we will have a req.user object available if the Facebook session have been authenticated. Otherwise, it will be null.</p>\n<pre><code class=\"language-javascript\">before(function requireManager() {\n    User.find(session.passport.user, function (err, user) {\n        console.log(user);\n        if (user) {\n            req.user = user;\n        } else {\n            redirect(&#39;/login&#39;);\n        }\n        next();\n    });\n});\n</code></pre>\n<p>Last of all, if we create a login page like this, everything should come together.</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;/auth/facebook&quot;&gt;Login with Facebook&lt;/a&gt;\n</code></pre>\n<p>Has anyone else been working with Compound-Passport? My experience has been that even though the integration is fairly straightforward, the documentation is spotty enough that it isn&#39;t as easy to do as it should be. What has your experience been?</p>\n","slug":"authentication-with-compound-passport"},"unit-testing-with-thrill-js":{"published":true,"title":"Unit Testing with Thrill.js","tags":["Thrill","Queen","Testing","QUnit"],"category":"code","date":"4-1-2013","thumbnail":"/images/blog/thrill.png","slug":"unit-testing-with-thrill-js","yield":"<p>Functional testing the DOM can be a daunting task. Tools like <a href=\"http://qunitjs.com/\">Qunit</a> and <a href=\"http://visionmedia.github.com/mocha/\">Mocha</a> make it easier, but the real trick is automating the testing process from the Terminal so that it can run continuous integration in the background and throw errors when a test fails.</p>\n<!-- more -->\n<p><a href=\"http://thrilljs.com/\">Thrill.js</a> has turned out to be just the tool I was looking for. There are a few similar libraries out there. One of the more popular similar testing frameworks is <a href=\"http://karma-runner.github.com/0.8/index.html\">Karma</a>. In my opinion, the real win for Thrill is that it can kick off and run tests in multiple browsers extremely quickly. The reason for the speed is that Thrill uses <a href=\"http://queenjs.com/\">Queen</a> which lets you open a single page in all of your browsers that sits and waits for tests to be kicked off via a hidden iframe. The Queen server communicates with Thrill using Socket.io as the tests are completed.</p>\n<h3>Getting started with Thrill</h3><h5>Install Queen</h5><pre><code class=\"language-bash\">sudo npm install -g queen\n</code></pre>\n<h5>Start Queen</h5><pre><code class=\"language-bash\">queen -c localhost:9000\n</code></pre>\n<p>Now, open a browser and go to localhost:9000</p>\n<h5>Install Thrill</h5><pre><code class=\"language-bash\">sudo npm install -g thrill\n</code></pre>\n<h5>Write your tests</h5><pre><code class=\"language-html4strict\">&lt;!-- /spec/test.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;utf-8&quot;&gt;\n  &lt;title&gt;QUnit Example&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; href=&quot;http://code.jquery.com/qunit/qunit-1.11.0.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=&quot;qunit&quot;&gt;&lt;/div&gt;\n  &lt;div id=&quot;qunit-fixture&quot;&gt;&lt;/div&gt;\n  &lt;script src=&quot;http://code.jquery.com/qunit/qunit-1.11.0.js&quot;&gt;&lt;/script&gt;\n  &lt;script&gt;\n  test( &quot;hello test&quot;, function() {\n    ok( 1 == &quot;1&quot;, &quot;Passed!&quot; );\n  });\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h5>Run your tests</h5><p>Run your tests by navigating to your app directory and running:</p>\n<pre><code class=\"language-bash\">thrill spec/test.html\n</code></pre>\n<p>Thrill will typically do fine running your existing QUnit or Mocha tests right out of the box.</p>\n<p>I&#39;ve been really happy with Thrill so far. It requires very little configuration and it just works. Have you tried Thrill.js yet? What do you think of it?</p>\n"},"executeasyncscript-in-selenium-webdriver-for-node":{"published":true,"title":"executeAsyncScript() in Selenium Webdriver for Node","tags":["Testing","Selenium"],"category":"code","date":"3-22-2013","thumbnail":"/images/blog/selenium.png","slug":"executeasyncscript-in-selenium-webdriver-for-node","yield":"<p>If you aren&#39;t familiar with it, the <a href=\"https://code.google.com/p/selenium/wiki/WebDriverJs\">NodeJS version of the Selenium WebDriver</a> is a great way to write functional tests in JavaScript and automatically run them in your browsers.</p>\n<!-- more -->\n<p>The NodeJS WebDriver uses the <a href=\"https://code.google.com/p/selenium/downloads/list\">Selenium Server</a> Java jar under the covers to work its magic.</p>\n<p>The main downside of the WebDriver is that the documentation is inconclusive at best. I haven&#39;t been able to locate a unified list of the WebDriver methods anywhere on the internet. I&#39;m not even kidding. The best that I have been able to do is look at the Java documentation and make assumptions based it.</p>\n<p>My main struggle was finding a way to execute asynchronous JavaScript in a browser and send a callback to the server-side testing suite once the script had finished manipulating the DOM or running Ajax calls. The solution I was finally able to locate was the executeAsyncScript() method.</p>\n<p>I wrote my unit tests using <a href=\"http://visionmedia.github.com/mocha/\">Mocha</a>. The code below is what I used to kick off the testing suite. Note that you will need to install the <a href=\"https://code.google.com/p/selenium/downloads/list\">Java jar file</a> and open it, install the <a href=\"https://code.google.com/p/selenium/downloads/list\">Crome driver</a> and open it and of course install the <a href=\"https://npmjs.org/package/selenium-webdriver&quot;\">&quot;selenium-webdriver&quot;</a> and <a href=\"https://npmjs.org/package/assert\">&quot;assert&quot;</a> packages with npm before any of this will work.</p>\n<pre><code class=\"language-javascript\">var webdriver = require(&#39;selenium-webdriver&#39;),\n    assert = require(&#39;assert&#39;),\n    driver;\n\ndriver = new webdriver.Builder().usingServer(&#39;http://localhost:4444/wd/hub&#39;).withCapabilities({\n   &#39;browserName&#39;: &#39;chrome&#39;\n}).build();\n</code></pre>\n<p>Now that our webdriver is working, we just need to kick off our tests.</p>\n<pre><code class=\"language-javascript\">// describe() is from Mocha\ndescribe(&quot;Open the webpage&quot;, function () {\n\n   // This makes the WebDriver navigate to the page you want to test\n   driver.get(&quot;http://mywebsite.com/mypage&quot;);\n\n   // it() is for Mocha testing\n   it(&quot;Should open do my asynchronous bidding&quot;, function (done) {\n\n      // By default, Mocha&#39;s timeout is only a couple of seconds,\n      // which is usually too short for asynchronous calls\n      this.timeout(500000);\n\n      // driver.executeAsyncScript() allows us to run a script in the browser\n      driver.executeAsyncScript(\n\n      // Everything inside here will be executed by the browser, not the server\n      function (secondValue) {\n\n        // This is the callback function we can call when everything is done\n        var cb = arguments[ arguments.length - 1 ];\n\n        // We&#39;ll use setTimeout() to make the script\n        // wait before calling the callback\n        setTimeout(function () {\n           cb({\n              firstValue: 1,\n              secondValue: secondValue\n           });\n        }, 3000);\n\n      },\n\n      // You can pass variables from the server-side to the client-side \n      // by making them additional arguments\n      &#39;My Second Value&#39;\n\n      // This is the callback that is fired when the\n      // script is done executing in the browser\n      ).then(function (obj) {\n         assert.equal(obj.firstValue, 1);\n         assert.equal(obj.secondValue, &#39;My Second Value&#39;);\n         done();\n      });\n\n   });\n});\n</code></pre>\n<p>As you can see, using the executeAsyncScript() method can be invaluable.</p>\n<p>Have you played around with the Node Selenium WebDriver yet? What do you think of it?</p>\n"},"compoundjs-routes":{"published":true,"title":"Compound.js Routes","tags":["Compound"],"category":"code","date":"3-12-2013","thumbnail":"/images/blog/car.png","slug":"compoundjs-routes","yield":"<p><a href=\"/blog/how-do-yo-make-a-compoundjs-app\">Previously</a>, I introduced you to Compound, an awesome MVC framework for NodeJS. Today, I am going to expound on how the routing works in Compound.</p>\n<p>If you are not familiar with how MVC work, I suggest you take a look at some of my older articles about <a href=\"/blog/javascript-architecture\">JavaScript Architecture</a> and <a href=\"/blog/code-seperation/\">Code Separation</a>. From here on, I will assume that you have a basic understanding of the place of controllers in the MVC paradigm so that the routing will make sense. Let&#39;s begin.</p>\n<!-- more -->\n<p>The CompoundJS router is built on top of the ExpressJS router, so if you are familiar with Express, the syntax should look suspiciously similar. Your router will be located in the /config/routes.js file. It should look something like this:</p>\n<pre><code class=\"language-javascript\">exports.routes = function (map) {\n    // Generic routes. Add all your routes below this line\n    // feel free to remove generic routes\n    map.all(&#39;:controller/:action&#39;);\n    map.all(&#39;:controller/:action/:id&#39;);\n};\n</code></pre>\n<p>As you can see, the router above is setting some basic global rules. If we hit /users/create it will resolve to the &quot;create&quot; method of the users controller. If we hit /users/edit/12 it will resolve to the &quot;edit&quot; method of the users controller with an id of &quot;12&quot; passed into the method.</p>\n<p>To map all of the basic CRUD functionality to a Compound controller, just add:</p>\n<pre><code class=\"language-javascript\">map.resources(&#39;users&#39;);\n</code></pre>\n<p>Yes, that is just one line of code, but it magically maps all of these routes:</p>\n<ul>\n<li>users GET - users#index</li>\n<li>users POST - users#create</li>\n<li>users/new GET - users#new</li>\n<li>users/:id/edit - users#edit</li>\n<li>users/:id DELETE - users#destroy</li>\n<li>users/:id PUT - users#update</li>\n<li>users/:id - users#show</li>\n</ul>\n<p>That will cover many of your routing needs, but if you need to make a route go directly to a controller method, the syntax looks like this:</p>\n<pre><code class=\"language-javascript\">map.get(&#39;users/login&#39;, &#39;users#login&#39;);\n</code></pre>\n<p>With the code above, you will be able to go to the /users/login URL and it will resolve to the &quot;login&quot; method of the users controller.</p>\n<p>To map your homepage, you can use map.root like this:</p>\n<pre><code class=\"language-javascript\">map.root(&#39;pages#home&#39;);\n</code></pre>\n<p>The above snippet will map to the &quot;home&quot; method of the pages controller.</p>\n<p>The Compound routing is very robust, so you may need to read through the documentation to see everything that it can do for you.</p>\n"},"what-are-the-best-productivity-apps-for-osx":{"published":true,"title":"What are the Best Productivity Apps for OSX?","tags":["Productivity","OSX"],"category":"productivity","date":"3-5-2013","thumbnail":"/images/blog/multitasking.png","slug":"what-are-the-best-productivity-apps-for-osx"},"how-do-yo-make-a-compoundjs-app":{"published":true,"title":"How Do You Make a Compound.js Application?","tags":["Compound"],"category":"code","date":"2-27-2013","thumbnail":"/images/blog/compound.png","slug":"how-do-yo-make-a-compoundjs-app","yield":"<p>NodeJS may still be young, but there are already several MVC frameworks popping up to run exclusively on Node. My favorite is <a href=\"http://compoundjs.com/\">CompoundJS</a>.</p>\n<!-- more -->\n<p>Compound was written to look like to Ruby on Rails. In fact, Compound&#39;s original name was &quot;Railway on Express.&quot; As the defunct name implies, Compound runs on top of <a href=\"http://expressjs.com/\">the ExpressJS framework</a>. Some of the reasons to use Compound instead of simply running a vanilla installation of Express are that:</p>\n<ul>\n<li>Compound provides a structure for where things are supposed to go and how they are supposed to be used.</li>\n<li>Compound uses the MVC architecture, which makes maintaining code much easier, especially for those of us who are familiar with it.</li>\n<li>Compound provides scaffolding so you can generate portions of your application from the command line.</li>\n<li>Compound ships with a library called JugglingDB, which abstracts the database layer of your application and allows you to use MongoDB, Redis, LocalStorage and MySQL interchangeably.</li>\n</ul>\n<p>There are a few other Node MVC frameworks out there, such as <a href=\"http://towerjs.org/\">TowerJS</a>, but one of my favorite things about Compound is that it doesn&#39;t force you to write in CoffeeScript. If you prefer CoffeeScript, you can use it, but using the JavaScript syntax is just as acceptable.</p>\n<h3>Installing Compound</h3><p>Compound is registered as an npm package, so you can install it globally using:</p>\n<pre><code class=\"language-bash\">sudo npm install compound -g\n</code></pre>\n<h3>Creating an App</h3><p>We&#39;ll make a basic application to keep track of our monthly budget. Since we are so creative, we&#39;ll name our application &quot;budget&quot;.</p>\n<pre><code class=\"language-bash\">compound init budget &amp;&amp; cd budget\nnpm install\n</code></pre>\n<h3>Scaffold Categories</h3><p>One of the best features of Compound is the built-in scaffolding. The scaffolding will create the ORM, controller, views, routes and tests for our budget categories:</p>\n<pre><code class=\"language-bash\">compound generate crud category name amount:number active:boolean\n</code></pre>\n<p>Let&#39;s break this down. The first argument after the &quot;crud&quot; is the name of the model. All of the arguments after the model name are the fields that the model contains. The fields can be cast to a type when they are divided by a colon. If no type is provided, Compound assumes the field is a string.</p>\n<h3>Start the server</h3><p>To start the server, you can run:</p>\n<pre><code class=\"language-bash\">compound server 8080\n</code></pre>\n<p>Compound will start the server using the port that you specified. Since we started our server on port 8080, we should be able to go to <a href=\"http://localhost:8080/categories\">http://localhost:8080/categories</a> and see the index page of categories that we scaffolded a moment ago.</p>\n<p>The index of categories should look like this:</p>\n<p><img src=\"/images/blog/compound1.png\" alt=\"Compound\"></p>\n<p>Out of the box, Compound uses Twitter Bootstrap to style the views. You can usually customize the views and get them looking pretty good with very minimal effort.</p>\n<p>Compound has generated all of the basic user interface from our one line of scaffolding instructions. You can use the interface to add new categories.</p>\n<p><img src=\"/images/blog/compound2.png\" alt=\"Compound\"></p>\n<p>Once a category is created it will show up in the index.</p>\n<p>The scaffolding also generates a details view that displays more information about the category.</p>\n<p><img src=\"/images/blog/compound3.png\" alt=\"Compound\"></p>\n<p>As you can see, Compound outputs a completely functional interface.</p>\n<p>If this introduction is useful to anyone, I&#39;d love to expand on it and get deeper into more advanced aspects of how Compound actually works.</p>\n<p>Is anyone else using Compound for application development? What have your experiences been with it?</p>\n"},"how-do-you-write-an-anvil-js-plugin":{"published":true,"title":"How Do You Write an Anvil.js Plugin?","tags":["Anvil","Build"],"category":"code","date":"2-21-2013","thumbnail":"/images/blog/anvil.png","slug":"how-do-you-write-an-anvil-js-plugin","yield":"<p><a href=\"http://anviljs.com\">Anvil.js</a> is a powerful &quot;Convention over configuration&quot; build tool that was built by <a href=\"http://twiiter.com/a_robson\">Alex Robson</a> and sponsored by <a href=\"http://appendto.com\">appendTo</a>, which is incidentally where I work now.</p>\n<!-- more -->\n<p>One of the most powerful things about Anvil is that it has an intentionally light core. It was meant to be primarily run by plugins. Authoring Anvil plugins is a pretty painless ordeal. Today, I&#39;m going to walk you through the process of creating an Anvil plugin. Once you see how simple it is, you&#39;ll probably find yourself writing plugins to make your own build more efficient. Let&#39;s get started.</p>\n<h3>1. Install Anvil</h3><p>If you haven&#39;t installed <a href=\"http://anviljs.com\">anvil</a> yet, that will be where you need to start. If you already have Node installed, you will just need to run this in the terminal:</p>\n<pre><code class=\"language-bash\">npm install anvil.js -g\n</code></pre>\n<h3>2. Create a sandbox project to test your plugin in</h3><p>It is usually helpful to sandbox your plugin development just in case something goes terribly wrong. The last thing you want is to run a build and have it wipe out your entire project. These things can happen. Trust me.</p>\n<p>We&#39;ll create a generic project so we can rest easy.</p>\n<pre><code class=\"language-bash\">mkdir anvil-helloworld-sandbox\ncd anvil-helloworld-sandbox/\n</code></pre>\n<h3>3. Create your sandbox build.json file</h3><p>Anvil uses a file called build.json to determine which Anvil plugins will be used and how they will be used. The file will go at the root of our sandbox project directory. It can be as simple as this:</p>\n<pre><code class=\"language-javascript\">{}\n</code></pre>\n<p>In order to run our plugin, we&#39;ll need an extra line to pass in some configuration information. Our build.json will look like this:</p>\n<pre><code class=\"language-javascript\">{\n    &quot;anvil.helloworld&quot;: {\n        &quot;greeting&quot;: &quot;How are you today?&quot;    \n    }\n}\n</code></pre>\n<p>We&#39;ll revisit how to access the greeting we passed in. For the time being, you just need to know that you can use it.</p>\n<h3>4. Create your plugin directory</h3><p>We&#39;ll create a directory called &quot;anvil-helloworld&quot; where our plugin will live during development.</p>\n<pre><code class=\"language-bash\">mkdir anvil.helloworld\ncd anvil.helloworld\n</code></pre>\n<p>So, what does the anvil plugin need to work? Not much, really. A typical Anvil plugin directory would look something like this:</p>\n<pre><code class=\"language-text\">/anvil.helloworld\n    /lib\n        plugin.js\n    /spec\n        plugin.spec.js\n    /src\n        plugin.js\n    build.json\n    package.json\n    README.md\n</code></pre>\n<p>It&#39;s less complicated than it looks. Let&#39;s break it down.</p>\n<h4>build.json</h4><p>We&#39;ll be building our plugin with Anvil, so a build.json file is needed. For our purposes, there is no need for any configuration, so the entire file can just be an empty object:</p>\n<pre><code class=\"language-javascript\">{}\n</code></pre>\n<h4>package.json</h4><p>This is for npm (Node Package Management) to register the plugin. It should look something like this:</p>\n<pre><code class=\"language-javascript\">{\n  &quot;author&quot;: {\n    &quot;name&quot;: &quot;Tyson Cadenhead&quot;,\n    &quot;email&quot;: &quot;tcadenhead@appendto.com&quot;,\n    &quot;url&quot;: &quot;http://appendto.com&quot;\n  },\n  &quot;name&quot;: &quot;anvil.helloworld&quot;,\n  &quot;description&quot;: &quot;An example plugin for anvil&quot;,\n  &quot;version&quot;: &quot;0.0.1&quot;,\n  &quot;repository&quot;: {\n    &quot;type&quot;: &quot;git&quot;,\n    &quot;url&quot;: &quot;git://github.com/tysoncadenhead/anvil.helloworld.git&quot;\n  },\n  &quot;engines&quot;: {\n    &quot;node&quot;: &quot;~0.8.15&quot;\n  },\n  &quot;main&quot;: &quot;./lib/plugin.js&quot;,\n  &quot;dependencies&quot;: {\n  },\n  &quot;devDependencies&quot;: {\n    &quot;anvil.js&quot;: &quot;&gt;=0.9.0&quot;\n  },\n  &quot;optionalDependencies&quot;: {},\n  &quot;readme&quot;: &quot;## Anvil Helloworld Plugin\\n\\nThis plugin requires anvil.js version 0.9.* or greater.\\n\\n## Installation\\n\\n\\tanvil install anvil.helloworld&quot;,\n  &quot;_id&quot;: &quot;anvil.helloworld@0.0.1&quot;,\n  &quot;_from&quot;: &quot;anvil.helloworld&quot;\n}\n</code></pre>\n<h4>/lib</h4><p>You won&#39;t need to worry about creating the /lib directory because you can use Anvil to build it from the /src files. One of the cool things about Anvil is that it is a perfect tool for building its own plugins.</p>\n<h4>/spec</h4><p>We won&#39;t focus much on the spec directory here, but it is for your unit tests. I would recommend writing <a href=\"http://visionmedia.github.com/mocha/\">Mocha tests</a> for any Anvil plugins that you create.</p>\n<h4>/src</h4><p>This is where the meat of the plugin is located. Our &quot;Hello World&quot; plugin.js would look like this:</p>\n<pre><code class=\"language-javascript\">var pluginFactory = function( _, anvil ) {\n\n    return anvil.plugin({\n\n        // Name of the plugin\n        name: &quot;anvil.helloworld&quot;,\n\n        // Activity list: &quot;pre-build&quot;, &quot;identify&quot;, &quot;pull&quot;, &quot;combine&quot;, &quot;pre-process&quot;, &quot;compile&quot;, &quot;post-process&quot;, &quot;push&quot;, &quot;test&quot;, &quot;post-build&quot;\n        activity: &quot;post-process&quot;,\n\n        // [ &quot;-h, --helloworld&quot;, &quot;Run this helloworld plugin&quot; ]\n        commander: [],\n\n        // This is to configure the plugin with\n        configure: function( config, command, done ) {\n            done();\n        },\n\n        // This is always called\n        run: function( done ) {\n            console.log(&quot;HELLO WORLD!!!&quot;);\n            done();\n        }\n\n    });\n\n};\n\nmodule.exports = pluginFactory;\n</code></pre>\n<p>Anvil plugins are created using the anvil.plugin() method. Every pluginFactory gets the underscore.js library and anvil passed in as its arguments.</p>\n<h3>5. Run your plugin locally</h3><p>To get anvil to use your plugin as a part of the build process, just navigate into the root of your plugin directory in the terminal and run:</p>\n<pre><code class=\"language-bash\">anvil install .\n</code></pre>\n<p>Now if you go back to your plugin sandbox directory and run anvil, you should see it log &quot;HELLO WORLD!!!&quot; among the other feedback it will give you.</p>\n<h3>6. Get config data in the plugin</h3><p>I told you we were going to talk about how to get our configuration data, didn&#39;t I?</p>\n<p>All of the config information is available in the this.config variable. For example, we can add the greeting that we had in the build.json file like this:</p>\n<pre><code class=\"language-javascript\">run: function( done ) {\n    console.log(&quot;HELLO WORLD!!!! &quot; + this.config.greeting);\n    done();\n}\n</code></pre>\n<p>There is also plenty of helpful configuration information inside of the anvil.config object. I would advise logging the entire object like this so that you can see what is available:</p>\n<pre><code class=\"language-javascript\">run: function( done ) {\n    console.log(anvil.config);\n    done();\n}\n</code></pre>\n<p>Some of the notable parameters are:</p>\n<ul>\n<li><strong>working</strong> - The path to the directory where temporary files are processed</li>\n<li><strong>source</strong> - The path where the original unbuilt project lives</li>\n<li><strong>spec</strong> - The path where unit tests live for the project</li>\n<li><strong>output</strong> - The directory where the files will live once the project is built</li>\n</ul>\n<p>The anvil.fs object also gives you access to the entire file system, which makes it easy to modify the files in your build.</p>\n<h3>7. Publish your Anvil plugin</h3><p>Once you&#39;ve finished writing your plugin, you will want to publish it.  You will need an account at <a href=\"https://npmjs.org/\">npmjs.org</a> in order to publish your plugin.</p>\n<p>After you have an account, you can just navigate to the directory of your plugin and run:</p>\n<pre><code class=\"language-bash\">npm publish\n</code></pre>\n<p>Anvil automatically pulls in any plugins in the anvil namespace, so your plugin will be available if you run &quot;anvil list&quot; in your terminal:</p>\n<pre><code class=\"language-bash\">anvil list\n</code></pre>\n<h3>8. Go make some awesome plugins!</h3><p>The &quot;Hello World&quot; plugin that we just walked through is <a href=\"https://github.com/tysoncadenhead/anvil.helloworld\">available on Github</a> for you to poke around with.</p>\n<p>There is really no limit to what you can do with Anvil plugins, so go fourth and conquer.</p>\n<p>If you use this tutorial to create an awesome Anvil plugin, please let me know. I&#39;d love to hear about it!</p>\n"},"what-is-jquery-map":{"published":true,"title":"What is jQuery.map?","tags":["jQuery","JavaScript"],"category":"code","date":"2-15-2013","thumbnail":"/images/blog/map.png","slug":"what-is-jquery-map"},"getting-the-most-out-of-your-time":{"published":true,"title":"Getting the Most Out of Your Time","tags":["Productivity"],"category":"productivity","date":"2-4-2013","thumbnail":"/images/blog/machine.png","slug":"getting-the-most-out-of-your-time","yield":"<p>A few years ago, I was working for a small startup in the financial industry. We were working against time to get an application finished before the dwindling money supply was depleted. In the end, we were not able to meet our mark. However, during my time there, I became known as &quot;the Machine&quot; because of my intent focus on our work.</p>\n<!-- more -->\n<p>Staying focused on development work can be more difficult than you might think. The very nature of our work demands that we are constantly online, almost always available for chat or quick voice conversations and sometimes even working directly in Facebook and other social networks, which have a nasty tendency to pull us in every direction but productivity.</p>\n<p>Software development is tricky because most of the work is done in your brain. You have to constantly keep track of where you are in your code. You also have to keep track of how the code you are working on relates to the entirety of the application. A distraction that lasts even just thirty seconds can get you off track to a point where it takes fifteen minutes or more to re-familiarize yourself with the code. </p>\n<p>I don&#39;t feel like I deserve a nickname like &quot;the Machine&quot; because I do lose my focus more often than I&#39;d like to admit. It is just as easy for a well oiled machine to lose focus as anyone else. Lately, I&#39;ve been working on developing a list of guidelines that can keep me from going down the dark road of distraction. Here are a few things that keep me on track.</p>\n<h3>Make a list of what you need to get done</h3><p>You could just write a list on a piece of paper each morning. I use <a href=\"http://wunderlist.com\">Wunderlist</a>. The key here is to leave your list in a place where you can easily see it throughout the day. Order your list starting with the things that you need to get done most urgently all the way down to the least important. When you get derailed, you can easily flip back to your list and see where you should be at. When something is finished, check it off the list. Start each day making your fresh list for the day.</p>\n<h3>Don&#39;t waste time on sites and social networks that don&#39;t help you reach your goals for the day</h3><p>It is very easy to justify flipping over to Facebook to see if anyone liked your latest cat photo. The danger is that the newsfeed can suck you in. For me, it is helpful to entirely restrict my access to the sites that I know will tempt me throughout the day. I use <a href=\"http://selfcontrolapp.com/\">Self Control</a> for the Mac, to entirely block my access to sites like Facebook, Twitter, and YouTube for large chunks of time while I&#39;m trying to focus. Checking social networks can become a mindless activity, so it is sometimes necessary to not allow yourself access to them.</p>\n<h3>Schedule social media breaks</h3><p>If you do need to keep up with things like Twitter or Email, it is better to schedule times to check them as well as times to keep them entirely closed. <a href=\"http://www.fourhourworkweek.com/blog/\">Tim Ferriss</a>, the author of the Four Hour Workweek, suggests checking your email and even snail mail as infrequently as once a month. That isn&#39;t practical for most of us who are expected to keep up with clients and coworkers, but it can be helpful to block off once or twice a day for checking social networks and email. That way, you don&#39;t get into the habit of mindlessly checking them throughout the day. It also helps to schedule your tweets and Facebook posts. That serves a dual purpose of allowing you to post at prime-time hours and also allows you use a certain section of the day or week to make them and still give the illusion that you&#39;re an active social media user.</p>\n<h3>Wear headphones</h3><p>Whether you work from home and need to tune out <a href=\"http://pbskids.org/daniel/\">Daniel Tiger&#39;s Neighborhood</a> on the TV in the next room, or you work in a traditional office setting and don&#39;t want to be distracted every time the guy in the next-door cubicle has a rant about Apple computers, keeping some music in your ears to drown out the chatter can be invaluable. It can also be helpful to take the occasional real-life break after a couple hours of focused working. I used to take a walk every day right before lunch. I really need to get back into that habit.</p>\n<h3>Prioritize things that can be done quickly</h3><p>If you have several things on your todo list that can be done in 15 minutes or less, it can sometimes be helpful to do them first. That way, you can build up momentum as you enter into the bigger tasks. Personally, if I feel like I&#39;m really winning in the small things, once I get to the bigger things that I&#39;ve been dreading, they don&#39;t feel as intimidating anymore because I already feel like a winner.</p>\n<h3>Use caffeine</h3><p>I always drink a cup of coffee in the morning and a cup of tea in the afternoon. I find that they help me to focus during the times of day when my mind starts to feel tired and fatigued.</p>\n<h3>Always look forward</h3><p>If you messed up yesterday and watched eight hours of Star Wars fan videos, don&#39;t worry about it. You can&#39;t control the mistakes you made in the past, but you can be more productive in the future. Start each day fresh and do the best you can.</p>\n<p>As an addendum, I was distracted seven separate times while I was writing this. All seven times were real-life distractions that had absolutely nothing to do with the internet. These sorts of distractions can&#39;t always be avoided and luckily, it is much easier to regain context when writing a blog entry than when writing a complex piece of code. The best way to avoid these distractions is to work in a separate space like a private office or a coffee shop where you can be free to completely get lost in your work.</p>\n<p>The thing that motivates me the most when my focus is waining is to think about how I will feel at the end of the day. If I let myself get easily distracted, I will accomplish less, feel less fulfilled and inevitably be exhausted at the end of the day. If I focus to the best of my ability, I will accomplish more, I will feel more fulfilled and though I might be tired at the end of the day, it will a good kind of exhaustion. I would rather feel that way any day.</p>\n<p>What do you do to stay focused and get the most out of your time? Do you use any productivity software that has become an invaluable part of your work-stream?</p>\n"},"hosting-multiple-websites-on-the-same-wordpress-installation":{"published":true,"title":"Hosting Multiple Websites on the Same WordPress Installation","tags":["Wordpress"],"category":"code","date":"1-28-2013","thumbnail":"/images/blog/wordpress.png","yield":"<p>I have several Wordpress websites that I&#39;ve designed and developed. Perhaps a little known secret is that I have all of the sites hosted inside a single Wordpress installation instead of hosting a completely unique installation for each site. Sharing a common code-base for the heavy lifting has some great benefits.</p>\n<!-- more -->\n<ul>\n<li>It takes up less space on my server.  Wordpress isn&#39;t huge considering what it does, but every 12.8 MB counts.</li>\n<li>It makes updates easier.  When there is a new version of Wordpress available, I can update it for all of my sites at once.</li>\n<li>Sharing plugins is nice.  Once you have installed a plugin for one of your sites, it&#39;s also available for all of your other sites without having to download it again for a separate Wordpress installation.</li>\n</ul>\n<p>So how do I host more than one site on the same installation?  I&#39;m glad you asked.</p>\n<p>First things first, you&#39;ll want to set up a local development environment. You&#39;ll use it to view your sites in locally so that you don&#39;t screw things up on your production server.</p>\n<p>If you haven&#39;t done this already, (download the latest version of Wordpress)[<a href=\"http://wordpress.org/download/\">http://wordpress.org/download/</a>] and put it under your /Sites/wordpress directory. Go through the installation process.  For the sake of this tutorial, I will be using <a href=\"http://www.apachefriends.org/en/xampp.html\">XAMPP</a> for Apache and mySQL, but feel free to use whatever Apache installation you like.</p>\n<p>Once you have Apache running and have installed Wordpress, it&#39;s time for the real fun to begin.</p>\n<p>You will need to add a few sites to your host file.  If you&#39;re on a Mac, you can get there by opening your terminal and typing</p>\n<pre><code class=\"language-text\">sudo vim /private/etc/hosts\n</code></pre>\n<p>If you are on Windows, it&#39;s probably somewhere around:</p>\n<pre><code class=\"language-text\">C:\\system32\\drivers\\etc\\hosts\n</code></pre>\n<p>For the sake of this tutorial, we&#39;ll say that we are hosting two Wordpress sites for now.  One of the sites is a blog about my dog, Arthur, so the URL will be <a href=\"http://mydogarthur.com\">http://mydogarthur.com</a> and the other site is about my love of tea and will be hosted at <a href=\"http://teatyson.com\">http://teatyson.com</a>. In order to view these sites locally, we would add these lines to our host file:</p>\n<pre><code class=\"language-text\">127.0.0.1       mydogarthur.loc\n127.0.0.1       teatyson.loc\n</code></pre>\n<p>Now, whenever we go to <a href=\"http://mydogarthur.loc\">http://mydogarthur.loc</a> or <a href=\"http://teatyson.loc\">http://teatyson.loc</a>, it will direct us to our local machine. If you&#39;ve never done anything like this, just be aware that 127.0.0.1 is always your local IP address.</p>\n<p>Once you update your hostfile, restart your Apache server and go to one of the addresses you added. It will probably give you a message telling you that the location is not available. That&#39;s fine, because we still have work to do.</p>\n<p>Now you will need to open your virtual hosts file. If you are using XAMPP, it will be under /xamppfiles/etc/extra/httpd-vhosts.conf. You will need to add a few lines to tell Apache what directory to serve up when your domains are accessed.</p>\n<pre><code class=\"language-text\">&lt;VirtualHost *:80&gt;\n    DocumentRoot &#39;/Users/wordpress/&#39;\n    ServerName mydogarthur.loc\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:80&gt;\n    DocumentRoot &#39;/Users/wordpress/&#39;\n    ServerName teatyson.loc\n&lt;/VirtualHost&gt;\n</code></pre>\n<p>The last configuration you will need to do is in the wp-config.php file directly under the Wordpress root. If you&#39;ve gone through the Wordpress installation process, there should already be a database connection set up. You can copy your database if you go to <a href=\"http://localhost/phpmyadmin\">http://localhost/phpmyadmin</a>. We will make a copy called &quot;mydogarthurs_database&quot; and another copy called &quot;teatysons_database.&quot; Then, we will replace the database connection in wp-config.php with a switch statement like this:</p>\n<pre><code class=\"language-php\">switch($_SERVER[&quot;HTTP_HOST&quot;]) {\n\n    // Development\n\n    case &#39;mydogarthur.loc&#39;:\n        define(&#39;DB_NAME&#39;, &#39;mydogarthurs_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;mydogarthurs_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;mydogarthurs_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n    case &#39;teatyson.loc&#39;:\n        define(&#39;DB_NAME&#39;, &#39;teatysons_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;teatysons_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;teatysons_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n    // Production\n\n    case &#39;mydogarthur.com&#39;:\n        define(&#39;DB_NAME&#39;, &#39;mydogarthurs_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;mydogarthurs_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;mydogarthurs_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n    case &#39;teatyson.com&#39;:\n        define(&#39;DB_NAME&#39;, &#39;teatysons_database&#39;);\n        define(&#39;DB_USER&#39;, &#39;teatysons_database_user&#39;);\n    define(&#39;DB_PASSWORD&#39;, &#39;teatysons_database_password&#39;);\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\n    break;\n\n}\n</code></pre>\n<p>Finally, restart your Apache server. You should have a different database connection for <a href=\"http://teatyson.loc\">http://teatyson.loc</a> and <a href=\"http://mydogarthur.com\">http://mydogarthur.com</a>. Since everything, including the theme is driven from the database, you can easily serve up completely different content from each domain.</p>\n","slug":"hosting-multiple-websites-on-the-same-wordpress-installation"},"top-10-backbone-plugins":{"published":true,"title":"Top 5 Backbone Plugins","tags":["Backbone","JavaScript"],"category":"code","date":"1-22-2013","thumbnail":"/images/blog/plugin.png","slug":"top-10-backbone-plugins","yield":"<p>BackboneJS is a great framework for building large scalable JavaScript applications. One of the best things about Backbone is that the community has built countless amazing plugins that extend the Backbone namespace. I&#39;ve compiled a list with just a few of my very favorite Backbone plugins.</p>\n<!-- more -->\n<h3><a href=\"https://github.com/powmedia/backbone-forms\">Backbone Forms</a></h3><p>This is a nifty plugin that generates all of the UI for forms complete with validation. All of the form behavior is customizable and most of the meat of the form display and validation is driven by the Backbone model.</p>\n<h3><a href=\"https://github.com/pyronicide/backbone.couchdb.js\">Backbone.CouchDB.js</a></h3><p>This plugin hooks up Backbone models and collections to couchdb for storage. The only downside is that instead of using Backbone.Collection, you will have to extend Backbone.couch.Collection to get this to work.</p>\n<h3><a href=\"https://github.com/PaulUithol/Backbone-relational\">Backbone.Relational</a></h3><p>One of the more frustrating things about Backbone is its lack of a relational model. With this plugin, you can make basic associations like &quot;one to one&quot;, &quot;one to many&quot; and &quot;many to many&quot;.</p>\n<h3><a href=\"https://github.com/juggy/backrub\">Backrub</a></h3><p>Backrub is a Backbone plugin that allows you to keep your templates up to date with current data all the time without any further manipulation.</p>\n<h3><a href=\"https://github.com/tbranyen/backbone.layoutmanager\">Backbone Layout Manager</a></h3><p>Backbone layout manager is a layout and template manager for Backbone. It is designed to make dealing with the Backbone.View logical and simple</p>\n<p>I&#39;ve doubtlessly failed to mention even a fraction of the amazing Backbone plugins. What are some of your favorites?</p>\n"},"how-can-i-share-ejs-templates-between-the-client-side-and-the-server-side":{"published":true,"title":"How Do I Share EJS Templates Between the Client-side and the Server-side?","tags":["EJS","Templates","Node","JavaScript"],"category":"code","date":"1-15-2013","thumbnail":"/images/blog/sharing.png","slug":"how-can-i-share-ejs-templates-between-the-client-side-and-the-server-side","yield":"<p>The release of Node.js in 2009 ushered in discussions about the endless possibilities for sharing code between the client-side and the server side. While there are several good examples of entire libraries working very well on both ends, most of the projects that are written in Node tend to shy away from sharing the meat of the application with the browser. I think that the real issue is developers being stuck in our ways. We are trying to write traditional web apps in a language that can actually go beyond what traditional scripting languages were even capable of.</p>\n<!-- more -->\n<p>The way I am going to propose we build a Node web application isn&#39;t a typical MVC setup. However, if we are trying to be purposeful about sharing components, I feel like it really works.</p>\n<p>For the sake of this discussion, I&#39;ll be using <a href=\"http://expressjs.com/\">Express.js</a> and <a href=\"http://underscorejs.org/\">Underscore</a>. I will also assume that you are familiar with Node and have it running locally on your machine.</p>\n<p>This is what our folder structure will look like:</p>\n<pre><code>/app\n   /config\n   /controllers\n   /shema\n/public\n   /css\n   /images\n   /js\n      /models\n      /collections\n      /controllers\n      app.js\n   /templates\nserver.js\n</code></pre><p>We will need to start by creating a project.</p>\n<pre><code>mkdir myProject\ncd myProject\nnpm init\nnpm install express\nnpm install underscore\nnpm install express-ejs-layouts\n</code></pre><p>Now that we&#39;ve create our project and installed our dependencies, we can create our server.js file.</p>\n<pre><code class=\"language-javascript\">var express = require( &#39;express&#39; ),\n    expressEjsLayouts = require(&#39;express-ejs-layouts&#39;),\n    app = express();\n\n// Express EJS views\napp.set(&#39;views&#39;, &#39;./public/templates&quot;&#39;);\napp.set(&#39;view engine&#39;, &#39;ejs&#39;);\napp.set(&#39;layout&#39;, &#39;layout&#39;);\napp.use(expressEjsLayouts);\n\napp.listen(8080);\napp.use(express[&#39;static&#39;](&#39;./public&#39;));\n</code></pre>\n<p>Note that we&#39;re pointing our views to the public templates directory. We are also making the public directory serve up static files. That way, it can be entirely used by the client side.</p>\n<p>Next, we&#39;ll need to create our templates. We&#39;ll throw them into the /public/templates/people directory. We will add an index.ejs file that lists all of the people.</p>\n<pre><code class=\"language-html4strict\">&lt;ul id=&quot;people&quot;&gt;\n   &lt;% people.forEach(person) { %&gt;\n      &lt;%- include show.ejs %&gt;\n   &lt;% }) %&gt;\n&lt;/ul&gt;\n&lt;h1&gt;Add a Person&lt;/h1&gt;\n&lt;form id=&quot;add&quot;&gt;\n   &lt;input id=&quot;name&quot; name=&quot;name&quot; placeholder=&quot;Name&quot; /&gt;\n   &lt;input type=&quot;submit&quot; value=&quot;Add&quot; /&gt;\n&lt;/form&gt;\n</code></pre>\n<p>The include tag is unique to the server-side implementation of EJS, so we won&#39;t be able to use /people/index.ejs on the client-side.</p>\n<p>Now, we will include a show.ejs in the same directory. It will render the individual people in the list.</p>\n<pre><code class=\"language-html4strict\">&lt;li&gt;&lt;%= person %&gt;&lt;/li&gt;\n</code></pre>\n<p>You may have also noticed that we have a layout listed in our server.js file. We will need to create a  /public/templates/layout.ejs file to provide our layout. The client-side won&#39;t need to use layout.ejs, but it doesn&#39;t hurt anything for it to be public.</p>\n<pre><code class=\"language-html4strict\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n   &lt;head&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;%- body %&gt;\n      &lt;script type=&quot;text/javascript&quot; data-main=&quot;/js/app.js&quot; src=&quot;http://requirejs.org/docs/release/2.1.2/minified/require.js&quot;&gt;&lt;/script&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>If we were going to flesh out the entire folder structure I presented in the beginning, the next part would be split out between a model and a controller. However, we can just add it to the bottom of server.js file for the sake of simplicity. It will take any request to /people and render the index.ejs template with the fake data we pass into it.</p>\n<pre><code class=\"language-javascript\">app.get(&#39;/people&#39;, function (req, res) {\n   var people = [{\n      name: &#39;Pooh&#39;\n   }, {\n      name: &#39;Tigger&#39;\n   }, {\n      name: &#39;Rabbit&#39;\n   }, {\n      name: &#39;Piglet&#39;\n   }];\n   res.render(&#39;people/index&#39;, { people: people });\n});\n</code></pre>\n<p>The last piece is our client-side JavaScript. A real application should split this out into more pieces as well, but we will just put everything in our js/app.js file for this demonstration.</p>\n<pre><code class=\"language-javascript\">requirejs.config({\n   paths: {\n      &#39;jquery&#39;: &#39;http://code.jquery.com/jquery-1.8.3.min.js&#39;,\n      &#39;underscore&#39;: &#39;http://underscorejs.org/underscore-min.js&#39;,\n      &#39;text&#39;: &#39;https://raw.github.com/requirejs/text/latest/text.js&#39;\n   }\n});\n\ndefine([\n   &#39;underscore&#39;,\n   &#39;jquery&#39;,\n   &#39;text!/templates/people/show.ejs&#39;\n], function (_, $, Template) {\n\n   $(&#39;#add&#39;).bind(&#39;submit&#39;, function () {\n\n      var template = _.template(Template),\n          data = { person: {\n             name: $(&#39;#name&#39;).val()\n          }};\n\n      $(&#39;#list&#39;).append(\n         template(data);\n      );\n\n      return false;\n\n   });\n});\n</code></pre>\n<p>As you can see, the above example reuses our template partial to update the display. This is obviously a very simple and contrived example of how templates can be shared, but the concept can be used much more broadly. There is probably no legitimate reason for any sensitive data to be openly viewable in a template, so making all the templates public should never be a problem.</p>\n<p>In the next few weeks, I&#39;m going to expand this discussion to address how this same concept can be applied to create a fully functional Backbone app that also shares models and collections between the client-side and the server-side. The main thing to remember when we are taking this approach is to not include anything that is sensitive in the public folder. If people can read your source code, they probably will.</p>\n<p>Has anyone else experimented with sharing code between the Node and the browser? What are your thoughts on it?</p>\n"},"underscore-fire":{"published":true,"title":"_.fire(): A Plugin for Underscore","tags":["Underscore","JavaScript","Open Source"],"category":"code","date":"1-9-2013","thumbnail":"/images/blog/fire.png","slug":"underscore-fire","yield":"<p>JavaScript is different from other programming languages because it is asynchronous. That means that there is a possibility that several things can be happening at the same time. In other words, JavaScript doesn&#39;t wait for one thing to execute before going to the next. If you are waiting for a timeout to fire, or a response from an Ajax call or a database transaction, while the process completes, JavaScript silently moves on.</p>\n<!-- more -->\n<p>For example, this will result in the function returning &quot;undefined&quot;:</p>\n<pre><code class=\"language-javascript\">function doSomething () {\n  var something;\n  setTimeout(function () {\n    something = &quot;a response&quot;;\n  }, 1000);\n  return something;\n}\n\n// This will be undefined\nconsole.log(doSomething());\n</code></pre>\n<p>This can be solved by passing a callback function into the function you are calling. That&#39;s right, we&#39;re passing a function as a parameter into a function. This is JavaScript meeting Inception.</p>\n<pre><code class=\"language-javascript\">function doSomething (done) {\n  setTimeout(function () {\n    done(&quot;a response&quot;);\n  }, 1000);\n}\n\ndoSomething(function (something) {\n   // &quot;a response&quot;\n   console.log(something);\n});\n</code></pre>\n<p>When the process has been completed, the callback function can be fired with all of the needed data inside of it.</p>\n<p>I keep running into instances where I need to fire several functions and then do something after they have all completed. That is trickier because there has to be a way to know when they are all done. You can do something like this:</p>\n<pre><code class=\"language-javascript\">function thingOne (done) {\n  setTimeout(function () {\n    done(&quot;1st response&quot;);\n  }, 1000);\n}\n\nfunction thingTwo (done) {\n  setTimeout(function () {\n    done(&quot;2nd response&quot;);\n  }, 1500);\n}\n\nfunction thingThree (done) {\n  setTimeout(function () {\n    done(&quot;3rd response&quot;);\n  }, 2000);\n}\n\nthingOne(function (one) {\n  thingTwo(function (two) {\n    thingThree(function (three) {\n      // [&quot;1st response&quot;, &quot;2nd response&quot;, &quot;3rd response&quot;]\n      console.log([one, two, three]);\n    });\n  });\n});\n</code></pre>\n<p>That will work, but nesting callback functions inside of each other can get really messy. It also ignores one of the main benefits of JavaScript, which is the ability to perform multiple operations at the same time. The example above will take 4 1/2 seconds to complete because the functions aren&#39;t running at the same time.</p>\n<p>A more efficient way to get the same sort of results would be to keep track of how many functions have finished executing. If the number matches the number we are expecting to finish, we know everything is done.</p>\n<pre><code class=\"language-javascript\">var numberOfFunctions = 2, // This is a 0-based index, so 2 really means 3\n    data = [];\n\nfunction finished () {\n  // [&quot;1st response&quot;, &quot;2nd response&quot;, &quot;3rd response&quot;]\n  if (data.length === numberOfFunctions) {\n    console.log(data);\n  }\n}\n\nfunction thingOne (done) {\n  setTimeout(function () {\n    done(&quot;1st response&quot;);\n  }, 1000);\n}\n\nfunction thingTwo (done) {\n  setTimeout(function () {\n    done(&quot;2nd response&quot;);\n  }, 1500);\n}\n\nfunction thingThree (done) {\n  setTimeout(function () {\n    done(&quot;3rd response&quot;);\n  }, 2000);\n}\n\nthingOne(function (one) {\n  data.push(one);\n  finished();\n});\n\nthingTwo(function (two) {\n  data.push(two);\n  finished();\n});\n\nthingThree(function (three) {\n  data.push(three);\n  finished();\n});\n</code></pre>\n<p>That should run in about two seconds, so we&#39;ve made a big improvement. The downside is that there can be a little overhead in making sure all of the functions have fired.</p>\n<p>Today, I released a plugin for <a href=\"http://underscorejs.com\">underscore</a> that fires multiple functions at the same time and responds with a single callback once all of the functions have completed.</p>\n<p>It basically uses the same concept as the last example, but it wraps all of the tedious code in a simpler method. It allows you to do the same thing as in the example above like this:</p>\n<pre><code class=\"language-javascript\">var things = [\n  function (done) {\n    setTimeout(function () {\n      done(&quot;1st response&quot;);\n    }, 1000);\n  },\n\n  function (done) {\n    setTimeout(function () {\n      done(&quot;2nd response&quot;);\n    }, 1500);\n  },\n\n  function (done) {\n    setTimeout(function () {\n      done(&quot;3rd response&quot;);\n    }, 2000);\n  }\n];\n\n_.fire(things, function (data) {\n  // [&quot;1st response&quot;, &quot;2nd response&quot;, &quot;3rd response&quot;]\n  console.log(data);\n});\n</code></pre>\n<p>As you can see, using underscore fire requires significantly less code and is very readable. It&#39;s available on <a href=\"https://github.com/tysoncadenhead/underscore-fire\">GitHub</a> and <a href=\"https://npmjs.org/package/underscore-fire\">NPM</a> and the only dependency is either <a href=\"http://underscorejs.com\">Underscore</a> or <a href=\"http://lodash.com/\">Lodash</a>.</p>\n<p>Check out the readme on Github to see what it can do. Let me know what you think.</p>\n"},"resolutions-2013":{"published":true,"title":"2013 Resolutions","tags":["Goals"],"category":"productivity","date":"1-1-2013","thumbnail":"/images/blog/setgoals.png","slug":"resolutions-2013","yield":"<p>Another year has come and gone and it is now officially 2013. I guess the Mayan Apocalypse didn&#39;t happen after all.</p>\n<p>I&#39;ve always been a big advocate of making goals and this year is no different. Goals help you plan out your future and enable you to break down big things into smaller pieces that are more easily finished.</p>\n<!-- more -->\n<p>I am using the Zig Ziglar <a href=\"http://www.slideshare.net/emailgoldie/goal-setting-using-zig-ziglars-life-wheel\">wheel of life</a> to make sure that my goals cover all of the areas in my life.</p>\n<p>Since my goals are more holistic, I&#39;m not going to waste time discussing them all, but here are a few highlights:</p>\n<h3>In 2013, I resolve to:</h3><ul>\n<li>Finish a <a href=\"http://commutewith.com\">web app</a> I&#39;ve been working on for a long time.</li>\n<li>Write a blog entry every week. I&#39;ve been falling down on the job and this blog can be a lot better if there is more content</li>\n<li>Pay off a section of our student loans. If we really focus and nothing crazy happens, we can have them all paid off in four years. Having to pay off over 80K in student loans definitely makes you wonder <a href=\"/blog/do-you-need-a-college-degree-to-be-a-web-developer\">if college is worth the price</a></li>\n<li>Build an <a href=\"http://danielhayes.me/build-an-office-shed\">office shed</a>. It will give us more room in the house and it will be really nice to have a dedicated stand-alone working space</li>\n<li>Start a garden. I&#39;ve got some big plans for growing a ton of produce in my front yard. There isn&#39;t sufficient sunlight in our back yard, so I&#39;m going to need to make it look nice so it isn&#39;t an eyesore</li>\n</ul>\n<p>I love accomplishing goals. I usually make sub-goals on a weekly basis that help me to accomplish my long-term goals.</p>\n<p>What goals do you have for the new year?</p>\n"},"off-the-charts-jquery-toastchart-plugin":{"published":true,"title":"Introducing the jQuery ToastChart Plugin","tags":["JQuery","JavaScript","Open Source"],"category":"code","date":"12-9-2012","thumbnail":"/images/blog/charts.png","slug":"off-the-charts-jquery-toastchart-plugin","yield":"<p>Before I left Moontoast last month, they worked with me to open-source a HTML5 canvas jQuery charting library I created for their internal analytics tool. I wrote a <a href=\"http://alphabase.moontoast.com/blog/2012/12/off-the-charts/\">blog entry</a> for their developer blog introducing jQuery ToastChart. I thought you might be interested to see it.</p>\n<!-- more -->\n<p><img src=\"/images/blog/charts2.png\" alt=\"JQuery ToastChart\"></p>\n"},"my-new-standup-desk":{"published":true,"title":"My New Standup Desk","tags":["Health"],"category":"health","date":"11-17-2012","thumbnail":"/images/blog/standingdesk.png","slug":"my-new-standup-desk","yield":"<p>I&#39;ve been using a standup desk for nearly a year now.  It all started when I discovered <a href=\"http://dailyinfographic.com/the-harm-of-sitting-constantly-infographic\">this infographic</a>.</p>\n<p>Up until last week, I was working at <a href=\"http://moontoast.com\">Moontoast</a> where I had set my Ikea desk on top of four cinder blocks to make it standing level. This week, I started working at <a href=\"http://appendto.com\">appendTo</a>, which means that I&#39;m finally able to work from home.</p>\n<!-- more -->\n<p><img src=\"/images/blog/standingdesk2.jpg\" alt=\"Standing Desk\"></p>\n<p>I knew that I wanted to keep working standing up and I also knew that propping our desk up on cinder blocks would probably be an eyesore in the guest bedroom. I looked around a little bit and found <a href=\"http://opensoul.org/blog/archives/2012/01/09/the-40-standup-desk/\">this design</a> which was perfect for my space.</p>\n<p><img src=\"/images/blog/standingdesk3.jpg\" alt=\"Standing Desk\"></p>\n<p>I was able to install the desk for under $40 in less than two hours. So far it has been perfect for my needs although I am brainstorming some ways to make my monitors more eye-level so I don&#39;t need to look down, which can be bad for your shoulders and upper-back. I think 4 to 6 inches higher would be perfect.</p>\n"},"cross-domain-post-delete-and-pu":{"published":true,"title":"Cross-Domain Ajax Using POST, DELETE and PUT Methods","tags":["JavaScript","Ajax"],"category":"code","date":"10-17-2012","thumbnail":"/images/blog/communication.png","yield":"<p>I&#39;ve recently been working on a JavaScript API that interfaces with a REST-based server-side API and handles cross-domain issues while still allowing GET, POST, PUT and DELETE methods to be fired from anywhere on the web.  Due to cross-domain security issues at the browser level, making POST, PUT and DELETE requests can be a lot harder than you might think.</p>\n<!-- more -->\n<p>Let&#39;s say for the sake of argument that you have a domain at foo.com that needs to interact with an API at bar.com.  You can easily get around the cross domain issues using JSONP, but the limitation is that since JSONP is a hack that pretends that the ajax response is just a normal JavaScript file, it only allows for the data to be retrieved through the GET method.</p>\n<p>My first thought on how to get around that issue was that I could use a hidden iframe to pass data into.  The issue with that is that iframes in different domains can&#39;t communicate with each other.  Or at least, they can&#39;t communicate very easily with each other.  In truth, the only control that the parent page has over the child page is the ability to change the child&#39;s url. The child page has absolutely no ability to communicate with a parent in a different domain.  In theory, that would make responding to an ajax call impossible, but the child iframe can render a child iframe inside of itself that can communicate with its grandparent using window.parent.parent</p>\n<p>So you see, we have the ability to do cross-domain iframe communication using a proxy file for the requested domain and a proxy file for the response domain.  In the end, the process comes out looking like this:</p>\n<iframe width=\"560\" height=\"315\" src=\"http://www.youtube.com/embed/lg1Rwddms7U\" frameborder=\"0\" allowfullscreen></iframe>\n\n<p>In order to make the process of cross-domain Ajax calls easier, I&#39;ve written a jQuery plugin that allows you to put an HTML proxy on both your request domain and your response domain.  All of the tricky details are taken care of.  Check out the <a href=\"https://github.com/tysoncadenhead/jquery-ajaxproxy\">GitHub Repo</a> to get started.  I&#39;ve also created a <a href=\"http://sandbox1.tysonlloydcadenhead.com/ajaxproxy/example.html\">live demo</a> of the jQuery Ajax Proxy that shows how you can use GET, POST, PUT and DELETE across domains.  Let me know what you think.</p>\n","slug":"cross-domain-post-delete-and-pu"},"open-sourcing-some-javascript-libraries":{"published":true,"title":"Open-Sourcing Various JavaScript Libraries","tags":["Goals"],"category":"code","date":"9-7-2012","thumbnail":"/images/blog/confused.png","slug":"open-sourcing-some-javascript-libraries","yield":"<p>I&#39;ve been working on several projects in the past year or so that have required me to write some jQuery plugins and custom JavaScript widgets and I feel like several of them could definitely be useful for other developers.  I&#39;ve set a goal this year to release at least two projects to the community, but it&#39;s tough to know which ones people will find most useful. Since it takes a little work to get a library to a place where it works under multiple scenarios and that&#39;s even before the lengthy process of writing documentation, I thought I&#39;d put it up to a vote to see what people would like to see and use.  Whatever seems to have the most positive attention is what I&#39;ll probably end up open-sourcing first.</p>\n<!-- more -->\n<p>Here are some of the things I&#39;ve done that might make good open-source projects:</p>\n<ul>\n<li>A minimal MVC Framework</li>\n<li>An HTML5 line chart graphing library.  <a href=\"http://moontoast.com\">My company</a> is probably going to give me some time to get this done during the day, so you&#39;ll probably see it either way.</li>\n<li>A jQuery HTML5 audio plugin with a complete flash fallback</li>\n<li>A JavaScript loader that loads JavaScript and CSS into the DOM using JavaScript build files. It allows you to pass the mode into the query string to either serve up the compressed / minified file, the individual development files or to throw an alert with the code you would need to paste into the terminal to minify the files using YUI</li>\n<li>A basic coverflow jQuery plugin</li>\n</ul>\n<p>Those are all the ones I can think of at the moment.  Is there any interest in seeing one or more of those?  Just leave a comment and let me know.</p>\n"},"book-review-html5-for-web-designers":{"published":true,"title":"Book Review: HTML5 for Web Designers","tags":["Book","HTML"],"category":"code","date":"1-23-2012","thumbnail":"/images/blog/reading.png","yield":"<p>A few days ago I realized that I read a lot of books and articles about JavaScript and web development and that this would be a good place to share my thoughts about them both for my own reference and maybe even for helping other people out.  In the interest of that revelation, I present to you a quick review of HTML5 for Web Designers by Jeremy Keith of A Book Apart.</p>\n<!-- more -->\n<p>The cool thing about this book is that I was able to get it on store credit at <a href=\"http://mckaybooks.com/locations/nashville/\">McKay</a>, Nashville&#39;s best used book store.  If you&#39;ve ever looked for used books on technology, you know that most of them are over ten years old and haven&#39;t been relevant for almost that long, so a modern book like this was a great find.</p>\n<p>This is a really easy and quick read.  It&#39;s a pretty thin book and I was able to breeze through it in the course of a couple of days.  It&#39;s a very basic overview of what you can do with HTML5, so I wouldn&#39;t expect anything as expansive and heavy as the 900 page HTML5 spec, which is probably a good thing considering that it&#39;s not fun or easy to read something that long.</p>\n<p>You get a taste of everything from video and audio and their current limitations to the canvas and the new HTML5 input types and attributes.  This book made me excited to be in the web development space because there is so much growth happening and there is sure to be a lot more to come soon.  It wasn&#39;t terribly heavy on JavaScript, which is always disappointing to me, but there are some examples of how to accomplish backwards compatibility for native HTML5 behavior using my favorite scripting language.</p>\n<p>I would recommend this book to any front-end developer wanting to cut their teeth on some more cutting-edge experiences.  It made me want to go out and write a JavaScript library to ensure backwards compatibility so we can use more HTML5 form types now, and in my book, anything that makes me want to write JavaScript was worth my time.  Unfortunately, that means that everything is worth my time.</p>\n<iframe src=\"http://rcm.amazon.com/e/cm?lt1=_blank&amp;bc1=FFFFFF&amp;IS2=1&amp;bg1=FFFFFF&amp;fc1=000000&amp;lc1=111111&amp;t=tysolloycade-20&amp;o=1&amp;p=8&amp;l=as1&amp;m=amazon&amp;f=ifr&amp;ref=qf_sp_asin_til&amp;asins=0984442502\" style=\"width:120px;height:240px;\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" frameborder=\"0\"></iframe>","slug":"book-review-html5-for-web-designers"},"writing-a-good-api":{"published":true,"title":"Writing a Good API","tags":["JavaScript"],"category":"code","date":"12-17-2011","thumbnail":"/images/blog/api.png","slug":"writing-a-good-api"},"detecting-javascript-popup-blockers":{"published":true,"title":"Detecting JavaScript Popup Blockers","tags":["JavaScript"],"category":"code","date":"10-10-2011","thumbnail":"/images/blog/popup.png","slug":"detecting-javascript-popup-blockers","yield":"<p>Most of us can agree that spawning popups with JavaScript is usually a user experience FAIL.  We&#39;ve all been to websites that opened several popup ads. That is always something to avoid.  Malicious and ad-happy sites have made it necessary for browser plugins and some browsers to block JavaScript popups altogether.</p>\n<!-- more -->\n<p>But there are some examples where popups are actually necessary. The main thing to remember when it does become necessary is to make the popup window a response to a user action.  Usually a popup should be triggered by a clicking a link or a button rather than opening it on page load.  That way the popup is not instantly perceived as an ad and closed by your user.</p>\n<p>When using a popup does become necessary and you have exhausted every other options including more attractive modal windows and nothing works for the user interaction, the next concern becomes what to do when the popup is inevitable blocked.</p>\n<p>The answer may look very similar to a progressive enhancement technique, but I wouldn&#39;t consider it one since the browsers with a popup blocker enabled are often more advanced than those without.</p>\n<p>We&#39;ll start out making a very normal-looking link that targets a blank window to open the site inside of.  That should look something like this:</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;http://google.com&quot; id=&quot;googleLink&quot; target=&quot;_blank&quot;&gt;Go To Google!&lt;/a&gt;\n</code></pre>\n<p>The link will totally work on its own without the aid of JavaScript, it will just open in a new window instead of a popup.  Now let&#39;s add the JavaScript.  The event listener is written in jQuery, but feel free to rewrite it using your library of choice or none at all.</p>\n<pre><code class=\"language-javascript\">$(&#39;#googleLink&#39;).bind(&#39;click&#39;, function () {\n   var popUp = window.open($(this).attr(&#39;href&#39;), &#39;googleWindow&#39;, \n   &#39;width=600, height=300, scrollbars, resizable&#39;);\n   if (!popUp || typeof(popUp) === &#39;undefined&#39;) {\n      return true; \n   } else {   \n     popUp.focus();\n     return false;\n   }\n});\n</code></pre>\n<p>Popup blockers work by redefining the window.open() function.  Part of the beauty of Javascript is that you can redefine literally any variable or object.  If you even wanted to redefine the document object or the window object, you actually could.  So the popup blockers will typically make the window.open() function return either null or undefined, which means that we can create the popup as a variable and then test to see if the variable actually returns as anything.  If it does, we can assume that the popup opened and return false so that the link doesn&#39;t fire off.  If it doesn&#39;t, we can return true to let the link do its work.</p>\n<p>Here is a working example of the code above:</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;http://google.com&quot; id=&quot;googleLink&quot; target=&quot;_blank&quot;&gt;Go To Google!&lt;/a&gt;\n&lt;script type=&quot;text/javascript&quot;&gt;\n$(&#39;#googleLink&#39;).bind(&#39;click&#39;, function () {\n   var popUp = window.open(&#39;http://google.com&#39;, &#39;googleWindow&#39;, \n   &#39;width=600, height=300, scrollbars, resizable&#39;);\n   if (!popUp || typeof(popUp) === &#39;undefined&#39;) {\n      return true; \n   } else {   \n     popUp.focus();\n     return false;\n   }\n});\n&lt;/script&gt;\n</code></pre>\n<p>As you can see, it&#39;s fairly easy to detect popup blockers and react to them.  Be careful with your new-found power.  If I haven&#39;t made myself clear, there&#39;s nothing worse than a site with a bunch of popups.</p>\n"},"do-javascript-libraries-need-an-abstraction-layer":{"published":true,"title":"Do JavaScript Libraries Need an Abstraction Layer?","tags":["JavaScript"],"category":"code","date":"1-21-2011","thumbnail":"/images/blog/abstract.jpg","slug":"do-javascript-libraries-need-an-abstraction-layer","yield":"<p>This is something that I have been trying to make up my mind on over the past year and a half at least.  The question?  Do JavaScript libraries need an abstraction layer?</p>\n<p>Just to clear the air a little before we jump into the discussion, if you are making a small website, this doesn&#39;t apply.  I&#39;m talking about large, scalable JavaScript applications.</p>\n<!-- more -->\n<p>An abstraction layer is basically code that extends the functions that do the heavy lifting.  It is used so that you don&#39;t call the code that is doing the work directly.  For example, if you are using jQuery, and you want to make an Ajax call, instead of firing the $.ajax() function, you would call a different function, like <code>myApplication.ajax()</code> which turns around and calls <code>$.ajax()</code>.</p>\n<p>There are obviously some drawbacks to this approach, but there are also benefits.  Here are the benefits as I see them:</p>\n<ul>\n<li>Your JavaScript modules become dumb to the JavaScript library you are using.  For all your modules know, you could be using jQuery or you could be using YUI, and frankly, they don&#39;t care.  All they care about is that they are calling <code>myApplication.ajax()</code> and they expect to do an Ajax call.</li>\n<li>Since the modules don&#39;t know what library is being used, you can easily switch out the library that you are using.  Is Prototype not cutting it for you?  Just switch out the code in the abstraction layer and you are suddenly using jQuery... and your modules are never the wiser!</li>\n<li>You get more control over individual library functions.  Let&#39;s say that the jQuery DOM manipulation is exactly what you need, but you need something a little different for Ajax calls.  You could even use the abstraction layer to point to your own homespun solutions.</li>\n<li>This approach makes your code more loosely coupled, which is typically a good thing.</li>\n</ul>\n<p>However, with the benefits come the drawbacks.  Here are some of the drawbacks I&#39;ve though of:</p>\n<ul>\n<li>In a way, JavaScript libraries are already an abstraction themselves for the native JavaScript.  How deep does it need to go?  We could be getting into a ridiculous Russian doll situation here...</li>\n<li>Speed is always a concern.  Every time you create a function, it takes another fraction of a second to execute.  That&#39;s why you should never instantiate a function inside of a loop.  This probably isn&#39;t a huge concern when it comes to JavaScript library abstraction layers.  It may not even be worth mentioning, but when you are adding a function to call another function, it raises these sorts of thoughts.</li>\n<li>There is always the chance that things will get messy.  When you write your code, you may know that myApplication.save() does an Ajax call to save the information inside a form to the server, but what about the developers who come after you?  Also, without proper training, other developers will just write code the &quot;normal&quot; way on top of yours, making you have an ugly mixture of abstracted code and direct calls to the library functions.</li>\n<li>What is the chance that you are actually going to replace your library?  It does sometimes happen, but people who write in jQuery usually stay in jQuery.  The ability to switch out the underlying library one piece at a time is pretty awesome, but it causes one to wonder how often it is really a concern.  This same sort of dilemma happens on the client-side when Coldfusion companies decide to switch to .NET, but there&#39;s no way to facilitate the change so easily as you can with a JavaScript library abstraction layer.  Is it really even necessary on the client-side</li>\n</ul>\n<p>What do you think?  Do JavaScript libraries need an abstraction layer?  You tell me.</p>\n"},"parsing-coldfusion-json-on-the-client-side":{"published":true,"title":"Parsing Coldfusion JSON on the Client-side","tags":["JavaScript","Coldfusion"],"category":"code","date":"8-6-2011","thumbnail":"/images/blog/eskimo.png","slug":"parsing-coldfusion-json-on-the-client-side","yield":"<p>I tend to fall in with Coldfusion programmers from time to time and while I actually really like the language and the community, the one thing that can make working with Coldfusion and JavaScript harder is how the language returns JSON.</p>\n<!-- more -->\n<p>Typical JSON looks something like this:</p>\n<pre><code class=\"language-javascript\">{\n   &quot;firstname&quot;: &quot;Tyson&quot;,\n   &quot;lastname&quot;: &quot;Cadenhead&quot;,\n   &quot;favoritelanguage&quot;: &quot;JavaScript&quot;\n}\n</code></pre>\n<p>But Coldfusion encodes structs to look more like this:</p>\n<pre><code class=\"language-javascript\">{\n    &quot;COLUMNS&quot;: [&quot;FIRSTNAME&quot;, &quot;LASTNAME&quot;, &quot;FAVORITELANGUAGE&quot;],\n    &quot;DATA&quot;: [[\n        &quot;Tyson&quot;, &quot;Cadenhead&quot;, &quot;JavaScript&quot;\n    ]]\n}\n</code></pre>\n<p>The problem with that is that JavaScript can&#39;t do much with that.  The solution?  I wrote a quick and dirty script that parses the Coldfusion JSON into the old-fashioned kind.  All you need is this:</p>\n<pre><code class=\"language-javascript\">Object.prototype.parseCFJSON = function() {\n\n   var result = [],\n       data = this;\n\n   for (var j = 0; j &lt; data.DATA.length; j++) {\n      result[j] = {};\n      for (var i = 0; i &lt; data.COLUMNS.length; i++) {\n         result[j][data.COLUMNS[i].toLowerCase()] = data.DATA[j][i];\n      }\n   }\n\n   return result;\n};\n</code></pre>\n<p>If you include that bit of code in your script, anytime you get back a Coldfusion struct, you can simply encode it by running this:</p>\n<pre><code class=\"language-javascript\">myData = myData.parseCFJSON();\n</code></pre>\n<p>There you go... easy as pie!</p>\n"},"fat-models-and-skinny-controllers-in-javascript":{"published":true,"title":"Fat Models and Skinny Controllers in JavaScript","tags":["JavaScript","Architecture"],"category":"code","date":"7-14-2011","thumbnail":"/images/blog/controller.png","slug":"fat-models-and-skinny-controllers-in-javascript","yield":"<p>I&#39;ve recently been thinking about what it would mean to emulate the MVC best practice of skinny controllers that started in the confines of server-side development within the much more glamorous language and beautiful JavaScript. For those of you who haven&#39;t read some of my previous posts, I am a huge advocate of using Model View Controller architecture in client-side code as well as on the server-side. I&#39;ve written in depth about what MVC looks like on the client-side, so I won&#39;t bother to delve into that explanation here.</p>\n<!-- more -->\n<p>The basic idea of skinny controllers is that the models in the MVC architecture should really do more heavy lifting than they traditionally handel because the models are more reusable than the controllers, which should really be serving their proper role of directing traffic, or in the case of client-side controllers, listening for events and responding to them.</p>\n<p>Following the fat model, skinny controller mantra to its logical place in client-side code, the places where the model should do the heavy lifting are:</p>\n<ul>\n<li>Validation in the case of CRUD functionality and post methods.</li>\n<li>Type-conversions and data manipulation.</li>\n<li>Storing data in memory or in HTML5 databases to minimize server hits.</li>\n</ul>\n<p>The benefit of all of these being in the model layer rather than the controller layer, or worse yet, in the views, is that multiple events in the controller can easily tap into the same functionality, which cuts down on duplicate code and lowers the risk of making variations in type-conversion or validation.</p>\n<p>For example, if a view is hitting a JSON datasource to get information about a user, the JSON might look something like this:</p>\n<pre><code class=\"language-javascript\">{\n   &#39;id&#39;: 1112,\n   &#39;firstname&#39;: &#39;Darth&#39;,\n   &#39;lastname&#39;: &#39;Vader&#39;,\n   &#39;birthday&#39;: 1256953732\n}\n</code></pre>\n<p>and our JavaScript model, which uses jQuery to make Ajax calls, might look something like this:</p>\n<pre><code class=\"language-javascript\">myApp.Model.User = {\n\n    /**\n    * @function\n    * @param {Object} params\n    * @param {Function} success\n    * @param {Function} error\n    */\n    find: function(params, success, error) {\n\n        // This assumes that you are using a getter / setter to save data to memory\n        if (myApp.get(&#39;user_&#39; + data.id)) {\n            success(myApp.get(&#39;user_&#39; + data.id));\n\n        // Get the data via Ajax if it&#39;s not in memory\n        } else {\n\n            $.ajax({\n                url: &#39;/myapp/user/get&#39;,\n                data: params,\n                dataType: &#39;json&#39;,\n                type: &#39;get&#39;, \n                success: function(data) {\n\n                    // Here, we do a little data manipulation so that \n                    // we don&#39;t have to do this in the controller or the view\n\n                    data.name = data.firstname + &#39; &#39; + data.lastname;\n                    data.birthday = new Date(data.birthday);\n\n                    // Use some type of getter / setter to save the data to memory\n                    myApp.set(&#39;user_&#39; + data.id, data);\n\n                    // Fire off the success function after the data manipulation\n                    success(data);\n\n                },\n                error: error\n            });\n\n        }\n    }\n\n};\n</code></pre>\n<p>The model above is much larger than it could be, but all of the type-conversion and storing to local memory are now happening at the data level where it should be rather than being misplaced in the controller or the view.</p>\n<p>I have to admit, I&#39;ve only been thinking this direction for a few days when it comes to the client-side, but it has radically changed my viewpoint on what I think the model should actually be doing in an Ajax application.</p>\n"},"making-browser-specific-css-less-intrusive-with-sass":{"published":true,"title":"Making Browser-Specific CSS Less Intrusive with SASS","tags":["CSS","SASS"],"category":"code","date":"5-30-2011","thumbnail":"/images/blog/browsers.png","slug":"making-browser-specific-css-less-intrusive-with-sass","yield":"<p>A few weeks ago, I started using SASS.  What is SASS?  It&#39;s an acrostic that stands for &quot;Syntactically Awesome Style Sheets.&quot;  SASS is run from the command line and essentially lets you write stylesheets with things like variables, nesting and mixins (which are pretty much the equivalent of the functions in a real programming language).  </p>\n<!-- more -->\n<p>If you&#39;re like me and you&#39;ve spent a lot of time writing CSS, you probably find yourself making a lot of style declarations that are basically the same with only some minor variations.  In the past, the only way to really make CSS maintainable was to give DOM elements a long list of classes like:</p>\n<pre><code class=\"language-html4strict\">&lt;div class=&quot;yellow-background \nround-corner-5px-radius large-text&quot;&gt; \n   This is large text on a yellow background \n   with rounded corners and a 5px radius! \n&lt;/div&gt;\n</code></pre>\n<p>Of course, the problem with that is if you needed to make a change, say you needed to remove the 5 pixel radius on the example above, you would need to make the change to the HTML, not the CSS.  Obviously, that model is not the best, because you want to be able to style with CSS, not with HTML, right?</p>\n<p>The answer that SASS provides is that styles can inherit other styles.  That way, you can make a style declaration once and have multiple classes and ids inherit it.</p>\n<p>SASS style is compiled down to CSS, but you never have to touch the actual CSS files again, making it easier to maintain.</p>\n<p>If you haven&#39;t given SASS a shot yet, I would urge you to <a href=\"http://sass-lang.com\">download it</a> and see how much easier it makes the styling process.</p>\n<p>Anyway, the point I&#39;ve been working my way to is that with all the cool new things that CSS3 has brought us like rounded corners, gradients and shadows, the problem is that different browsers expect them to be presented differently.</p>\n<p>For example, in the case of rounded corners, Google Chrome and Safari both look for</p>\n<pre><code class=\"language-css\">-webkit-border-radius: 5px 5px 5px 5px;\n</code></pre>\n<p>while Firefox, up until Firefox 4 looked for</p>\n<pre><code class=\"language-css\">-moz-border-radius: 5px 5px 5px 5px;\n</code></pre>\n<p>and Firefox 4 and IE10 along with every browser in the future will simply look for </p>\n<pre><code class=\"language-css\">border-radius: 5px 5px 5px 5px;\n</code></pre>\n<p>This can create a huge mess in your stylesheets if you have a lot of rounded corners and eventually, you&#39;ll probably want to take out the Mozilla and Webkit specific declarations once they start supporting the non-specific declaration.</p>\n<p>With SASS, you can make a single mixin that will handle any rounded corner like this:</p>\n<pre><code class=\"language-css\">@mixin rounded($top: 5px, $left: 5px, $bottom: 5px, $right: 5px) {\n   border-radius: $top $left $bottom $right;\n   -moz-border-radius: $top $left $bottom $right;\n   -webkit-border-radius: $top $left $bottom $right;\n}\n</code></pre>\n<p>The above example lets you pass in four variables for the top, left, bottom and right border radius.  If you don&#39;t pass anything in, it assumes each one is 5px.   When you need to have a rounded corner now, all you have to do is:</p>\n<pre><code class=\"language-css\">.myClass { @include rounded; }\n</code></pre>\n<p>Or if you want to have a 10 pixel radius:</p>\n<pre><code class=\"language-css\">.myClass { @include rounded(10px, 10px, 10px, 10px); }\n</code></pre>\n<p>The same principle applied to a drop shadow would look like this:</p>\n<pre><code class=\"language-css\">@mixin shadow($type: inset, $top: 0, $left: 0, $blur: 1px, $color: #FFFFFF) {\n   box-shadow: $type $top $left $blur $color;\n   -moz-box-shadow: $type $top $left $blur $color;\n   -webkit-box-shadow: $type $top $left $blur $color;\n}\n</code></pre>\n<p>Gradients are a little more complicated and your mixin for a gradients really depends on your needs.  Here is what I&#39;ve been using to handle a gradient with either two stops or three stops.  It uses an if statement to determine whether a third stop has been provided.</p>\n<pre><code class=\"language-css\">@mixin gradient($first, $second, $third: false) {\n  background: $second;\n  @if $third {\n   filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=&#39;$first&#39;, endColorstr=&#39;$second&#39;);\n   background: -webkit-gradient(linear, 0% 0, 0% 100%, from($first), color-stop(0.5, $second), to($third));\n   background: -moz-linear-gradient(linear, 0% 0, 0% 100%,  $first,  $second, $third);\n  }\n  @else {\n   filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=&#39;$first&#39;, endColorstr=&#39;$second&#39;);\n   background: -webkit-gradient(linear, left top, left bottom, from($first), to($second));\n   background: -moz-linear-gradient(top,  $first,  $second);\n  }\n}\n</code></pre>\n<p>Using the mixin above is as easy as this:</p>\n<pre><code class=\"language-css\">.myClass { @include gradient(#cccccc, #dddddd, #cccccc) }\n</code></pre>\n<p>Of course, the example above doesn&#39;t provide for every possible senario with the CSS3 gradient, but it served the needs for the project I was working on at the time.</p>\n<p>As you can see, SASS can be a real life-saver as stylesheets get more and more complex and the need for browser-specific declarations becomes more of a reality in the ever-changing world of web development.</p>\n"},"writing-javascript-for-speed":{"published":true,"title":"Writing JavaScript for Speed","tags":["JavaScript"],"category":"code","date":"4-9-2011","thumbnail":"/images/blog/running.jpg","slug":"writing-javascript-for-speed"},"jquery-event-listening":{"published":true,"title":"jQuery Event Listening","tags":["JavaScript"],"category":"code","date":"4-1-2011","thumbnail":"/images/blog/listening.jpg","slug":"jquery-event-listening","yield":"<p>Several months ago I wrote about <a href=\"http://tysonlloydcadenhead.com/blog/sencha-application-event-listening/\">event binding</a> using ExtJS or Sencha touch.  Something that you may or may not know is that you can achieve the same thing with jQuery using custom even binding.</p>\n<!-- more -->\n<p>In case you didn&#39;t see my Sencha post about this, or if you don&#39;t work with Sencha, let me tell you what I mean by event binding.  Event binding can be used to loosely couple actions so they never break.  Essentially, you broadcast to your entire application &quot;Hey!  I have something to say!  Does anybody want to hear it?&quot;  Your modules can either say &quot;Hey, I&#39;d like to hear what you have to say&quot; or else, they can just ignore it. Either way, nothing breaks.  You can even have several modules respond to the same event in different ways.</p>\n<p>So, on to the code... Make sure that you are using an up to date version of the jQuery library.  At some point back in time, this didn&#39;t work yet.</p>\n<p>To create a custom event with jQuery, you can use the &quot;trigger&quot; function like this:</p>\n<pre><code class=\"language-javascript\">$(document).trigger(&#39;my-custom-event&#39;, [&#39;hi!  I am a custom variable!&#39;]);\n</code></pre>\n<p>You can actually bind a custom event to any DOM element, but for the sake of making it available to your entire application, the document object is usually a pretty safe choice.  As you can see, we are also passing a variable.</p>\n<p>Now you just need to have a listener at any place in your code that is executed before the trigger event, like this:</p>\n<pre><code class=\"language-javascript\">$(document).bind(&#39;my-custom-event&#39;, function(event, v) {\n  alert(v);\n});\n</code></pre>\n<p>So your code ends up looking something like this:</p>\n<pre><code class=\"language-javascript\">$(document).bind(&#39;my-custom-event&#39;, function(event, v1, v2) {\n  alert(v1);\n});\n\n$(document).bind(&#39;my-custom-event&#39;, function(event, v1, v2) {\n  alert(&#39;firing &#39; + v2);\n});\n\n$(document).trigger(&#39;my-custom-event&#39;,  [\n  &#39;Hi!  I am a custom variable!&#39;, \n  &#39;Hi! I\\&#39;m a different custom variable!&#39;\n]);\n</code></pre>\n<p>You should now see two separate alerts fired from the same trigger.  Now all you have to do is bind custom events to your individual modules and they will never touch again.  Feel powerful yet?</p>\n"},"writing-markup-for-future-enhancement":{"published":true,"title":"Writing Markup for Future Enhancement","tags":["HTML"],"category":"code","date":"3-24-2011","thumbnail":"/images/blog/robot.png","slug":"writing-markup-for-future-enhancement"},"what-does-a-successful-ajax-application-need":{"published":true,"title":"What Does a Successful JavaScript Application Need?","tags":["JavaScript"],"category":"code","date":"3-11-2011","thumbnail":"/images/blog/success.jpg","slug":"what-does-a-successful-ajax-application-need"},"web-developers-and-health":{"published":true,"title":"Web Developers and Health","tags":["Apps","Health"],"category":"health","date":"3-6-2011","thumbnail":"/images/blog/weights.jpg","slug":"web-developers-and-health","yield":"<p>It&#39;s no secret that web developers don&#39;t lead a very active lifestyle. In fact, from the day I entered college until a couple of weeks ago, I had gained almost 25 pounds thanks to my lack of activity and disregard for the effects of food on my body.</p>\n<!-- more -->\n<p>However, a couple of weeks ago, I started to turn it all around.  Already, I&#39;ve lost several pounds and I&#39;m starting to feel healthier.  How could a web developer loose weight?  Ironically, the answer is technology.  I&#39;ve been using a free iPhone app from <a href=\"http://loseit.com\">loseit.com</a> to track my calories.</p>\n<p>I&#39;ve tried other calorie counting programs like <a href=\"http://www.sparkpeople.com\">Spark People</a>  in the past, but I was never able to get past the poor user experience and confusing interfaces to actually start loosing weight.</p>\n<p>Loose It, on the other hand has a very intuitive interface, both on the app and on their website.  It&#39;s so easy that my mom can use it, and she does.  But it&#39;s also an excellent tool for the tech-savy person whose idea of getting out in nature is moving their desk in front of the window.</p>\n<p>What do you do to stay in shape in the world of technology?</p>\n"},"replacing-href-attributes-with-onclick-events-with-regex":{"published":true,"title":"Replacing href attributes with onClick events with Regex","tags":["JavaScript","Regex"],"category":"code","date":"2-23-2011","thumbnail":"/images/blog/onclick.jpg","slug":"replacing-href-attributes-with-onclick-events-with-regex","yield":"<p>I recently had the need to override all of my links on a Sencha Touch app with an onClick event.  I needed to be able to open the links using the ChildBrowser plugin for PhoneGap.  The problem was that I needed to grab the links before I rendered the content to the page and apply the onClick event instead of the href.</p>\n<!-- more -->\n<p>Essentially, I wanted to turn this:</p>\n<pre><code class=\"language-html4strict\">&lt;a href=&quot;myLink.html&quot;&gt;My Link&lt;/a&gt;\n</code></pre>\n<p>Into this:</p>\n<pre><code class=\"language-html4strict\">&lt;a onClick=&quot;myFunction(&#39;myLink.html&#39;)&quot;&gt;My Link&lt;/a&gt;\n</code></pre>\n<p>So how did I do it?  I wrote a function to parse the string using Regex before I rendered it to the page.  I thought that the whole operation my be fairly common, so I Googled how to do it, and to my surprise, there was literally nothing on the internet about how to do it, so I naturally thought it was worth posting.</p>\n<pre><code class=\"language-javascript\">// This is the function\nvar overrideLink = function(functionName, str){\n\n        // Remove links with blank href tags\n        // For exampe: &amp;lt;a href=&quot;&quot;&amp;gt;&lt;a&gt;This would break everything!&amp;lt;/a&amp;gt;&lt;/a&gt;\n        str = str.replace(/href=&quot;&quot;/g, &#39;&#39;);\n\n        // Replaces links with onclick events\n        return str.replace(/href=\\&quot;(.+?)\\&quot;/, &#39;onclick=&quot;&#39; + functionName + &#39;(\\&#39;$1\\&#39;);&quot;&#39;);\n\n};\n\nvar myString = &#39;This is a string that contains &amp;lt;a href=&quot;myLink.html&quot;&amp;gt;My Link&amp;lt;/a&amp;gt; inside of it.&#39;;\n\n// This is how you call it\noverrideLink(&#39;myFunctionName&#39;, myString);\n</code></pre>\n<p>I&#39;m still pretty new to Regex, so there may well be a better way to do this.  If you know of one, don&#39;t hesitate to put me in my place.  Enjoy!</p>\n"},"dont-be-a-user-interface-hoarder":{"published":true,"title":"Dont Be a User Interface Hoarder","tags":["User Interface"],"category":"design","date":"2-19-2011","thumbnail":"/images/blog/hoarder.jpg","slug":"dont-be-a-user-interface-hoarder","yield":"<p>For some reason, I keep watching episodes of a television show called &quot;Hoarders.&quot;  If you haven&#39;t seen it, it&#39;s about people who collect stuff.  Collecting stuff is one thing, but these people have no organizational system for the items that they collect.  They literally have piles of so much useless junk that their houses become essentially unlivable.  Many of them don&#39;t even have a single walkway to navigate through their homes.  They could lead better lives, but they are unwilling to let go of their material possessions.</p>\n<!-- more -->\n<p>I think that is exactly what happens in technology when a good user interface goes bad.  I know that there are user interfaces that are legitimately bad to start with, but that&#39;s beyond the point of this discussion.</p>\n<p>As designers and developers, we make interfaces that provide wonderful user experiences.  After which our clients and sometimes even end-users will come back with items that simply have to be added to the interface.</p>\n<p>Sometimes the additions really are necessary and sometimes they aren&#39;t.  For the sake of discussion let&#39;s say that the additions actually are necessary.</p>\n<p>What happens when you have an interface that doubles or triples in visual complexity?  Practically speaking, it will make the user lose focus.  It will make them unsure of what they are supposed to do and how they are supposed to do it.  Simple tasks will take them longer.  In the worst case, they will give up on your interface and move on to something else.</p>\n<p>The people creating the software or making the decisions about the software may feel like everything they are adding is needed.  However, in the end, you have to let some things go.  Otherwise you are just another user interface hoarder.</p>\n<p>Here are some valuable questions to ask if you&#39;re planning to add something to an existing interface:</p>\n<h3>Is this really needed?</h3><p>Some additions are important and others are not.  Something that is flashy or &quot;cool&quot; may not necessarily be something that will make life easier or better for your user.</p>\n<h3>Will this improve the user experience?</h3><p>In many cases, the client is going to want to get as much information about the user as possible.  Information is valuable.   The more we know about our users, the more we can improve their experience in the long run.  The problem comes when asking questions to the user gets in the way of their current experience.  If you can, find ways to get to know the user without making them fill our lengthy forms.  Nobody likes filling out forms.  Forms are even worse on mobile devices without an external keyboard. If you want your user to submit a form, a basic rule is to make it short.</p>\n<h3>Does everything need to be shown at once?</h3><p>If you determine that everything you&#39;re adding is important, perhaps you can make the interface a little easier by not showing the user everything at once. Forms are often easier to complete in short steps where the user can focus on one question at a time.  This also makes it easier for the user to react to form validation, because the problematic fields will be fresh in their minds.</p>\n<h3>Emphasize the things that are of the highest import</h3><p>I&#39;m not here to give a lesson on graphic design, but if something is important, like a call to action, it should stand out.  The user needs to be drawn to it.  Once you start emphasizing what is extremely important, you may find that some of the less important things can be cut.</p>\n<p>Nobody is going to leave you interface or website because it is too simple.  However, if your interface is too hard too use, it will probably only take a few short seconds for your users to leave and never return.  If you want to give your users a rewarding experience with your application, you just may have to clean your house.</p>\n"},"jquery-mobile-vs-sencha-touch":{"published":true,"title":"jQuery Mobile vs. Sencha Touch","tags":["Mobile","jQuery Mobile","Sencha Touch"],"category":"code","date":"2-17-2011","thumbnail":"/images/blog/mugs.jpg","slug":"jquery-mobile-vs-sencha-touch","yield":"<p>Last night, I finished re-doing the mobile version of this site using <a href=\"http://jquerymobile.com/\">jQuery Mobile</a>.  The only other mobile JavaScript library I have worked with so far is <a href=\"http://www.sencha.com/products/touch/\">Sencha Touch</a> and I must say, they are vastly different.  My prognosis?  If I am going to make a mobile version of a website, I am going to use jQuery Mobile.  If I am going to make a &quot;native&quot; mobile application, I will be more likely use Sencha Touch.</p>\n<!-- more -->\n<p>So how do they stack up?</p>\n<p>If you&#39;ve worked with EXTJS, working with Sencha Touch is not going to be a hard transition at all.  But the truth is that most people have not worked with EXTJS.  If you haven&#39;t, the learning curve may be a little staggering at first.  With Sencha Touch, you rarely use any pre-rendered HTML.  Everything is added to the DOM through JavaScript.  This might be a big paradigm shift for some people, but once you get acclimated to it, it really isn&#39;t a huge deal.  The Sencha Touch library is different than jQuery in that instead of working directly with the DOM, one element at a time, you are typically working with components that are comprised of  many DOM elements.  In fact, you often won&#39;t even need to think about what Divs, Tables or Span tags go together to make a component.</p>\n<p>jQuery Mobile, however, is completely different.  With jQuery Mobile, you work with actual pages (not just HTML that is  rendered to the DOM).  The script automatically grabs the pages for you with Ajax.  After it loads the page, it can do any fancy transitions that we have come to associate with native mobile applications.  The  JavaScript that you will write with jQuery mobile is actually pretty minimal.  There is a lot of JavaScript &quot;magic&quot; happening behind the scenes that you&#39;ll never even have to think about.</p>\n<p>In my opinion, Sencha Touch is absolutely more versatile.  If you feel a need to have complete control, Sencha Touch is probably for you.   If there is ever anything that you can&#39;t do with Sencha Touch, you can pretty easily write a plugin for it.   That is why I would usually pick it over jQuery Mobile for writing a native application in <a href=\"http://phonegap.com\">Phonegap</a>.</p>\n<p>jQuery Mobile is definitely easier to apply to an existing mobile site.  It provides great progressive enhancement though it&#39;s smooth transitions and smart navigation.  However, I would feel very limited with it if I was trying to write a sophisticated application.</p>\n<p>What are your thoughts?  Have you used jQuery Mobile or Sencha Touch?  Which do you prefer and why?</p>\n"},"javascript-variable-casing-best-practices":{"published":true,"title":"JavaScript Variable Casing Best Practices","tags":["JavaScript"],"category":"code","date":"2-8-2011","thumbnail":"/images/blog/casing.jpg","slug":"javascript-variable-casing-best-practices","yield":"<p>JavaScript is a loosely-typed case sensitive language.  Technically everything in the language is a variable.  Yes, it may be a string, a function, an array or an object, but everything is a variable at its core.  Because you can make your variables all lowercase or all uppercase or anywhere in between, its important for the sake of code readability to have a pattern for how the variables will be cased.</p>\n<!-- more -->\n<p>The following is the best practices for variable casing and is useful to encourage a greater consistency in JavaScript code:</p>\n<h3>Variables</h3><p>For dynamic strings, ints, floats and arrays, use camel casing.</p>\n<pre><code class=\"language-javascript\">var myVariable = &#39;This is my string&#39;;\nconsole.log(myVariable);\n</code></pre>\n<h3>Objects</h3><p>Classes should be camel-cased.</p>\n<pre><code class=\"language-javascript\">var myObject = { hello: &#39;world&#39; };\nconsole.log(myObject);\n</code></pre>\n<h3>Constants</h3><p>Constants are similar to dynamic variables, but the difference is that they should never change once they are set.  Think of these as configuration variables.  Constants should be upper cased with an underscore between each word.</p>\n<pre><code class=\"language-javascript\">var MY_CONSTANT = I am a constant!;\nconsole.log(MY_CONSTANT);\n</code></pre>\n<h3>Functions and Methods</h3><p>Functions and methods should both use camel casing.</p>\n<pre><code class=\"language-javascript\">var myFunction = function(){\n   console.log(I am a function!);\n};\nmyFunction();\n</code></pre>\n<h3>Classes</h3><p>Classes look quite a bit like functions, but they are initialized using new. JavaScript classes should use upper casing.</p>\n<pre><code class=\"language-javascript\">var MyClass = function(){\n   this.alert = function(){\n      console.log(I am a Class!);\n   }\n}\n\nvar getClass = new MyClass();\ngetClass.alert();\n</code></pre>\n<p>Obviously, this isn&#39;t going to instantly fix all of the coding issues in the world, but follow these guidelines and your code <em>will</em> be just a little more legible!</p>\n"},"script-loaders":{"published":true,"title":"Script Loaders","tags":["JavaScript"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/loader.jpg","slug":"script-loaders","yield":"<p>There has been much discussion in the JavaScript community about  JavaScript loaders, whether they are needed, what they do and whether it  should be a function of the browser.  I figured while there is so much  buzz around the topic, it&#39;s a good time to put in my own thoughts.</p>\n<!-- more -->\n<h3>What is a script loader?</h3><p>Before I get too deep into this, I should probably define what a  script loader actually does.  You see, a script loader is a bit of  JavaScript that loads other JavaScript files.  Using a script loader can  have many advantages:</p>\n<ul>\n<li>All of the JavaScript files can be found in one place instead of being scattered across the page as it loads.</li>\n<li>The code can be loaded and saved and then executed later.</li>\n<li>Script loaders allow you to load your scripts either asynchronously (at the same time) or synchronously (one after another.)</li>\n</ul>\n<p>There are many script loaders that are out there now.  These include <a href=\"http://stevesouders.com/controljs/\">ControlJS</a>, <a href=\"http://jupiterjs.com/news/stealjs-script-manager\">StealJS</a>, and <a href=\"http://labjs.com/\">LabJS</a> among many other script loader alternatives.</p>\n<h3>Arguments against script loaders</h3><p>There are some arguments that could be voiced against script loaders.  This could include:</p>\n<ul>\n<li>Script loaders require additional client-side code just to load more  code.  The more client-side code there is on a page, the longer it  takes to load.  This doesn&#39;t even take the hit to the web server into  account.</li>\n<li>Production Client-side code should be compressed into as few files  as possible to maximize load times.  Using a loader encourages more  files, not less.</li>\n<li>Good developers will not use too many global functions and  variables, but will only execute functions as they are needed, so the  ability to grab code and execute it later may not be that big of a deal.</li>\n<li>Traditional JavaScript executes as it loads in the order that it  loads.  Loaders could make complicate something that already works well  as long as it is understood.</li>\n</ul>\n<p>There is an argument that the new HTML5 specifications should include  the ability to group scripts and to chose whether they load  synchronously or asynchronously.  It&#39;s a nice thought, but we should be  realistic about how long it could take to actually get something like  that to a point where browsers are actually supporting it.  We all know  that there are certain browsers out there who still don&#39;t even come  close to supporting the current HTML specifications.</p>\n<p>There are definitely some uses for script loaders, but I don&#39;t think  the use of them or the lack of them is going to make or break a web  application anytime soon.</p>\n<p></p>\n"},"putting-ext-mvc-on-hold":{"published":true,"title":"Putting EXT MVC on Hold","tags":["EXT","Architecture"],"category":"code","date":"1-1-2011","thumbnail":"/images/blog/stop.jpg","yield":"<p>I&#39;m thinking about putting my series on application architecture in EXT and Sencha on hold for now because the Sencha team has announced their plans for EXT 4.0 which looks like it will include a very nice MVC framework built in.</p>\n<!-- more -->\n<p>My plan is to restart this series when the new version of EXT comes out next year. I&#39;m sorry for the false start here, but I really think this will be even better this way.</p>\n","slug":"putting-ext-mvc-on-hold"},"mvc-and-extjs--2-config":{"published":true,"title":"Configuration For EXTJS MVC Applications","tags":["EXT","Architecture"],"category":"code","date":"11-1-2010","thumbnail":"/images/blog/2.png","slug":"mvc-and-extjs--2-config","yield":"<p>This post is directly related to my previous post on <a href=\"/blog/mvc-and-extjs-1-introduction/\">MVC and EXTJS</a>.   If you haven&#39;t read it yet, I&#39;d suggest that you take a look at it before diving into this one.</p>\n<!-- more -->\n<p>For the purpose of demonstration, we&#39;ll be building a simple application that displays photos from various APIs.</p>\n<p>The first thing you&#39;ll need is an HTML file that all of your JavaScript and CSS files will be loaded through.  If you are using a server-side technology such as Coldfusion or ASP.NET, you can use a URL parameter to distinguish whether to render your code in &quot;production mode&quot; or &quot;development mode.&quot;  I usually do something like <code>http://mySite.com/index.cfm?mode=d</code>. If the mode parameter is &quot;d&quot;, I show the uncompressed and uncombined scripts and styles.  Otherwise, I will assume that it is in production mode and show only one JavaScript file, which is a compressed and combined file of all of the other JavaScript files and only one CSS file, which is a compressed and combined version of all of the development styles.  Here is a bare-bones version of what an index page will look like.  I&#39;ll write it in Coldfusion, but it can be translated to whatever technology you use.</p>\n<pre><code class=\"language-html4strict\">&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n   &lt;head&gt;\n      &lt;title&gt;My MVC EXTJS Application&lt;/title&gt;\n         &lt;cfif URL.mode EQ &#39;d&#39;&gt;\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;js/com/ext/resources/css/ext-all.css&quot; /&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/com/ext/adapter/ext/ext-base.js&quot;&gt;&lt;/script&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/com/ext/ext-all-debug.js&quot;&gt;&lt;/script&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/org/development/Config.js&quot;&gt;&lt;/script&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/org/development/Application.js&quot;&gt;&lt;/script&gt;\n         &lt;cfelse&gt;\n            &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;css/org/production/Application.css&quot; /&gt;\n            &lt;script type=&quot;text/javascript&quot; src=&quot;js/org/production/Application.js&quot;&gt;&lt;/script&gt;\n         &lt;/cfif&gt;\n         &lt;script type=&quot;text/javascript&quot;&gt;\n            Ext.onReady(function(){\n               // This code will be executed when the page is ready.\n            });\n      &lt;/script&gt;\n   &lt;/head&gt;\n   &lt;body&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>As you can tell, I&#39;m just adding a few files at this point.  We&#39;ll be referencing this file later on and adding to it.  Next we need to set up the Config.js file.  The purpose of the Config.js file is build an object that will hold all of the models, views and controllers as well as set configuration options to access globally.  In our case, this is what the Config.js file will look like.</p>\n<pre><code class=\"language-javascript\">var PhotoViewer = {\n   model: {},\n   view: {\n      Flickr: {}\n   },\n   controller: {},\n   config: {},\n   functions: {}\n};\n</code></pre>\n<p>Remember that the Config file is always included first.  Basically all we are doing here is creating objects to hold all of our data in.  The model will do all of the Ajax calls, the view will do display code, the controllers will do event listening, the functions will hold reusable functions for the application and the config object will hold global variables.  Notice that we have a Flickr object in the view object.  Typically any controller that you create will need to have a matching view object to hold all of it&#39;s views in.  More on that later.</p>\n<p>The next post in this series will be about building the Application.js file, which is where the fun really begins.  See you then!</p>\n"},"mvc-and-extjs-1-introduction":{"published":true,"title":"Getting Started with MVC and EXTJS","tags":["EXT","Architecture"],"category":"code","date":"10-20-2010","thumbnail":"/images/blog/1.png","slug":"mvc-and-extjs-1-introduction","yield":"<p>If you haven&#39;t seen any of the rich interfaces that have been built with EXT JS and Sencha Touch on web applications, Adobe Air applications or native smart phone apps, you will.  The Sencha family gives us everything we need to build large applications, but it doesn&#39;t limit us on how we can write them.</p>\n<!-- more -->\n<p>I&#39;ve seen first-hand how seemingly small amounts of Javascript grow over time to become unmanageable and monstrous. The best way to avoid that is to have some sort of framework so you know where your code will be going.  I&#39;ve written in the past about the need for separating Javascript using MVC patterns.  MVC was created around server-side languages, but the same logic applies.  In Javascript, the Ajax calls and store creation are the model, the event listeners are the controllers and the display logic and DOM manipulation are the view.</p>\n<p>This is most likely going to be a 5 or 6 part series that I create over the next couple of weeks, but I though I would begin here with a brief introduction to the whole idea.  I&#39;ll be delving more into the particulars of this approach, but this is basically what your folder structure will look like for your application:</p>\n<p><img src=\"/images/blog/1-folder.jpg\" alt=\"Directory\"></p>\n<p>You will never directly manipulate the production folder, it is going to be a combination of all of your JavaScript files compressed with YUI or Google Closure.  As far as the files under development, you will be working with them.  My next entry will be about setting up your Config.js (and Application.js if I get to it.)</p>\n"},"sencha-loading-in-the-iphone-4g":{"published":true,"title":"Sencha Loading in the iPhone 4","tags":["Sencha Touch"],"category":"code","date":"10-19-2010","thumbnail":"/images/blog/loading.png","slug":"sencha-loading-in-the-iphone-4g","yield":"<p>So, I recently was working on a project using Sencha Touch and Phonegap to create an iPhone App and everything worked perfectly when I was using the emulator for the iPhone 3, but when I emulated it for the iPhone 4, it wouldn&#39;t load anything at all.  The solution?  Apparently, the DOM was still rendering when the Ext.onReady block was firing because the iPhone 4 was not properly using the Ext.onReady block.  </p>\n<!-- more -->\n<p>I&#39;m still not sure if that was the fault of Sencha Touch or Phonegap, but here is the solution:</p>\n<pre><code class=\"language-html4strict\">   &lt;head&gt;\n      &lt;script&gt;\n         BodyOnLoad = function(){\n            Ext.onReady(function(){\n               // Your code to execute\n            });\n         }\n      &lt;/script&gt;\n   &lt;/head&gt;\n   &lt;body onload=BodyOnLoad()&gt;&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>As you can see, the secret is to use a body onload function to encapsulate the Ext.onReady function so that it doesn&#39;t fire until the body is loaded.</p>\n"},"javascript-variables-accessibility":{"published":true,"title":"Javascript Variables' Accessibility","tags":["JavaScript"],"category":"code","date":"8-24-2010","thumbnail":"/images/blog/wheelchair.png","slug":"javascript-variables-accessibility","yield":"<p>When I started writing JavaScript (and code in general, for that matter), one of toughest things for me to wrap my head around was what variables and functions I could access from where.</p>\n<!-- more -->\n<p>For example, I would try things like this:</p>\n<pre><code class=\"language-javascript\">alert(MyVariable);\nvar MyVariable = &#39;This is a variable!&#39;;\n</code></pre>\n<p>The previous code would fail because the variable hadn&#39;t been set yet when it was called.  Instead, it should look more like this:</p>\n<pre><code class=\"language-javascript\">var MyVariable = &#39;This is a variable!&#39;;\nalert(MyVariable);\n</code></pre>\n<p>The previous code will work because the variable had been set before it was called.  You see, JavaScript is a linear language.  Even files have to be loaded in a linear fashion to guarantee that you aren&#39;t calling any variables that are not already set.  That&#39;s why if you&#39;re using jQuery, you have to load it into the DOM before you load any scripts that use the jQuery library.  I know that&#39;s pretty basic, but it&#39;s the starting point for the rest of this.</p>\n<p>How about this example?</p>\n<pre><code class=\"language-javascript\">function MyFunction(){\n    var myVariable = &#39;Test&#39;;\n}\nMyFunction();\nalert(myVariable);\n</code></pre>\n<p>That example will also fail because the variable is created inside the function and the variable is being called outside of it.  There are a few of ways to access variables that are set inside of functions, however.  The code below will work because the variable is already defined outside of the function.  The variable is updated inside the function, but it is updated before we alert it and so it is still accessible.</p>\n<pre><code class=\"language-javascript\">var myVariable;\nfunction MyFunction(){\n    myVariable = &#39;Test&#39;;\n}\nMyFunction();\nalert(myVariable);\n</code></pre>\n<p>Another way to retrieve variables set inside a function is to return them.</p>\n<pre><code class=\"language-javascript\">function MyFunction(){\nvar myVariable = &#39;Test&#39;;\n    return myVariable;\n}\nvar myVar = MyFunction();\nalert(myVar);\n</code></pre>\n<p>The code above will work because the function doesn&#39;t rely on any global variables and it simply returns the variable that is set inside of it.  In this case, you could literally say that MyFunction equals &#39;Test.&#39;  You can also return the variable using the &#39;this&#39; associated with the function:</p>\n<pre><code class=\"language-javascript\">function MyFunction(){\n    this.myVariable = &#39;Test&#39;;\n}\nvar myVar = MyFunction().myVariable;\nalert(myVar);\n</code></pre>\n<p>When trying to figure out if a variable will be accessible, ask yourself if it is on the same level (not nested in a function) as the place you are attempting to call the variable or if it is a parent (a function or more higher than the variable you are attempting to call.)  If the answer is yes, then you will be able to get to the variable.  That&#39;s why something like this won&#39;t work:</p>\n<pre><code class=\"language-javascript\">function MyFirstFunction(){\n    var myVariable = &#39;Test&#39;;\n}\nfunction MySecondFunction(){\n    alert(myVariable);\n}\nMyFirstFunction();\nMySecondFunction();\n</code></pre>\n<p>But this will:</p>\n<pre><code class=\"language-javascript\">var myVariable;\n    function MyFirstFunction(){\n    myVariable = &#39;Test&#39;;\n}\nfunction MySecondFunction(){\n    alert(myVariable);\n}\nMyFirstFunction();\nMySecondFunction();\n</code></pre>\n<p>Any questions?</p>\n"},"sencha-application-event-listening":{"published":true,"title":"Sencha Application Event Listening","tags":["Sencha Touch","EXT"],"category":"code","date":"7-17-2010","thumbnail":"/images/blog/senchalistening.png","slug":"sencha-application-event-listening","yield":"<p>If you&#39;re like me, you are constantly looking for better ways to architect your JavaScript applications to be scalable and modular.  One of the keys to writing an application that fits the bill is to use reusable components that, instead of calling other functions or components directly, broadcast events that multiple components may be listening for.  I&#39;ve been on a hunt to figure out how to do this correctly for a while now and I&#39;ve finally come upon a few good solutions.</p>\n<!-- more -->\n<p>For those of you who don&#39;t know, <a href=\"http://sencha.com\">Sencha</a> (formerly known as EXT) is a JavaScript library that provides tons of tools for Rich Internet Application development.  If you are curious about what it can do, <a href=\"http://www.sencha.com/deploy/dev/examples/\">check out some examples</a>.  If you are writing a Sencha application, a big part of the job is already done for you.  In this post, I will assume that you already have a basic knowledge of EXT / Sencha and that you know how to get it up and running.</p>\n<p>First of all, you need an application component.  This is the main component that all of the other components live inside.  It doesn&#39;t matter what kind of component it is as long as it is a valid EXT component that can contain other EXT components.  For example:</p>\n<pre><code class=\"language-javascript\">var application, MyApplication;\n\nMyApplication = Ext.Extend(Ext.Panel, {\n    height: 500,\n    width: 700,\n    initComponent: function(){\n        this.items = [\n            new MyContainer({\n                application: this\n            }),\n            new MyButton({\n                application: this\n            })\n        ];\n        this.supperclass.initComponent.call(this);\n    }\n});\n\napplication = new MyApplication();\napplication.render(document.body);\n</code></pre>\n<p>Some things to make note of are that the Application is extending the EXT Panel.  When the component is initialized, a function is being called that uses the component as the &quot;this.&quot;  We added an event called &quot;myCustomEvent&quot; that we will now be able to listen to and fire.  Also, we initialized a component called &quot;myButton&quot; and a component called &quot;myContainer&quot; and passed the application into them.  Shall we proceed?</p>\n<p>Next, we need to create the &quot;myButton&quot; component.  Don&#39;t forget to include this above the application in your code, or the &quot;myApplication&quot; component won&#39;t know where to find &quot;myButton.&quot;</p>\n<pre><code class=\"language-javascript\">var MyButton;\n\nMyButton = Ext.Extend(Ext.Button, {\n    text: &#39;Click Me&#39;,\n    initComponent: function(){\n        var application = this.application;\n        this.handler = function(e){\n            var myVariable = &#39;This is my variable that I am passing around&#39;;\n            application.fireEvent(&#39;myCustomEvent&#39;, myVariable);\n        };\n        this.supperclass.initComponent.call(this);\n    }\n});\n</code></pre>\n<p>What&#39;s happening here is that we are creating a button that fires a &quot;myCustomEvent&quot; event when it is clicked and passes a variable that we just made up.  You can pass as many variables as you need to here, and they will typically be more useful than a string that says &quot;this is a variable.&quot;  It&#39;s just an example, silly.</p>\n<p>Last of all, we need to make an event listener that will &quot;hear&quot; the &quot;myCustomEvent&quot; being announced and will act upon it.  The great thing about building an application this way is that it won&#39;t break if there ceases to be a component listening for your event, or if the event ceases to be announced.  The application simply handles sending and receiving events.  So, our listener will look something like this:</p>\n<pre><code class=\"language-javascript\">var MyContainer;\n\nMyContainer = Ext.Extend(Ext.Container, {\n    text: &#39;Some Text&#39;,\n    initComponent: function(){\n        this.application.addListener(&#39;myCustomeEvent&#39;, function(myVariable){\n            alert(myVariable);\n        });\n        this.supperclass.initComponent.call(this);\n    }\n});\n</code></pre>\n<p>This adds an event listener that fires when the &quot;myCustomEvent&quot; is fired and alerts us with the variable.  You can also use the &quot;component&quot; variable that we created to modify the myContainer component based on the event variables.  When put together, our code looks something like this:</p>\n<pre><code class=\"language-javascript\">/*global Ext, alert, document */\n\nvar application, MyContainer, MyButton, MyApplication;\n\nMyContainer = Ext.Extend(Ext.Container, {\n    text: &#39;Some Text&#39;,\n    initComponent: function(){\n        this.application.addListener(&#39;myCustomeEvent&#39;, function(myVariable){\n            alert(myVariable);\n        });\n        this.supperclass.initComponent.call(this);\n    }\n});\n\nMyButton = Ext.Extend(Ext.Button, {\n    text: &#39;Click Me&#39;,\n    initComponent: function(){\n        var application = this.application;\n        this.handler = function(e){\n            var myVariable = &#39;This is my variable that I am passing around&#39;;\n            application.fireEvent(&#39;myCustomEvent&#39;, myVariable);\n        };\n        this.supperclass.initComponent.call(this);\n    }\n});\n\nMyApplication = Ext.Extend(Ext.Panel, {\n    height: 500,\n    width: 700,\n    initComponent: function(){\n        this.items = [\n            new MyContainer({\n                application: this\n            }),\n            new MyButton({\n                application: this\n            })\n        ];\n        this.supperclass.initComponent.call(this);\n    }\n});\n\napplication = new MyApplication();\napplication.render(document.body);\n</code></pre>\n"},"should-i-use-a-javascript-framework":{"published":true,"title":"Should I Use a JavaScript Framework?","tags":["JavaScript"],"category":"code","date":"6-12-2010","thumbnail":"/images/blog/framework.png","slug":"should-i-use-a-javascript-framework","yield":"<p>There are literally tons of JavaScript frameworks out there to ease the pain of website and application development.  Obviously, the most popular one out there right now is <a href=\"http://jquery.com\">jQuery</a>, but that is not to say that there are not other libraries out there.  So the question becomes, should developers use libraries or is it just a crutch that keeps them from learning real JavaScript?  Here are some thoughts on the subject.</p>\n<!-- more -->\n<ul>\n<li><p>I think that everyone should start out learning the basics of JavaScript before learning a library.  When you see some of the things that you can do with <a href=\"http://jquery.com\">jQuert</a> or <a href=\"http://developer.yahoo.com/yui/\">YUI</a> or <a href=\"http://www.prototypejs.org/\">Prototype</a>, you&#39;ll probably want to jump right into the framework, but here are some benefits of learning JavaScript proper to begin with:</p>\n<ul>\n<li>When you know the basics of JavaScript such as how to loop over an array, how to write a conditional statement and how to manipulate the DOM, you&#39;ll have a better understanding of what the library your using is doing.  Contrary to popular opinion, jQuery is not magic, and it does not do anything that you couldn&#39;t do with plain JavaScript, it just makes it easier to do things that would previously have taken more code by running the variables you give it through functions.</li>\n<li>When you know the basics, you will be able to tell when something is easier to do without the library and when the library is helpful.  You won&#39;t have to trust that it&#39;s necessarily better just because it&#39;s a library method.  It may not be.</li>\n<li>Libraries have limitations.  There are things that you can do with plain JavaScript that you can&#39;t do with a library.  No JavaScript library was built to be a replacement for JavaScript, they were all written to be an addition to it.</li>\n</ul>\n</li>\n<li><p>Once you know the basics of JavaScript, using a framework or library will help you to write less code and do more with it.  Specifically with jQuery, manipulating the DOM, applying listeners and events and performing Ajax requests requires significantly less code.</p>\n<ul>\n<li>Frameworks and libraries extend functions that somebody else wrote, so you don&#39;t have to.  Let&#39;s just face it, <a href=\"http://ejohn.org/\">John Resig</a> and the jQuery team could probably write loops around you with their code.  They are good at what they do.  The best part is that they already did it, so you don&#39;t have to.  You can focus on other things!</li>\n<li>Don&#39;t get too attached.  If you can, try to abstract the way you interact with your framework in case you ever need to switch frameworks or the framework you use stops being supported.  These things happen.  I&#39;ve been trying to find an article abstracting JavaScript frameworks to point you to, but I haven&#39;t found one yet.  Perhaps I will have to write one.</li>\n</ul>\n</li>\n</ul>\n<p>These are my thoughts on the subject.  Can you think of any arguments for or against using JavaScript frameworks?</p>\n"},"seo-safe-links-with-an-ajax-callback":{"published":true,"title":"SEO-Safe Links with an Ajax Callback","tags":["JavaScript","HTML","jQuery"],"category":"code","date":"4-8-2010","thumbnail":"/images/blog/seosafe.png","slug":"seo-safe-links-with-an-ajax-callback","yield":"<p>Ajax is awesome for things like rich internet applications that don&#39;t require SEO because of their internal nature, or for on-page events like form validation and submitting, but from an SEO standpoint, adding content to the DOM is illegible. But you still want the increased usability of not having to reload the page every time an element or two is changed, right?  The fact is that users don&#39;t like waiting on your page to load, and the more you can do to keep from reloading the whole thing, the better.  But still, there&#39;s the problem of JavaScript DOM manipulation not jiving with Search Engine Optimization.  What&#39;s a person to do?</p>\n<!-- more -->\n<h3>Start with a normal link</h3><p>Start with a link on your page linking to the actual file you want to link to.  This version of the file should include everything that it needs to look good.  This includes the header, footer and any other page elements.  It is what your users will see if they turn off their JavaScript.  It should look something like this:</p>\n<pre><code class=\"language-html4strict\">&lt;a title=&quot;My File&quot; href=&quot;myFile.php&quot;&gt;My File&lt;/a&gt;\n&lt;div id=&quot;container&quot;&gt;&lt;/div&gt;\n</code></pre>\n<h3>Don&#39;t actually go to the file you are linking to</h3><p>Instead of actually going to the link, you are going to use some JavaScript to load the element through Ajax.  My example is in jQuery, but if you prefer a different library, the concept is still applicable.  Please note that if you are going to use the bind method, you&#39;ll need to be using jQuery 1.4 or higher.</p>\n<pre><code class=\"language-javascript\">$(&#39;a&#39;).bind({\n   click: function(){\n      $.ajax({\n         url: $(this).attr(&#39;href&#39;),\n         data: { display: &#39;ajax&#39; },\n         success: function(view){\n            $(&#39;#myContainer&#39;).html(view);\n         }\n      });\n      return false;\n   }\n});\n</code></pre>\n<p>Basically what&#39;s happening here is that we&#39;re returning false on the click function so that the link isn&#39;t actually fired.  We&#39;re looking at the href property of the &lt;a&gt; tag but we&#39;re also adding <code>?display=ajax</code> to the query string.  We&#39;re taking the content that is returned and putting it into the container div.  The key here is that we use the query string parameter to tell our server-side script to not include the page elements that it doesn&#39;t need.  Things like &lt;html&gt;, &lt;head&gt; and &lt;body&gt; tags should be excluded along with page elements that are already there like the header and the footer.  Using this method will insure that the linked page loads quickly and that it is completely SEO-friendly.  Obviously, you&#39;ll need to make some modifications to the selectors and the targeted DOM element, but the concept should be able to remain pretty consistent.</p>\n<h3>Change the location bar in the browser</h3><p>Changing the location bar in the browser accomplishes two things from a usability standpoint.  First, it allows the user to navigate with the back button, and second it allows the user to bookmark a particular state of your page.  There is a jQuery plugin called the <a href=\"http://projects.allmarkedup.com/jquery_url_parser/\">jQuery URL Parser</a> that does an excellent job of parsing  URLs, query strings and hash tags.  You can use it to get your new hash tag state when the page is loaded and initialize the appropriate functions.  Changing the hash tag is as easy as this:</p>\n<pre><code class=\"language-javascript\">$(&#39;a&#39;).bind({\n   click: function(){\n      window.location.hash = $(this).attr(&#39;url&#39;);\n   });\n});\n</code></pre>\n<p>As you can see, with the jQuery library, it&#39;s really not hard at all to create an experience that is user-friendly and optimized for search engines.</p>\n"},"javascriptmvc":{"published":true,"title":"Getting Started with JavaScript MVC","tags":["JavaScript","JavaScriptMVC"],"category":"code","date":"3-30-2010","thumbnail":"/images/blog/mvc.png","yield":"<p>Nearly a year ago I was working for a company in the financial services industry that had need for a scalable, secure, AJAX application.  It was extremely large in scale and scope and it quickly became clear that I was going to have to have some sort of organizational structure to build the application upon.  My server-side experience at this point was primarily in writing C#, and I had fallen in love with the organization of the .NET MVC design pattern.  From there, I had been doing some contract work using CakePHP, which is also an MVC framework.  While I had written JavaScript for my websites, an entire application is completely different.  I looked around at frameworks and eventually settled on <a href=\"http://javascriptmvc.com\">JavaScript MVC</a> for its basis in the MVC framework as well as its rich feature set.  So what does JavascriptMVC come with &quot;out of the box?&quot;</p>\n<!-- more -->\n<h3>A great architecture using Model-View-Controller</h3><p>The model handles all of the AJAX calls and post requests, the controller handles all of the events and the view handles the display and DOM manipulation.  The view uses EJS templates, which look very much like XHTML, but you can actually pass JavaScript variables into them and use variables, conditionals and loops not unlike a server-side language.</p>\n<h3>Scaffolding</h3><p>You can essentially create a client-side mockup of you database interactions and work independently of the server when needed.  This is especially handy if the server-side guys are working out a bug and you need to keep pushing forward.</p>\n<h3>Development, Testing and Production modes</h3><p>Development is great for quick and easy modification, but when you actually launch a project, you can minimize and combine all of your files into one HTTP request just by typing a line into the command line via Rhino.  You can easily switch between modes just by changing one line of code.  There is functional and unit testing offered through <a href=\"http://seleniumhq.org/\">Selenium</a> and <a href=\"http://www.mozilla.org/rhino/\">Rhino</a>.</p>\n<h3>Easy Documentation</h3><p>Writing documentation is a breeze because it is generated based on the comments in your code!</p>\n<h3>Error handling.</h3><p>It plugs into <a href=\"https://damnit.jupiterit.com/\">DamnIt</a> to provide error handling and reporting.</p>\n<p>I could go on and on about JavascriptMVC, and I just may end up doing that in the future.  It is incredible, after all.  It&#39;s built around jQuery, so most of the conventions should be familiar to the vast majority of JavaScript people.</p>\n<p>I would encourage you to download it and give it a try.  There is a bit of a learning curve, but there is documentation as well as an introductory video on the <a href=\"http://javascriptmvc.com\">JavaScriptMVC</a> website to get you going.</p>\n","slug":"javascriptmvc"},"javascript-architecture":{"published":true,"title":"Javascript Architecture","tags":["JavaScript","Architecture"],"category":"code","date":"3-11-2010","thumbnail":"/images/blog/architecture.png","slug":"javascript-architecture","yield":"<p>As the web has grown, the Javascript programming language has grown with it to become rich and robust.  Whereas websites used to have only a couple of lines of Javascript code used in them, Javascript has evolved to a point where it often does a large part of the heavy lifting in Internet Application development.  With the evolution of Javascript, the code typically used on a site can often grow to a point where it is bulky hard to maintain if it is not properly constructed.  That&#39;s why the topic for today is on how to architect Javascript in such a way to make it easy to maintain. Javascript is a programming language, after all, so we should treat it with the same care and respect we would treat server-side code.</p>\n<!-- more -->\n<h3>Why do I need Javascript Architecture?</h3><p>If you are the only person who will ever work with the code you are writing, you will at some point have to modify it.  It&#39;s a fact.  Code that never gets modified is a sign of a dead website.  In order to modify your code, you need to write it to be easily modified without breaking other things and it needs to be easy to find what you are looking for in order to change it.  If other people will be looking at your code, whether in a development environment or if you ever leave your current job and someone else has to pick up where you left off, it is crucial that your code be pristine.  So where do you start?  Glad you asked.</p>\n<h3>Pick a library</h3><p>I recently saw a poll that said that 95% of developers were using jQuery, but there are several other Javascript libraries out there that are fast gaining popularity like DOJO, YUI, Prototype, EXTJS and Moo Tools to name just a few.  Why do you need a Javascript library?  Of course, you can do anything with plain Javascript that you can do with a library, but these libraries extend functions and methods that help you to do it using far less code.  Instead of reinventing the wheel every time you sit down to write your code, you can work have a starting place created by programmers who have devoted their time to give you the cleanest code possible.</p>\n<h3>Use a connection object</h3><p>Think of the connection object as the central hub or location where your application gets, stores and updates it&#39;s data.  The key responsibilities of the connection object include initializing the modules and passing information between modules.  This creates what we call &quot;Loose Coupling&quot; between the modules, which allows the modules to be dumb to each others existence.  When a module object is updated it passes the connection object the new data and the connection object essentially shouts out to the other modules &quot;Hey!  Over here!  I&#39;ve got some new updates!&quot; The other modules may ignore the announcement or they may act on the new information, but the connection object doesn&#39;t care either way, it just takes in information and sends it out.</p>\n<h3>Think in modules</h3><p>If you have a Google or Yahoo homepage, you know what I mean by modules, take any web application and imagine breaking it down into small pieces.  For example, on this website, you could break it down into a header, a sidebar and a footer.  The content portion could be broken down even further.  The comments could certainly be a module, for example.  Determine where the breakdowns occur and write your code completely separately for each individual module.  This can be broken down even further by using MVC design patterns to separate the modules even further.  The two best Javascript MVC frameworks that I have seen are <a href=\"http://code.google.com/p/trimpath/\">Trimpath</a> and <a href=\"http://javascriptmvc.com\">JavaScriptMVC</a>JavascriptMVC. If you spend a large amount of time talking to me about Javascript architecture, you probably hear me drooling over JavascriptMVC.  I&#39;m planning to write an entire post covering the rich complexities of the JMVC framework in the future, but for the sake of this post, just let it be known that I like it because it assists in writing large-scale ajax projects.</p>\n<p>One thing to keep in mind whether you use an MVC framework or you just write modular code individually is that modules should never interact directly with each other.  For all purposes, a module should be dumb to another modules existence.  When a module needs to apply something other modules, it should be passed to the connection object that informs all of the modules that a change has occurred.  If any of the modules need the change, they will grab it from the connection object, not from the effected module itself.  This keeps the actions separate and keeps modules from being broken due to changes in other modules.  This greatly reduces the chance that your entire application will ever be effected by changing a single element of it.</p>\n<h3>Build a library connection object</h3><p>A fourth measure of separation that I have read about but have to admit I&#39;ve never used is to write an object that acts between the library and the modules create loose coupling to the library.  This object only extends methods that are used by the modules from the library.  The idea behind the library connection object is that if the library is ever replaced, (for example, if you need to switch from Moo Tools to Prototype because it offers functionality that isn&#39;t available in Prototype), you can easily transition to the new library without having to re-write all of your modules.</p>\n<p>If you&#39;re anything like me, you probably need something visual to show the work-flow I&#39;m proposing.  Here&#39;s a simplified example of what this might look like.  The arrows show what is being send in and what is being received by each object and module.</p>\n<p><img src=\"/images/blog/javascriptarchitecture2.jpg\" alt=\"Illustration\"></p>\n<p>As always, I&#39;m only skimming the surface of this topic.  I will try to revisit it soon.  How do you architect your Javascript applications?</p>\n"},"links-and-user-experience":{"published":true,"title":"Links and User Experience","tags":["User Experience","Design"],"category":"design","date":"2-21-2010","thumbnail":"/images/blog/links.png","slug":"links-and-user-experience","yield":"<p>If I haven&#39;t said this before, I am seriously planning on showing more code in some of my post in the near future.  This one is slightly related to my previous blog entry, <a href=\"/blog/what-is-user-experience-user-interface/\">What is UI / UX?</a> but I will be more focused because I&#39;m just going to be talking about how links relate to user experience on websites.  First, we&#39;ll take a history lesson.</p>\n<!-- more -->\n<p>When the Internet and web browsers first became available to the public, the link was a convention that was quickly adapted to allow users to navigate multiple pages within a single site, or to even point to pages contained in different websites.  Before links, navigating the internet was practically impossible because you had to know the exact location of the information that you were looking for.  I&#39;m sure you never would have found this blog entry, much less my website, if it weren&#39;t for links.  When links were introduced, there had to be a visual cue to show people that they could click on them.  Remember, we&#39;re still talking old-school here, websites with white backgrounds and huge blocks of white text, sometimes using frames for navigation.  The way that links looked different from the regular text was that it was blue and underlined and when you scrolled over it, the cursor for your mouse would change to an image of a finger pointing at the the link.  Who couldn&#39;t help but click on something so enticing?</p>\n<p>Things have changed a little now and users have become increasingly perceptive to what a link will be.  The way that development is done has changed also.  In the beginning, when you clicked on a link, the expectation was that the link would take you to a different page containing the information you would like to see.  Now, a link could be in the form of an AJAX request that simply appends a string of HTML to an existing element, or it could be contained within Flash or Silverlight.  With CSS, the way that links are displayed can be completely customized, so the days of being tied down to underlined blue text is no more.  So what do users expect a link to look like now?</p>\n<p>First of all, they expect for it to stand apart from everything else.  Users are increasingly forgiving in case of navigation when they see links grouped together, but when it comes to links within the body copy, they expect to have some sort of visual feedback that tells them that an element is clickable.  Always use the pointing finger cursor on links.  This is especially important to remember if you&#39;re using JavaScript to make something clickable that isn&#39;t technically a link.  It&#39;s as easy as adding this line to your stylesheet:</p>\n<pre><code class=\"language-css\">.myElement { cursor: pointer; }\n</code></pre>\n<p>Underlining links is another great way to show people that an element is clickable.  Never ever underline something that isn&#39;t a link on a web page.  Make it bold or italic if you need to create emphasis, but underlining should be exclusive to links.  There are certain cases where a link doesn&#39;t have to be underlined, but be very cautious about these exceptions because they are rare.  For example, in the navigation or the footer or sometimes within special elements of a page such as an image gallery where navigation is implied.</p>\n<p>Links don&#39;t necessarily have to be blue anymore, as the Internet users have become increasingly savvy, but it is important to make them a different color than the other text.  This creates visual separation.  Also, be aware of who your main audience is, if they are in a demographic that isn&#39;t as familiar with modern web browsing (I&#39;m thinking specifically of the elderly or people in areas that have only recently gotten connected to the Internet), you should maintain the classic link style.  I know it isn&#39;t as pretty from a design standpoint, but where usability is concerned, it&#39;s important to make content as accessible as possible to your audience.</p>\n<p>This is something I actually need to improve on, but especially on larger websites, it&#39;s helpful to the user to know what links they have already clicked.  This can be as simple as changing the color slightly for visited links in your stylesheet like this:</p>\n<pre><code class=\"language-css\">a:visited { color: #myNewColor; }\n</code></pre>\n<p>The good thing about providing feedback for visited links is that it shows visitors where they have already been so that they can return to that location if they need to revisit it or so that they can continue on to new information that hasn&#39;t been marked as visited yet.</p>\n<p>Hover states for links are another good way to give added emphasis that an action will result from the element being clicked.  This can be as simple as turning the link more vibrant with CSS.</p>\n<p>Last of all, never target a page to open in a new window unless it is on a different website.  For example, if your website is linking to a video on YouTube, open it in a new window.  If it is linking to another page on your site, keep it in the same window.  I should say though, that there are two separate schools of though on this one.  Some people say that you should never target a new window because it interferes with the user&#39;s browsing experience.  If they don&#39;t realize that a new window or tab has been opened, they may attempt to use the back button on their browser and be unable to return to your page not knowing that it was actually never accessed in their current window.  So, use the target=&quot;_blank&quot; attribute or it&#39;s JavaScript equivalent at your own risk.</p>\n<p>I hope I&#39;ve covered some of the basics for user experience when it comes to links.  If you have any questions, comments or corrections, don&#39;t hesitate to let me know.</p>\n"},"what-is-user-experience-user-interface":{"published":true,"title":"What is UI / UX?","tags":["Design","UI","UX"],"category":"design","date":"2-11-2010","thumbnail":"/images/blog/uiux.png","slug":"what-is-user-experience-user-interface"},"what-google-looks-for":{"published":true,"title":"Search Engine Optimization 101","tags":["SEO"],"category":"code","date":"1-29-2010","thumbnail":"/images/blog/search.png","slug":"what-google-looks-for"},"code-seperation":{"published":true,"title":"Code Separation","tags":["Architecture"],"category":"code","date":"1-28-2010","thumbnail":"/images/blog/seperation.png","yield":"<p>A couple of years ago, if you had asked me what my take on design patterns for internet applications was, I would have probably given you a blank, questioning stare.  You see, as sad as it is, proper design and architectural patterns aren&#39;t exactly the norm in the web development world.  Today, I&#39;m going to give you a quick overview on what architectural design patterns are and why they&#39;re important and then focus in on MVC.</p>\n<!-- more -->\n<h3>I like to have all of my code in one file.  Isn&#39;t that the best way?</h3><p>When I first started making websites, I was 13 years old.  This was just when the internet was becoming something more than a place for email and messaging groups.  I set up my first website, which was a Star Wars fan page on Geocities and I was very satisfied with it.  The problem was that within about a week, I  wanted to change my neon-green typefaces to red.  The problem was that I had hard-coded each of my headers to be shown in that brilliant neon-green.  I couldn&#39;t just flip a switch or re-write a single line of code and change my beautiful comic-sans typography, I had to go through every single page and change every single hexadecimal value.  This took hours.  It took so long, in fact, that by the time that I was done, I had changed my mind and decided that I would prefer a blue typeface instead.  This was before I knew anything about external style sheets, and in all actuality, I&#39;m not entirely certain that my early version of Internet Explorer would have even supported them.</p>\n<p>Fast forward ten years.  By this point I&#39;ve learned the importance of having separation in my client-side code.  I have all of my Javascript, CSS, flash, images and media sitting in their own tidy folders and I&#39;ve even gotten a master page and includes.  Let&#39;s even say for the sake of argument that I&#39;ve been able to stay away from writing inline queries to my database and I even have a code-behind file doing the actual work for each of my pages.  I&#39;m doing pretty good, right?  Wrong.  The code still isn&#39;t all that separated.  My code-behind file is a jumble of actions that the page is supposed to perform, queries to the database, whether inline or through a function, and display logic.  When you have an entire development team working to decipher and update code under these circumstances, you end up with confusion that hasn&#39;t been rivaled since the tower of Babel.  There has to be a better and cleaner way to create code, right?  I&#39;m glad you asked.  Enter architectural patterns.</p>\n<h3>What are architectural patterns?  Why do I care?</h3><p>There are a large number of architectural patterns out there for development.  Some of the big important ones are:</p>\n<ul>\n<li>Model View Controller</li>\n<li>Model View ViewModel</li>\n<li>Model View Presenter</li>\n<li>Presentation Abstraction Control</li>\n</ul>\n<p>The basic idea behind all of these is to separate the coding logic into bite size pieces that can be easily found and manipulated and that link to the other related pieces correctly.  If you&#39;re a developer, these patterns will help you easily manipulate your own code and it will help anyone who comes after you as well.  If you are hiring a developer, it will save you money because instead of wrestling to get a project working, your developers will be dancing with the project.</p>\n<h3>What is MVC?</h3><p>MVC is an acronym for <em>Model-View-Controller</em>.  In this design pattern, every page is associated with a model, a view and a controller, which can all be found in appropriately labeled folders.</p>\n<h4>Controller</h4><p>When someone goes to a page, the controller is accessed.  It essentially acts as a traffic director, telling the browser what to do.  The controller will look to the model and to the view.</p>\n<h4>Model</h4><p>The model handles all of domain-specific data.  If your application uses a database, the model interacts with the database and builds objects that can be accessed in the view and in the controller.  It passes the objects back to them.</p>\n<h4>View</h4><p>The view is the display.  The view accesses any objects that are built in the model or in the controller.  Think of this as the display.</p>\n<p>This is just the very basic beginning point to understanding code separation and MVC.  For further reading on this and many other exciting subjects, subscribe to our RSS feeds and stay tuned.</p>\n","slug":"code-seperation"},"killing-ie6":{"published":true,"title":"Killing IE6","tags":["Browsers"],"category":"code","date":"1-27-2010","thumbnail":"/images/blog/ie6.png","yield":"<p>Microsoft released Internet Explorer 6 nearly eight years ago in August of 2001. Since then, they have released two new versions of their web browser, IE7 and IE8 and have officially stopped supporting the outdated cousin, IE6. So why is it that most web developers are still supporting a browser that even Microsoft itself has turned its back on?</p>\n<!-- more -->\n<p>Here are some interesting statistics on the use of Internet Explorer 6 according to <a href=\"http://www.w3schools.com\">w3schools.com</a>:</p>\n<ul>\n<li>In May of 2008, 27.3% of Internet users were using the IE6 browser</li>\n<li>By May of 2009, the number had dropped to 14.5%</li>\n</ul>\n<p>The number is still significantly higher than those using Google Chrome, Safari, Opera or even IE8 at this time, but it is rapidly decreasing and it is my suggestion that we as web developers continue to aid in its decline. What&#39;s wrong with IE6? You might ask. Here are a few things I&#39;ve noticed in developing web pages:</p>\n<h3>There is no support for PNG images built in to the browser.</h3><p>For those of you who don&#39;t know, PNG images allow web designers to have clean transparencies and shadows in their designs in a way that a GIF image never could. Each pixel in a GIF image is either completely transparent or it is completely a color  there is no way to have an image gradually become transparent semi-transparent. This often results in transparencies that appear grainy and are unusable for good web design. There are Javascript and CSS workarounds that fix PNG files, but every one that I&#39;ve had experience with takes a little longer to load and looks bad during the process of loading.</p>\n<h3>Bad rendering of style sheets.</h3><p>IE6 renders several tags such as float, padding and margin completely differently than any other browser. Many of these issues were resolved in Internet Explorer 7. This is one of the reasons why most websites either use IE6 hacks or IE6 conditional stylesheets to correct the little abnormalities that plague the IE6 styling.</p>\n<h3>Flickering rollover images.</h3><p>When you use background images as rollovers with the :hover property in CSS, the image will flicker. This can be solved using Javascript, but who wants that?</p>\n<h3>Min-Height.</h3><p>The Min-Height CSS property doesn&#39;t work at all.</p>\n<h3>Crashing.</h3><p>The IE6 browser is extremely buggy and there have been many instances of simple code crashing it.</p>\n<h3>Fixing time.</h3><p>Most developers use 1/4 to 1/3 of their time fixing stylesheets and Javascript for Internet Explorer 6. Isn&#39;t there a better way to spend our time?</p>\n<p>So what should be done about the IE6 browser? How can we bring down the number of users from 14.5% to 0%? My solution is to use a simple Javascript script targeting the IE6 browser and calling the users to upgrade their browser to IE8 or Firefox. If the IE6 users begin to find that they are unable to navigate the web effectively because every other site is calling them to upgrade, they just might decide that they can spare 30 minutes and install a browser that wasn&#39;t produced eight years ago.</p>\n","slug":"killing-ie6"}};
</script>

<div class="span8">

<article>

    <div class="well span2 left thumbnail  thumbnail-main">
      <img src="/images/blog/weights.jpg" />
    </div>

    <h1>Web Developers and Health</h1>

    

    <h5><span class="label label-info"><a href="/?category=health">health</a></span> | 3-6-2011</h5>

    <p>It&#39;s no secret that web developers don&#39;t lead a very active lifestyle. In fact, from the day I entered college until a couple of weeks ago, I had gained almost 25 pounds thanks to my lack of activity and disregard for the effects of food on my body.</p>
<!-- more -->
<p>However, a couple of weeks ago, I started to turn it all around.  Already, I&#39;ve lost several pounds and I&#39;m starting to feel healthier.  How could a web developer loose weight?  Ironically, the answer is technology.  I&#39;ve been using a free iPhone app from <a href="http://loseit.com">loseit.com</a> to track my calories.</p>
<p>I&#39;ve tried other calorie counting programs like <a href="http://www.sparkpeople.com">Spark People</a>  in the past, but I was never able to get past the poor user experience and confusing interfaces to actually start loosing weight.</p>
<p>Loose It, on the other hand has a very intuitive interface, both on the app and on their website.  It&#39;s so easy that my mom can use it, and she does.  But it&#39;s also an excellent tool for the tech-savy person whose idea of getting out in nature is moving their desk in front of the window.</p>
<p>What do you do to stay in shape in the world of technology?</p>


    <br /><br />

    <div class="bio">
      <div class="span2">
        <img src="/images/about/tyson5.jpg" class="lazy" />
      </div>
      <div class="span5">
        <h3><a href="/about">About the Author</a></h3>
        <p><strong>Tyson Cadenhead</strong> is a Senior JavaScript Developer at <a href="http://aloompa.com">Aloompa</a>. He lives in the greater Nashville area. His specialty is writing large, scalable JavaScript applications on the client and server side. His passions are for good design, usability, and clean, reusable code.</p>
      </div>
    </div>

    <h5>Tags: 
    
        <span class="label">
            <a href="/?tag=Apps">Apps</a>
        </span>
    
        <span class="label">
            <a href="/?tag=Health">Health</a>
        </span>
    
    </h5>

</article>

<div class="share">
    <div class="addthis_toolbox addthis_default_style addthis_32x32_style">
        <a class="addthis_button_preferred_1"></a>
        <a class="addthis_button_preferred_2"></a>
        <a class="addthis_button_preferred_3"></a>
        <a class="addthis_button_preferred_4"></a>
        <a class="addthis_button_compact"></a>
        <a class="addthis_counter addthis_bubble_style"></a>
    </div>
</div>

<h3>Related Posts:</h3>

<div class="span12 related-posts">

  <div class="span2 well thumbnail">
    
    <a href="/blog/ko-ninja-validation"><img src="/images/blog/ninja2.png" /></a>
    <h5>
      <a href="/blog/ko-ninja-validation">Validation</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/what-is-jquery-map"><img src="/images/blog/map.png" /></a>
    <h5>
      <a href="/blog/what-is-jquery-map">What is jQuery.map?</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/knockout-observables"><img src="/images/blog/observers.png" /></a>
    <h5>
      <a href="/blog/knockout-observables">Knockout Observables</a>
    </h5>
  </div>

  <div class="span2 well thumbnail">
    
    <a href="/blog/jquery-mobile-vs-sencha-touch"><img src="/images/blog/mugs.jpg" /></a>
    <h5>
      <a href="/blog/jquery-mobile-vs-sencha-touch">jQuery Mobile vs. Sencha Touch</a>
    </h5>
  </div>

</div>

<div class="google-things">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-5130799763611680"
       data-ad-slot="1525472392"
       data-ad-format="auto"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  </div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'tysoncadenhead';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</div>

<div class="well span3 right overflow-auto">

  <h3>Don't Miss Anything!</h3>
  <h5>Sign Up For My Email Newsletter</h5>

  <!-- Begin MailChimp Signup Form -->
  <link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
  <style type="text/css">
    #mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
    /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
       We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
  </style>
  <div id="mc_embed_signup">
  <form action="//tysoncadenhead.us9.list-manage.com/subscribe/post?u=97e25799111f2cec4dc714a43&amp;id=501ae643d4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Subscribe to our mailing list</label>
    <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
      <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
      <div style="position: absolute; left: -5000px;"><input type="text" name="b_97e25799111f2cec4dc714a43_501ae643d4" tabindex="-1" value=""></div>
      <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
      </div>
  </form>
  </div>

  <!--End mc_embed_signup-->

  <h3>I Wrote a Book!</h3>

  <iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="//ws-na.amazon-adsystem.com/widgets/q?ServiceVersion=20070822&OneJS=1&Operation=GetAdHtml&MarketPlace=US&source=ac&ref=tf_til&ad_type=product_link&tracking_id=tysolloycade-20&marketplace=amazon&region=US&placement=B016QFJVZ2&asins=B016QFJVZ2&linkId=KNSB4DOAIGOWDCDD&show_border=false&link_opens_in_new_window=true&price_color=333333&title_color=115D5A&bg_color=EFEEEE"></iframe>

  <h3>Popular Posts</h3>

  <div id="popular-posts"></div>

</div>

                    
                
            </div>
        </div>
        <script data-main="/js/app.js" src="/js/vendor/require.js"></script>
        <div class="footer">
            <div class="container">
                <div class="addthis_default_style span12 addthis_32x32_style">
                    <a class="addthis_button_facebook_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_twitter_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_linkedin_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_google_follow" addthis:userid="tysoncadenhead"></a>
                    <a class="addthis_button_youtube_follow" addthis:userid="tysoncadenhead"></a>
                    <a href="http://tysoncadenhead.deviantart.com/gallery/" title="Deviant Art" target="_blank" class="deviant-art"></a>
                    <a class="addthis_button_flickr_follow" addthis:userid="tysonlloydcadenhead"></a>
                    <a class="addthis_button_instagram_follow" addthis:userid="tysoncadenhead"></a>
                </div>
            </div>
        </div>
        <script type="text/javascript">
            window.tysonJS = {
                slug: 'web-developers-and-health'
            };
        </script>
    </body>
</html>